"use strict";(self.webpackChunkemporium=self.webpackChunkemporium||[]).push([[592],{6381:(S,c,o)=>{o.d(c,{J:()=>p});var n=o(5521),r=o(4650),d=o(529),l=o(7465);class p{constructor(t,a){this.http=t,this.globalServ=a,this.baseUrl=(new n.P).api_Ip,this.secondPartUrl=(new n.P).api_constant}getCompanies(t){return this.http.get(this.baseUrl+this.secondPartUrl+"atlas/company/allCompanies/?C="+t,this.globalServ.getAuthHeaders())}addCompany(t){return this.http.post(this.baseUrl+this.secondPartUrl+"atlas/company/",t,this.globalServ.getAuthHeaders())}editCompany(t,a,s){const i=new FormData;return null!==s&&i.append("COMLogo",s,s.name),t.COMCode&&i.append("COMCode",t.COMCode.toString()),i.append("COMAraName",t.COMAraName),i.append("COMEngName",t.COMEngName),i.append("COMAddress",t.COMAddress),i.append("COMPhone",t.COMPhone),i.append("COMMobile",t.COMMobile),i.append("COMFax",t.COMFax),i.append("COMDisplayedName",t.COMDisplayedName),this.http.patch(this.baseUrl+this.secondPartUrl+"atlas/company/"+a+"/",i,this.globalServ.getAuthHeaders_for_files())}deleteCompany(t){return this.http.delete(this.baseUrl+this.secondPartUrl+"atlas/company/"+t+"/",this.globalServ.getAuthHeaders())}getOneCompany(t){return this.http.get(this.baseUrl+this.secondPartUrl+"atlas/company/"+t+"/",this.globalServ.getAuthHeaders())}getCompany(t,a){return this.http.get(this.baseUrl+this.secondPartUrl+"atlas/company/allCompanies/?M="+t+"&C="+a,this.globalServ.getAuthHeaders())}}p.\u0275fac=function(t){return new(t||p)(r.LFG(d.eN),r.LFG(l.U))},p.\u0275prov=r.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})},5726:(S,c,o)=>{o.d(c,{v:()=>p});var n=o(5521),r=o(4650),d=o(529),l=o(7465);class p{constructor(t,a){this._HttpClient=t,this.globalServ=a,this.baseUrl=(new n.P).api_Ip,this.secondPartUrl=(new n.P).api_constant}getCustomers(t,a){return this._HttpClient.get(this.baseUrl+this.secondPartUrl+"contracts/customer/customersOnly?M="+t+"&C="+a,this.globalServ.getAuthHeaders())}getCustomersPerParent(t,a,s){return this._HttpClient.get(this.baseUrl+this.secondPartUrl+"contracts/customer/customerPerSpec?M="+t+"&C="+a+"&getrelated=T&customer="+s,this.globalServ.getAuthHeaders())}getOneCustomer(t){return this._HttpClient.get(this.baseUrl+this.secondPartUrl+"contracts/customer/"+t,this.globalServ.getAuthHeaders())}getOneCustomerDocs(t,a,s){return this._HttpClient.get(this.baseUrl+this.secondPartUrl+"contracts/customerdocs/CustomersDocsPerSpec?M="+t+"&C="+a+"&customer="+s,this.globalServ.getAuthHeaders())}addCustomerDocs(t,a){var s=this.baseUrl+this.secondPartUrl+"contracts/customerdocs/";const i=new FormData;return null!==a&&i.append("CUDPic",a),null!==t&&i.append("customer_KeyField",t.toString()),this._HttpClient.post(s,i,this.globalServ.getAuthHeaders_for_files())}addCustomer(t,a,s){var i=this.baseUrl+this.secondPartUrl+"contracts/customer/";const e=new FormData;return null!==a&&e.append("CUSPic",a),s&&e.append("CUSIDPic",s),null!==t.CUSCode&&e.append("CUSCode",t.CUSCode.toString()),t.CUSBirthDate&&e.append("CUSBirthDate",t.CUSBirthDate.toString()),t.CUSNationalIDStartDate&&e.append("CUSNationalIDStartDate",t.CUSNationalIDStartDate.toString()),t.CUSNationalIDEndDate&&e.append("CUSNationalIDEndDate",t.CUSNationalIDEndDate.toString()),e.append("CUSNationalIDType",t.CUSNationalIDType),e.append("CUSNationalID",t.CUSNationalID),e.append("CUSName",t.CUSName),e.append("CUSGuarantor",t.CUSGuarantor),e.append("CUSJobName",t.CUSJobName),e.append("CUSFacebook",t.CUSFacebook),e.append("CUSTwitter",t.CUSTwitter),e.append("CUSGoogle",t.CUSGoogle),e.append("CUSMobile",t.CUSMobile),e.append("CUSActive",t.CUSActive.toString()),e.append("RowDelete",t.RowDelete.toString()),e.append("CUSEmail",t.CUSEmail),e.append("CUSGender",t.CUSGender),t.current_building&&e.append("current_building",t.current_building.toString()),t.current_unit&&e.append("current_unit",t.current_unit.toString()),e.append("CUSSelfType",t.CUSSelfType),e.append("CUSAddress",t.CUSAddress),e.append("CUSAddressDescription",t.CUSAddressDescription),console.log("=====URL:: "+i),console.log(e),console.log("===============before Post=============="),this._HttpClient.post(i,e,this.globalServ.getAuthHeaders_for_files())}addOneCustomer(t){return console.log("=====addOneCustomer:: "),console.log(t),console.log("===============addOneCustomer Post=============="),this._HttpClient.post(this.baseUrl+this.secondPartUrl+"contracts/customer/",t,this.globalServ.getAuthHeaders_for_files())}addRelCustomer(t,a,s){var i=this.baseUrl+this.secondPartUrl+"contracts/customer/";const e=new FormData;return a&&e.append("CUSPic",a),s&&e.append("CUSIDPic",s),t.City_CTTKeyField&&e.append("City_CTTKeyField",t.City_CTTKeyField.toString()),t.Country_CTTKeyField&&e.append("Country_CTTKeyField",t.Country_CTTKeyField.toString()),t.Governorate_CTTKeyField&&e.append("Governorate_CTTKeyField",t.Governorate_CTTKeyField.toString()),t.Group_CTTKeyField&&e.append("Group_CTTKeyField",t.Group_CTTKeyField.toString()),t.Area_CTTKeyField&&e.append("Area_CTTKeyField",t.Area_CTTKeyField.toString()),t.CUSBirthDate&&e.append("CUSBirthDate",t.CUSBirthDate.toString()),t.Related_CUSKeyField&&e.append("Related_CUSKeyField",t.Related_CUSKeyField.toString()),t.CUSNationalIDStartDate&&e.append("CUSNationalIDStartDate",t.CUSNationalIDStartDate.toString()),t.CUSNationalIDEndDate&&e.append("CUSNationalIDEndDate",t.CUSNationalIDEndDate.toString()),e.append("CUSNationalIDType",t.CUSNationalIDType),e.append("CUSNationalID",t.CUSNationalID),e.append("CUSGuarantor",t.CUSGuarantor),e.append("CUSJobName",t.CUSJobName),e.append("CUSFacebook",t.CUSFacebook),e.append("CUSTwitter",t.CUSTwitter),e.append("CUSGoogle",t.CUSGoogle),e.append("CUSName",t.CUSName),e.append("CUSMobile",t.CUSMobile),e.append("CUSActive",t.CUSActive.toString()),e.append("RowDelete",t.RowDelete.toString()),e.append("CUSEmail",t.CUSEmail),e.append("CUSGender",t.CUSGender),t.current_building&&e.append("current_building",t.current_building.toString()),t.current_unit&&e.append("current_unit",t.current_unit.toString()),e.append("CUSSelfType",t.CUSSelfType),e.append("CUSAddress",t.CUSAddress),e.append("CUSAddressDescription",t.CUSAddressDescription),this._HttpClient.post(i,e,this.globalServ.getAuthHeaders_for_files())}editCustomer(t,a,s){console.log("editCustomer:: "+a);var i=t.id;const e=new FormData;return a&&e.append("CUSPic",a),s&&e.append("CUSIDPic",s),t.City_CTTKeyField&&e.append("City_CTTKeyField",t.City_CTTKeyField.toString()),t.Country_CTTKeyField&&e.append("Country_CTTKeyField",t.Country_CTTKeyField.toString()),t.Governorate_CTTKeyField&&e.append("Governorate_CTTKeyField",t.Governorate_CTTKeyField.toString()),t.Area_CTTKeyField&&e.append("Area_CTTKeyField",t.Area_CTTKeyField.toString()),t.CUSBirthDate&&e.append("CUSBirthDate",t.CUSBirthDate.toString()),t.current_building&&e.append("current_building",t.current_building.toString()),t.current_unit&&e.append("current_unit",t.current_unit.toString()),t.CUSNationalIDStartDate&&e.append("CUSNationalIDStartDate",t.CUSNationalIDStartDate.toString()),t.CUSNationalIDEndDate&&e.append("CUSNationalIDEndDate",t.CUSNationalIDEndDate.toString()),e.append("CUSNationalIDType",t.CUSNationalIDType),e.append("CUSNationalID",t.CUSNationalID),e.append("CUSGuarantor",t.CUSGuarantor),e.append("CUSJobName",t.CUSJobName),e.append("CUSFacebook",t.CUSFacebook),e.append("CUSTwitter",t.CUSTwitter),e.append("CUSGoogle",t.CUSGoogle),e.append("CUSFirstName",t.CUSFirstName),e.append("CUSLastName",t.CUSLastName),e.append("CUSMobile",t.CUSMobile),e.append("CUSActive",t.CUSActive.toString()),e.append("RowDelete",t.RowDelete.toString()),e.append("CUSEmail",t.CUSEmail),e.append("CUSHomePhone",t.CUSHomePhone),e.append("CUSWorkPhone",t.CUSWorkPhone),e.append("CUSGender",t.CUSGender),e.append("CUSSelfType",t.CUSSelfType),e.append("CUSAddress",t.CUSAddress),this._HttpClient.put(this.baseUrl+this.secondPartUrl+"contracts/customer/"+i+"/",e,this.globalServ.getAuthHeaders_for_files())}editRelCustomer(t,a,s){var i=t.id;const e=new FormData;return a&&e.append("CUSPic",a),s&&e.append("CUSIDPic",s),t.City_CTTKeyField&&e.append("City_CTTKeyField",t.City_CTTKeyField.toString()),t.Country_CTTKeyField&&e.append("Country_CTTKeyField",t.Country_CTTKeyField.toString()),t.Governorate_CTTKeyField&&e.append("Governorate_CTTKeyField",t.Governorate_CTTKeyField.toString()),t.Group_CTTKeyField&&e.append("Group_CTTKeyField",t.Group_CTTKeyField.toString()),t.Area_CTTKeyField&&e.append("Area_CTTKeyField",t.Area_CTTKeyField.toString()),t.CUSBirthDate&&e.append("CUSBirthDate",t.CUSBirthDate.toString()),t.Related_CUSKeyField&&e.append("Related_CUSKeyField",t.Related_CUSKeyField.toString()),t.CUSCode&&e.append("CUSCode",t.CUSCode.toString()),t.CUSNationalIDStartDate&&e.append("CUSNationalIDStartDate",t.CUSNationalIDStartDate.toString()),t.CUSNationalIDEndDate&&e.append("CUSNationalIDEndDate",t.CUSNationalIDEndDate.toString()),e.append("CUSNationalIDType",t.CUSNationalIDType),e.append("CUSNationalID",t.CUSNationalID),e.append("CUSGuarantor",t.CUSGuarantor),e.append("CUSJobName",t.CUSJobName),e.append("CUSFacebook",t.CUSFacebook),e.append("CUSTwitter",t.CUSTwitter),e.append("CUSGoogle",t.CUSGoogle),e.append("CUSName",t.CUSName),e.append("CUSMobile",t.CUSMobile),e.append("CUSActive",t.CUSActive.toString()),e.append("RowDelete",t.RowDelete.toString()),e.append("CUSEmail",t.CUSEmail),e.append("CUSGender",t.CUSGender),t.current_building&&e.append("current_building",t.current_building.toString()),t.current_unit&&e.append("current_unit",t.current_unit.toString()),e.append("CUSSelfType",t.CUSSelfType),e.append("CUSAddress",t.CUSAddress),e.append("CUSAddressDescription",t.CUSAddressDescription),this._HttpClient.put(this.baseUrl+this.secondPartUrl+"contracts/customer/"+i+"/",e,this.globalServ.getAuthHeaders_for_files())}deleteCustomer(t){return this._HttpClient.delete(this.baseUrl+this.secondPartUrl+"contracts/customer/"+t,this.globalServ.getAuthHeaders())}getRelatedCustomer(t,a,s){return this._HttpClient.get(this.baseUrl+this.secondPartUrl+"contracts/customer/customerPerSpec/?M="+t+"&C="+a+"&customer="+s,this.globalServ.getAuthHeaders())}}p.\u0275fac=function(t){return new(t||p)(r.LFG(d.eN),r.LFG(l.U))},p.\u0275prov=r.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})},3071:(S,c,o)=>{o.d(c,{K:()=>p});var n=o(529),r=o(5521),d=o(4650),l=o(7465);class p{constructor(t,a){this.http=t,this.globalServ=a,this.httpHeaders_auth=new n.WM({"Content-Type":"application/json; charset=utf-8"}),this.baseUrl=(new r.P).api_Ip,this.secondBaseUrl=(new r.P).api_constant}resetPassword(t){return console.log("------Check--***--in Service---Email",t),this.http.post(this.baseUrl+this.secondBaseUrl+"password/reset/",t)}login(t){return this.http.post(this.baseUrl+"users/authenticate/",{username:t.value.username,password:t.value.password})}registerUser(t){return this.http.post(this.baseUrl+"users/registerdataentry/",{username:t.value.username,password:t.value.password,email:t.value.email,first_name:t.value.first_name},this.globalServ.getAuthHeaders_for_files())}editUser(t){return this.http.patch(`${this.baseUrl}users/customemp/${t.id}/`,t,this.globalServ.getAuthHeaders_for_files())}addEmployee(t,a){var s=this.baseUrl+"users/allempuser/";const i=new FormData;return a&&i.append("userPicture",a),t.UserCode&&i.append("UserCode",t.UserCode.toString()),i.append("username",t.username),i.append("password",t.password),i.append("first_name",t.first_name),i.append("last_name",t.last_name),i.append("gender",t.gender),t.UserBirthDate&&i.append("UserBirthDate",t.UserBirthDate.toString()),i.append("userJobName",t.userJobName),t.is_superuser&&i.append("is_superuser",t.is_superuser.toString()),t.is_staff&&i.append("is_staff",t.is_staff.toString()),t.is_active&&i.append("is_active",t.is_active.toString()),i.append("is_employee",t.is_employee),i.append("email",t.email),i.append("UserMobile",t.UserMobile),i.append("userAddress",t.userAddress),i.append("RowDelete",t.RowDelete.toString()),this.http.post(s,i,this.globalServ.getAuthHeaders_for_files())}editEmployee(t,a){var i=this.baseUrl+"users/allempuser/"+t.id+"/";const e=new FormData;return a&&e.append("userPicture",a),t.UserCode&&e.append("UserCode",t.UserCode.toString()),e.append("username",t.username),e.append("first_name",t.first_name),e.append("last_name",t.last_name),e.append("gender",t.gender),t.UserBirthDate&&e.append("UserBirthDate",t.UserBirthDate.toString()),e.append("userJobName",t.userJobName),t.is_superuser&&e.append("is_superuser",t.is_superuser.toString()),t.is_staff&&e.append("is_staff",t.is_staff.toString()),t.is_active&&e.append("is_active",t.is_active.toString()),e.append("is_employee",t.is_employee),e.append("email",t.email),e.append("UserMobile",t.UserMobile),e.append("userAddress",t.userAddress),e.append("RowDelete",t.RowDelete.toString()),this.http.patch(i,e,this.globalServ.getAuthHeaders_for_files())}getUsers(){return this.http.get(this.baseUrl+"users/customuser",this.globalServ.getAuthHeaders())}getAllStaff(){return this.http.get(`${this.baseUrl}users/customemp`,this.globalServ.getAuthHeaders())}getGroups(){return this.http.get(this.baseUrl+"users/groups",this.globalServ.getAuthHeaders())}deleteOneUser(t){return this.http.delete(`${this.baseUrl}users/customemp/${t}`,this.globalServ.getAuthHeaders())}}p.\u0275fac=function(t){return new(t||p)(d.LFG(n.eN),d.LFG(l.U))},p.\u0275prov=d.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})},2887:(S,c,o)=>{o.d(c,{$:()=>_});var n=o(5412),r=o(4650),d=o(1576),l=o(4859),p=o(3081);class _{constructor(a,s){this.dialogRef=a,this.data=s}ngOnInit(){}onConfirm(){this.dialogRef.close(!0)}onDismiss(){this.dialogRef.close(!1)}}_.\u0275fac=function(a){return new(a||_)(r.Y36(n.so),r.Y36(n.WI))},_.\u0275cmp=r.Xpm({type:_,selectors:[["app-confirm-dialog"]],decls:13,vars:8,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["fxLayout","row","fxLayoutAlign","space-between center",1,"w-100"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(a,s){1&a&&(r.TgZ(0,"h1",0),r._uU(1),r.qZA(),r.TgZ(2,"div",1)(3,"p"),r._uU(4),r.qZA()(),r.TgZ(5,"div",2)(6,"div",3)(7,"button",4),r.NdJ("click",function(){return s.onDismiss()}),r._uU(8),r.ALo(9,"translate"),r.qZA(),r.TgZ(10,"button",5),r.NdJ("click",function(){return s.onConfirm()}),r._uU(11),r.ALo(12,"translate"),r.qZA()()()),2&a&&(r.xp6(1),r.Oqu(null==s.data?null:s.data.title),r.xp6(3),r.Oqu(null==s.data?null:s.data.message),r.xp6(4),r.Oqu(r.lcZ(9,4,"BTN.NO")),r.xp6(3),r.Oqu(r.lcZ(12,6,"BTN.YES")))},dependencies:[d.xw,d.Wh,l.lW,n.uh,n.xY,n.H8,p.X$]})},9515:(S,c,o)=>{o.d(c,{A:()=>t});var n=o(4650),r=o(6895),d=o(1576),l=o(7392);function p(a,s){if(1&a){const i=n.EpF();n.TgZ(0,"mat-icon",4),n.NdJ("click",function(){const U=n.CHM(i).index,g=n.oxw();return n.KtG(g.rate(U))}),n._uU(1),n.qZA()}if(2&a){const i=s.$implicit;n.xp6(1),n.Oqu(i)}}function _(a,s){if(1&a&&(n.TgZ(0,"p",5),n._uU(1),n.qZA()),2&a){const i=n.oxw();n.xp6(1),n.hij("",i.ratingsCount," ratings")}}class t{constructor(){this.showText=!0}ngDoCheck(){this.ratingsCount&&this.ratingsValue&&!this.avg&&this.calculateAvgValue()}rate(s){}calculateAvgValue(){switch(this.avg=this.ratingsValue/this.ratingsCount,!0){case this.avg>0&&this.avg<20:this.stars=["star_half","star_border","star_border","star_border","star_border"];break;case 20==this.avg:this.stars=["star","star_border","star_border","star_border","star_border"];break;case this.avg>20&&this.avg<40:this.stars=["star","star_half","star_border","star_border","star_border"];break;case 40==this.avg:this.stars=["star","star","star_border","star_border","star_border"];break;case this.avg>40&&this.avg<60:this.stars=["star","star","star_half","star_border","star_border"];break;case 60==this.avg:this.stars=["star","star","star","star_border","star_border"];break;case this.avg>60&&this.avg<80:this.stars=["star","star","star","star_half","star_border"];break;case 80==this.avg:this.stars=["star","star","star","star","star_border"];break;case this.avg>80&&this.avg<100:this.stars=["star","star","star","star","star_half"];break;case this.avg>=100:this.stars=["star","star","star","star","star"];break;default:this.stars=["star_border","star_border","star_border","star_border","star_border"]}}}t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-rating"]],inputs:{ratingsCount:"ratingsCount",ratingsValue:"ratingsValue",direction:"direction",showText:"showText"},decls:4,vars:4,consts:[[3,"fxLayout","fxLayoutAlign"],[1,"ratings"],["class","mat-icon-xs",3,"click",4,"ngFor","ngForOf"],["class","ratings-count text-muted",4,"ngIf"],[1,"mat-icon-xs",3,"click"],[1,"ratings-count","text-muted"]],template:function(s,i){1&s&&(n.TgZ(0,"div",0)(1,"div",1),n.YNc(2,p,2,1,"mat-icon",2),n.qZA(),n.YNc(3,_,2,1,"p",3),n.qZA()),2&s&&(n.Q6J("fxLayout",i.direction)("fxLayoutAlign","row"==i.direction?"start center":"center end"),n.xp6(2),n.Q6J("ngForOf",i.stars),n.xp6(1),n.Q6J("ngIf",i.showText))},dependencies:[r.sg,r.O5,d.xw,d.Wh,l.Hw],styles:[".ratings[_ngcontent-%COMP%]{color:#fbc02d}.ratings-count[_ngcontent-%COMP%]{margin-left:12px;font-weight:500}"]})},6660:(S,c,o)=>{o.d(c,{H:()=>r});var n=o(4650);class r{transform(l,p){return l.filter(_=>_.id==p)[0]}}r.\u0275fac=function(l){return new(l||r)},r.\u0275pipe=n.Yjl({name:"filterById",type:r,pure:!0})},1419:(S,c,o)=>{o.d(c,{g:()=>r,m:()=>d});var n=o(4650);class r{transform(p,_){let t=new RegExp(_,"ig");if(p)return p.filter(a=>a.profile.name?-1!==a.profile.name.search(t):-1!==a.username.search(t))}}r.\u0275fac=function(p){return new(p||r)},r.\u0275pipe=n.Yjl({name:"UserSearchPipe",type:r,pure:!1});class d{transform(p,_){let t=new RegExp(_,"ig");if(p)return p.filter(a=>a.first_name?-1!==a.first_name.search(t):a.last_name?-1!==a.last_name.search(t):-1!==a.username.search(t))}}d.\u0275fac=function(p){return new(p||d)},d.\u0275pipe=n.Yjl({name:"EmpSearchPipe",type:d,pure:!1})},8955:(S,c,o)=>{function n(d){if(d.value&&!/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$/.test(d.value))return{invalidEmail:!0}}function r(d,l){return p=>{let t=p.controls[l];if(p.controls[d].value!==t.value)return t.setErrors({mismatchedPasswords:!0})}}o.d(c,{L:()=>n,z:()=>r})}}]);