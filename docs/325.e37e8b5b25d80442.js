"use strict";(self.webpackChunkemporium=self.webpackChunkemporium||[]).push([[325],{2325:(Ce,it,l)=>{l.r(it),l.d(it,{ContractsModule:()=>q,routes:()=>ct});var c=l(6895),m=l(5412),s=l(4006);class M{}var S=l(2340),b=l(4459),U=l(5783),Z=l(5521),t=l(4650),z=l(6838),I=l(5298),f=l(9132),D=l(7465),N=l(7009),d=l(1576),Y=l(3238),T=l(4859),tt=l(6709),R=l(7392),w=l(4144),C=l(9549),V=l(1948),Q=l(4385),x=l(3848);function ut(i,e){1&i&&(t.TgZ(0,"span"),t._uU(1,"Add"),t.qZA())}function dt(i,e){1&i&&(t.TgZ(0,"span"),t._uU(1,"Edit"),t.qZA())}function mt(i,e){1&i&&(t.TgZ(0,"mat-error"),t._uU(1,"Code is required"),t.qZA())}function pt(i,e){1&i&&(t.TgZ(0,"mat-error"),t._uU(1,"Code isn't long enough, minimum of 4 characters"),t.qZA())}function ht(i,e){1&i&&(t.TgZ(0,"mat-error"),t._uU(1,"Username is required"),t.qZA())}function gt(i,e){1&i&&(t.TgZ(0,"mat-error"),t._uU(1,"Username isn't long enough, minimum of 4 characters"),t.qZA())}function Ct(i,e){if(1&i&&(t.TgZ(0,"mat-option",29),t._uU(1),t.qZA()),2&i){const a=e.$implicit;t.Q6J("value",a.id),t.xp6(1),t.hij(" ",a.CTTSubjectName," ")}}function ft(i,e){1&i&&(t.TgZ(0,"span"),t._uU(1,"Save"),t.qZA())}function _t(i,e){1&i&&(t.TgZ(0,"span"),t._uU(1,"Update"),t.qZA())}class E{constructor(e,a,n,o,r,u,p,h){this.dialogRef=e,this.tenant=a,this.codesService=n,this.fb=o,this.localStore=r,this.router=u,this.global=p,this.snackBar=h,this.curCOMId=S.N.comid,this.account=new U.n,this.country_const=(new b.I).Countries,this.passwordHide=!0,this.defaultCusImage=(new Z.P).noImage,this.CusImageToUpload=null,this.Countries=[],console.log("====== Constructor of Dialog:: "),this.form=this.fb.group({id:null,code:[null,s.kI.required],username:[null,s.kI.compose([s.kI.required,s.kI.minLength(4)])],profile:this.fb.group({name:[null,s.kI.compose([s.kI.required,s.kI.minLength(3)])],surname:[null,s.kI.compose([s.kI.required,s.kI.minLength(3)])],birthday:null,gender:null,image:null}),work:this.fb.group({company:null,position:null}),contacts:this.fb.group({email:null,phone:null,address:null,country:[{value:null}],governorate:[{value:null,disabled:!0}],city:[{value:null,disabled:!0}],area:[{value:null,disabled:!0}]}),social:this.fb.group({facebook:null,twitter:null,google:null}),settings:this.fb.group({isActive:null,isDeleted:null})})}ngOnInit(){this.userSUb=this.global.user.subscribe(e=>{this.account=e}),this.localStore.getItem("token")&&this.localStore.getItem("account")?(this.global.me=JSON.parse(this.localStore.getItem("account")),this.getCountries(this.curCOMId,this.account.periorty),this.tenant?this.fillForm():this.tenant=new M):this.router.navigate(["/sign-in"])}fillForm(){this.is_active="T"==this.tenant.CUSActive,this.defaultCusImage=null!=this.tenant.CUSPic?this.tenant.CUSPic:(new Z.P).noImage,this.is_delete=1==this.tenant.RowDelete,this.form.patchValue({id:this.tenant.id,code:this.tenant.CUSCode,username:this.tenant.CUSusername,profile:{name:this.tenant.CUSFirstName,surname:this.tenant.CUSLastName,birthday:this.tenant.CUSBirthDate,gender:this.tenant.CUSGender,image:this.tenant.CUSPic},work:{company:this.tenant.CUSGuarantor,position:this.tenant.CUSJobName},contacts:{email:this.tenant.CUSEmail,phone:this.tenant.CUSMobile,address:this.tenant.CUSAddress,country:this.tenant.Country_CTTKeyField,governorate:this.tenant.Governorate_CTTKeyField,city:this.tenant.City_CTTKeyField,area:this.tenant.Area_CTTKeyField},social:{facebook:this.tenant.CUSFacebook,twitter:this.tenant.CUSTwitter,google:this.tenant.CUSGoogle},settings:{isActive:this.is_active,isDeleted:this.is_delete}})}handelCUSImgInput(e){this.CusImageToUpload=e.item(0);var a=new FileReader;a.onload=n=>{this.defaultCusImage=n.target.result},a.readAsDataURL(this.CusImageToUpload)}saveUpdate(e){console.log("=============saveUpdate()===============")}close(){this.dialogRef.close()}getGovernorate(){}compareFunction(e,a){return e.username==a.username&&e.code==a.code}getCountries(e,a){this.codesService.getSubForParent(e,a,this.country_const).subscribe(n=>{this.Countries=n,console.log(n)},n=>{this.snackBar.open("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0627\u0644\u062f\u0648\u0644","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})}}E.\u0275fac=function(e){return new(e||E)(t.Y36(m.so),t.Y36(m.WI),t.Y36(z.d),t.Y36(s.QS),t.Y36(I.C),t.Y36(f.F0),t.Y36(D.U),t.Y36(N.ux))},E.\u0275cmp=t.Xpm({type:E,selectors:[["app-customers-dialog"]],decls:108,vars:13,consts:[["mat-dialog-title",""],[4,"ngIf"],["mat-dialog-content",""],[1,"user-form",3,"formGroup"],[1,"vertical-tabs","tab-content-wrapped"],["label","Basic"],["fxLayout","column",1,"form-field-outer"],[1,"w-100"],["matInput","","formControlName","code","required",""],["matInput","","formControlName","username","required",""],["label","Personal","formGroupName","profile"],["matInput","","formControlName","name","required",""],["matInput","","formControlName","surname","required",""],["name","CUSBirthDate","formControlName","CUSBirthDate","type","date",1,"w-100"],["formControlName","gender"],["value","M","labelPosition","after"],["value","F","labelPosition","after"],[2,"width","150px","height","200px",3,"src"],["type","file","formControlName","image","name","image","accept","image/*",1,"user-img",3,"change"],["fileInput",""],["label","Work","formGroupName","work"],["matInput","","formControlName","company"],["matInput","","formControlName","position"],["label","Contacts","formGroupName","contacts"],["matInput","","formControlName","email"],["matInput","","formControlName","phone"],["matInput","","formControlName","address"],["appearance","outline",1,"w-100"],["placeholder","Country","formControlName","country"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["label","Social life","formGroupName","social"],["matInput","","formControlName","facebook"],["matInput","","formControlName","twitter"],["matInput","","formControlName","google"],["label","Settings","formGroupName","settings"],["formControlName","isActive"],["formControlName","isDeleted"],["mat-dialog-actions",""],["fxLayout","row","fxLayoutAlign","space-between center",1,"w-100"],["mat-raised-button","","color","primary",3,"mat-dialog-close","disabled","click"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,a){1&e&&(t.TgZ(0,"h1",0),t.YNc(1,ut,2,0,"span",1),t.YNc(2,dt,2,0,"span",1),t._uU(3," Tenant"),t.qZA(),t.TgZ(4,"div",2)(5,"form",3)(6,"mat-tab-group",4)(7,"mat-tab",5)(8,"div",6)(9,"mat-form-field",7)(10,"mat-label")(11,"mat-icon"),t._uU(12,"person"),t.qZA(),t._uU(13," Code"),t.qZA(),t._UZ(14,"input",8),t.YNc(15,mt,2,0,"mat-error",1),t.YNc(16,pt,2,0,"mat-error",1),t.qZA(),t.TgZ(17,"mat-form-field",7)(18,"mat-label")(19,"mat-icon"),t._uU(20,"person"),t.qZA(),t._uU(21," Username"),t.qZA(),t._UZ(22,"input",9),t.YNc(23,ht,2,0,"mat-error",1),t.YNc(24,gt,2,0,"mat-error",1),t.qZA()()(),t.TgZ(25,"mat-tab",10)(26,"div",6)(27,"mat-form-field",7)(28,"mat-label"),t._uU(29,"First Name"),t.qZA(),t._UZ(30,"input",11),t.qZA(),t.TgZ(31,"mat-form-field",7)(32,"mat-label"),t._uU(33,"Last Name"),t.qZA(),t._UZ(34,"input",12),t.qZA(),t.TgZ(35,"div")(36,"mat-label"),t._uU(37,"Birthday"),t.qZA(),t._UZ(38,"input",13),t.qZA(),t.TgZ(39,"mat-radio-group",14)(40,"mat-radio-button",15),t._uU(41,"Male"),t.qZA(),t.TgZ(42,"mat-radio-button",16),t._uU(43,"Female"),t.qZA()(),t.TgZ(44,"div")(45,"mat-label"),t._uU(46,"Image url"),t.qZA(),t._UZ(47,"img",17),t.TgZ(48,"input",18,19),t.NdJ("change",function(o){return a.handelCUSImgInput(o.target.files)}),t.qZA()()()(),t.TgZ(50,"mat-tab",20)(51,"div",6)(52,"mat-form-field",7)(53,"mat-label"),t._uU(54,"Company"),t.qZA(),t._UZ(55,"input",21),t.qZA(),t.TgZ(56,"mat-form-field",7)(57,"mat-label"),t._uU(58,"Position"),t.qZA(),t._UZ(59,"input",22),t.qZA()()(),t.TgZ(60,"mat-tab",23)(61,"div",6)(62,"mat-form-field",7)(63,"mat-label"),t._uU(64,"Email"),t.qZA(),t._UZ(65,"input",24),t.qZA(),t.TgZ(66,"mat-form-field",7)(67,"mat-label"),t._uU(68,"Mobile"),t.qZA(),t._UZ(69,"input",25),t.qZA(),t.TgZ(70,"mat-form-field",7)(71,"mat-label"),t._uU(72,"Address"),t.qZA(),t._UZ(73,"input",26),t.qZA(),t.TgZ(74,"mat-form-field",27)(75,"mat-label"),t._uU(76,"Country"),t.qZA(),t.TgZ(77,"mat-select",28)(78,"mat-option",29),t._uU(79,"-"),t.qZA(),t.YNc(80,Ct,2,2,"mat-option",30),t.qZA()()()(),t.TgZ(81,"mat-tab",31)(82,"div",6)(83,"mat-form-field",7)(84,"mat-label"),t._uU(85,"Facebook"),t.qZA(),t._UZ(86,"input",32),t.qZA(),t.TgZ(87,"mat-form-field",7)(88,"mat-label"),t._uU(89,"Twitter"),t.qZA(),t._UZ(90,"input",33),t.qZA(),t.TgZ(91,"mat-form-field",7)(92,"mat-label"),t._uU(93,"Google"),t.qZA(),t._UZ(94,"input",34),t.qZA()()(),t.TgZ(95,"mat-tab",35)(96,"div",6)(97,"mat-checkbox",36),t._uU(98,"Active"),t.qZA(),t.TgZ(99,"mat-checkbox",37),t._uU(100,"Blocked"),t.qZA()()()()()(),t.TgZ(101,"div",38)(102,"div",39)(103,"button",40),t.NdJ("click",function(){return a.saveUpdate(a.tenant.id)}),t.YNc(104,ft,2,0,"span",1),t.YNc(105,_t,2,0,"span",1),t.qZA(),t.TgZ(106,"button",41),t.NdJ("click",function(){return a.close()}),t._uU(107,"Cancel"),t.qZA()()()),2&e&&(t.xp6(1),t.Q6J("ngIf",!a.tenant.id),t.xp6(1),t.Q6J("ngIf",a.tenant.id),t.xp6(3),t.Q6J("formGroup",a.form),t.xp6(10),t.Q6J("ngIf",null==a.form.controls.code.errors?null:a.form.controls.code.errors.required),t.xp6(1),t.Q6J("ngIf",a.form.controls.code.hasError("minlength")),t.xp6(7),t.Q6J("ngIf",null==a.form.controls.username.errors?null:a.form.controls.username.errors.required),t.xp6(1),t.Q6J("ngIf",a.form.controls.username.hasError("minlength")),t.xp6(23),t.Q6J("src",a.defaultCusImage,t.LSH),t.xp6(33),t.Q6J("ngForOf",a.Countries),t.xp6(23),t.Q6J("mat-dialog-close",a.form.value)("disabled",!a.form.valid),t.xp6(1),t.Q6J("ngIf",!a.tenant.id),t.xp6(1),t.Q6J("ngIf",a.tenant.id))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.Q7,c.sg,c.O5,s.sg,s.u,s.x0,d.xw,d.Wh,Y.ey,T.lW,tt.oG,m.ZT,m.uh,m.xY,m.H8,R.Hw,w.Nt,C.KE,C.hX,C.TO,V.VQ,V.U0,Q.gD,x.uX,x.SP],styles:[".user-form[_ngcontent-%COMP%]   .form-field-outer[_ngcontent-%COMP%]{width:280px}.user-form[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]{margin-right:12px}"]});var j=l(5726),P=l(2887),W=l(1182),_=l(3081),v=l(4333),$=l(811),X=l(3546),O=l(4850),ot=l(1572),et=l(266);const Tt=function(i){return["/contracts/tenant-add/",i]},Zt=function(i){return["/contracts/statements-list/",i]};function vt(i,e){if(1&i){const a=t.EpF();t.TgZ(0,"div",21)(1,"div",22),t._uU(2),t.qZA(),t.TgZ(3,"div",22),t._uU(4),t.qZA(),t.TgZ(5,"div",22),t._uU(6),t.qZA(),t.TgZ(7,"div",22),t._uU(8),t.qZA(),t.TgZ(9,"div",22),t._uU(10),t.qZA(),t.TgZ(11,"div",22)(12,"mat-icon",23),t._uU(13),t.qZA()(),t.TgZ(14,"div",22)(15,"div",24)(16,"a",25),t.ALo(17,"translate"),t.TgZ(18,"mat-icon"),t._uU(19,"edit"),t.qZA()(),t.TgZ(20,"button",26),t.NdJ("click",function(){const r=t.CHM(a).$implicit,u=t.oxw();return t.KtG(u.removeTenant(r.id))}),t.ALo(21,"translate"),t.TgZ(22,"mat-icon"),t._uU(23,"delete"),t.qZA()(),t.TgZ(24,"a",25),t.ALo(25,"translate"),t.TgZ(26,"mat-icon"),t._uU(27,"receipt"),t.qZA()()()()()}if(2&i){const a=e.$implicit;t.xp6(2),t.Oqu(a.CUSName),t.xp6(2),t.Oqu(a.CUSMobile),t.xp6(2),t.Oqu(a.CUSGenderDisplay),t.xp6(2),t.hij(" ",a.build_Name," "),t.xp6(2),t.hij(" ",a.unit_Name," "),t.xp6(3),t.Oqu("T"==a.CUSActive?"check_box":"check_box_outline_blank"),t.xp6(3),t.s9C("matTooltip",t.lcZ(17,11,"BTN.EDIT")),t.Q6J("routerLink",t.VKq(17,Tt,a.id)),t.xp6(4),t.s9C("matTooltip",t.lcZ(21,13,"BTN.REMOVE")),t.xp6(4),t.s9C("matTooltip",t.lcZ(25,15,"BTN.Statements")),t.Q6J("routerLink",t.VKq(19,Zt,a.id))}}function yt(i,e){if(1&i){const a=t.EpF();t.TgZ(0,"div",27)(1,"div",28)(2,"mat-card",29)(3,"pagination-controls",30),t.NdJ("pageChange",function(o){t.CHM(a);const r=t.oxw();return t.KtG(r.onPageChanged(o))}),t.qZA()()()()}}function At(i,e){1&i&&(t.TgZ(0,"div",31),t._UZ(1,"mat-spinner",32),t.qZA())}const bt=function(i,e){return{itemsPerPage:i,currentPage:e}};class K{constructor(e,a,n,o,r,u,p,h,g){this.appSettings=e,this.dialog=a,this.usersService=n,this.router=o,this.global=r,this.localStore=u,this.snackBar=p,this.translateService=h,this.datePipe=g,this.curTenant=new M,this.curCOMId=S.N.comid,this.account=new U.n,this.count=4,this.defaultCusImage=(new Z.P).noImage,this.CusImageToUpload=null,this.settings=this.appSettings.settings}handelCUSImgInput(e){this.CusImageToUpload=e.item(0);var a=new FileReader;a.onload=n=>{this.defaultCusImage=n.target.result},a.readAsDataURL(this.CusImageToUpload)}ngOnInit(){this.userSUb=this.global.user.subscribe(e=>{this.account=e}),this.localStore.getItem("token")&&this.localStore.getItem("account")?(this.global.me=JSON.parse(this.localStore.getItem("account")),this.prepareMsgLanguage(),this.getTenants()):this.router.navigate(["/sign-in"])}getTenants(){this.users=null,this.usersService.getCustomers(this.curCOMId,this.account.periorty).subscribe(e=>this.users=e)}addTenant(e){console.log("====inside addTenant====="),console.log(e),this.usersService.addOneCustomer(e).subscribe(a=>this.getTenants())}updateTenant(e){console.log("====inside updateTenant====="),console.log(e),this.usersService.editCustomer(e,this.CusImageToUpload,this.CusImageToUpload).subscribe(a=>this.getTenants())}deleteTenant(e){this.dialog.open(P.$,{maxWidth:"400px",data:{title:this.deletedTitleMsg,message:this.askToDeletedMsg}}).afterClosed().subscribe(n=>{n&&this.usersService.deleteCustomer(e.id).subscribe(o=>this.getTenants())})}removeTenant(e){this.dialog.open(P.$,{maxWidth:"400px",data:{title:this.deletedTitleMsg,message:this.askToDeletedMsg}}).afterClosed().subscribe(n=>{n&&this.usersService.deleteCustomer(e).subscribe(o=>this.getTenants())})}onPageChanged(e){this.page=e,this.getTenants(),window.scrollTo(0,0)}gotoTenantDisplay(e){console.log("===**gotoTenantDisplay**=== "+e),this.router.navigate(["/contracts/tenant-add/"+e])}gotoNewTenant(){this.router.navigate(["/contracts/tenant-add/"])}openTenantDialog(e){this.dialog.open(E,{data:e}).afterClosed().subscribe(n=>{n?(console.log("=====if user True:: =============="),console.log(n),this.curTenant=new M,console.log(this.curTenant),this.fromUserToCustomer(n),console.log(this.curTenant),n.id?this.updateTenant(this.curTenant):this.addTenant(this.curTenant)):console.log("=====if user False:: ==============")})}fromUserToCustomer(e){this.curTenant.id=e.id,this.curTenant.RowDelete=e.settings.isDeleted?1:0,this.curTenant.CUSCode=e.code,this.curTenant.CUSPic=e.image,this.curTenant.CUSGender=e.profile.gender,console.log("====Date===="),console.log(e.profile.birthday),this.curTenant.CUSBirthDate=e.profile.birthday,this.curTenant.CUSMobile=e.mobile,this.curTenant.CUSEmail=e.contacts.email,this.curTenant.CUSActive=e.settings.isActive?"T":"F",this.curTenant.CUSAddress=e.contacts.address,this.curTenant.Country_CTTKeyField=e.contacts.country,this.curTenant.CUSusername=e.username,this.curTenant.CUSFirstName=e.firstname,this.curTenant.CUSLastName=e.lastname}prepareMsgLanguage(){this.translateService.get("MESSAGE.RETRIEVE_ERROR").subscribe(e=>{this.errorRetrieveMsg=e}),this.translateService.get("MESSAGE.SURE_DELETE").subscribe(e=>{this.askToDeletedMsg=e}),this.translateService.get("MESSAGE.DELETED").subscribe(e=>{this.deletedMsg=e}),this.translateService.get("MESSAGE.ConfirmAction").subscribe(e=>{this.deletedTitleMsg=e})}}K.\u0275fac=function(e){return new(e||K)(t.Y36(W.d),t.Y36(m.uw),t.Y36(j.v),t.Y36(f.F0),t.Y36(D.U),t.Y36(I.C),t.Y36(N.ux),t.Y36(_.sK),t.Y36(c.uU))},K.\u0275cmp=t.Xpm({type:K,selectors:[["app-customers-list"]],features:[t._Bn([j.v,c.uU])],decls:61,vars:36,consts:[["fxLayout","row","fxLayoutAlign","space-between center",1,"p-2"],["fxLayout","row"],["appearance","legacy"],["controls","matButtonToggleGroup"],["value","add",3,"click"],["value","search"],[1,"user-search"],[1,"user-search-input"],["matInput","","name","search","autocomplete","off",3,"placeholder","ngModel","ngModelChange"],["fxLayout","row","fxLayoutAlign","space-between center"],["appearance","legacy","value","list"],["viewType","matButtonToggleGroup"],["value","list"],["value","grid"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"w-100","p-3"],[1,"mat-mdc-table","admin-table"],[1,"mat-mdc-header-row"],[1,"mat-mdc-header-cell"],["class","mat-mdc-row",4,"ngFor","ngForOf"],["fxLayout","row wrap",4,"ngIf"],["fxLayout","column","fxLayoutAlign","center center","class","user-spinner",4,"ngIf"],[1,"mat-mdc-row"],[1,"mat-mdc-cell"],[1,"text-muted"],[1,"p-2","actions"],["mat-mini-fab","","color","primary",3,"routerLink","matTooltip"],["mat-mini-fab","","color","warn",3,"matTooltip","click"],["fxLayout","row wrap"],["fxFlex","100",1,"p-2"],[1,"text-center"],["autoHide","true","maxSize","5",1,"product-pagination",3,"pageChange"],["fxLayout","column","fxLayoutAlign","center center",1,"user-spinner"],["color","primary"]],template:function(e,a){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-button-toggle-group",2,3)(4,"mat-button-toggle",4),t.NdJ("click",function(){return a.gotoNewTenant()}),t.TgZ(5,"mat-icon"),t._uU(6,"person_add"),t.qZA()(),t.TgZ(7,"mat-button-toggle",5)(8,"mat-icon"),t._uU(9,"search"),t.qZA()()()(),t.TgZ(10,"form",6)(11,"mat-form-field",7)(12,"input",8),t.NdJ("ngModelChange",function(o){return a.searchText=o}),t.ALo(13,"translate"),t.qZA()()(),t.TgZ(14,"div",9)(15,"mat-button-toggle-group",10,11)(17,"mat-button-toggle",12)(18,"mat-icon"),t._uU(19,"view_list"),t.qZA()(),t.TgZ(20,"mat-button-toggle",13)(21,"mat-icon"),t._uU(22,"view_module"),t.qZA()()()()(),t._UZ(23,"mat-divider"),t.TgZ(24,"mat-card")(25,"div",14)(26,"h2"),t._uU(27),t.ALo(28,"translate"),t.qZA()(),t._UZ(29,"mat-divider"),t.TgZ(30,"div",15)(31,"div",16)(32,"div",17)(33,"h2"),t._uU(34),t.ALo(35,"translate"),t.qZA()(),t.TgZ(36,"div",17)(37,"h2"),t._uU(38),t.ALo(39,"translate"),t.qZA()(),t.TgZ(40,"div",17)(41,"h2"),t._uU(42),t.ALo(43,"translate"),t.qZA()(),t.TgZ(44,"div",17)(45,"h2"),t._uU(46),t.ALo(47,"translate"),t.qZA()(),t.TgZ(48,"div",17)(49,"h2"),t._uU(50),t.ALo(51,"translate"),t.qZA()(),t.TgZ(52,"div",17)(53,"h2"),t._uU(54),t.ALo(55,"translate"),t.qZA()(),t._UZ(56,"div",17),t.qZA(),t.YNc(57,vt,28,21,"div",18),t.ALo(58,"paginate"),t.qZA()(),t.YNc(59,yt,4,0,"div",19),t.YNc(60,At,2,0,"div",20)),2&e){const n=t.MAs(3);t.xp6(10),t.ekj("show","search"==n.value),t.xp6(2),t.s9C("placeholder",t.lcZ(13,14,"HTML.SEARCH_TENANT")),t.Q6J("ngModel",a.searchText),t.xp6(15),t.Oqu(t.lcZ(28,16,"HTML.TENANTS_LIST")),t.xp6(7),t.hij(" ",t.lcZ(35,18,"FIELD.NAME")," "),t.xp6(4),t.hij(" ",t.lcZ(39,20,"HTML.MOBILE")," "),t.xp6(4),t.hij(" ",t.lcZ(43,22,"HTML.GENDER")," "),t.xp6(4),t.hij(" ",t.lcZ(47,24,"HTML.BUILDING")," "),t.xp6(4),t.hij(" ",t.lcZ(51,26,"HTML.UNIT")," "),t.xp6(4),t.hij(" ",t.lcZ(55,28,"HTML.ACTIVATED")," "),t.xp6(3),t.Q6J("ngForOf",t.xi3(58,30,a.users,t.WLB(33,bt,a.count,a.page))),t.xp6(2),t.Q6J("ngIf",a.users),t.xp6(1),t.Q6J("ngIf",!a.users)}},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.On,s.F,v.LS,c.sg,c.O5,f.rH,d.xw,d.Wh,d.yH,T.Tq,T.nh,$.A9,$.Yi,X.a8,R.Hw,w.Nt,C.KE,O.d,ot.Ou,et.gM,v._s,_.X$],styles:[".user-name{padding:0 12px;font-weight:400}.user-content{padding:10px}.user-content .user-img{position:relative}.user-content .user-img img{border-radius:50%;width:80px;height:80px}.user-content .user-img img.blocked{opacity:.5}.user-content .user-img .mat-icon{position:absolute;top:-8px;left:-8px;font-size:96px;height:96px;width:96px}.user-content .mat-mdc-slide-toggle{margin-top:15px}.user-content .user-details span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.user-content .user-details .mat-icon{padding:2px 10px}.user-content .user-details.blocked{opacity:.5}.user-search{width:0;overflow:hidden;transition:.3s}.user-search .mat-mdc-form-field{width:100%!important;text-align:center!important}.user-search .mat-mdc-form-field .mat-mdc-form-field-infix{min-height:36px;padding:8px 0!important}.user-search .mat-mdc-form-field .mat-mdc-form-field-subscript-wrapper{display:none}.user-search .mat-mdc-input-element{text-align:center}.user-search.show{width:100%;overflow:visible}.user-spinner{position:absolute;inset:0}.mat-mdc-card{overflow:hidden}\n"],encapsulation:2});var k=l(8959);const St=function(i){return["/contracts/contract-add/",i]},Ut=function(i){return["/contracts/installment-list/",i]};function It(i,e){if(1&i){const a=t.EpF();t.TgZ(0,"div",17)(1,"div",18),t._uU(2),t.qZA(),t.TgZ(3,"div",18),t._uU(4),t.qZA(),t.TgZ(5,"div",18),t._uU(6),t.qZA(),t.TgZ(7,"div",18),t._uU(8),t.qZA(),t.TgZ(9,"div",18),t._uU(10),t.qZA(),t.TgZ(11,"div",18),t._uU(12),t.qZA(),t.TgZ(13,"div",18),t._uU(14),t.qZA(),t.TgZ(15,"div",18)(16,"div",19)(17,"a",20),t.ALo(18,"translate"),t.TgZ(19,"mat-icon"),t._uU(20,"edit"),t.qZA()(),t.TgZ(21,"button",21),t.NdJ("click",function(){const r=t.CHM(a).$implicit,u=t.oxw();return t.KtG(u.removeContract(r.id))}),t.ALo(22,"translate"),t.TgZ(23,"mat-icon"),t._uU(24,"delete"),t.qZA()(),t.TgZ(25,"a",20),t.ALo(26,"translate"),t.TgZ(27,"mat-icon"),t._uU(28,"receipt"),t.qZA()()()()()}if(2&i){const a=e.$implicit;t.xp6(2),t.Oqu(a.branch_ArbName),t.xp6(2),t.Oqu(a.build_Name),t.xp6(2),t.Oqu(a.unit_UnitNumber),t.xp6(2),t.hij(" ",a.customer_Name," "),t.xp6(2),t.hij(" ",a.RCODate," "),t.xp6(2),t.hij(" ",a.RCOCode," "),t.xp6(2),t.hij(" ",a.RCOSubCode," "),t.xp6(3),t.s9C("matTooltip",t.lcZ(18,12,"BTN.EDIT")),t.Q6J("routerLink",t.VKq(18,St,a.id)),t.xp6(4),t.s9C("matTooltip",t.lcZ(22,14,"BTN.REMOVE")),t.xp6(4),t.s9C("matTooltip",t.lcZ(26,16,"BTN.INSTALLMENT")),t.Q6J("routerLink",t.VKq(20,Ut,a.id))}}function Dt(i,e){if(1&i){const a=t.EpF();t.TgZ(0,"div",22)(1,"div",23)(2,"mat-card",24)(3,"pagination-controls",25),t.NdJ("pageChange",function(o){t.CHM(a);const r=t.oxw();return t.KtG(r.onPageChanged(o))}),t.qZA()()()()}}function Nt(i,e){1&i&&(t.TgZ(0,"div",26),t._UZ(1,"mat-spinner",27),t.qZA())}const xt=function(i,e){return{itemsPerPage:i,currentPage:e}};class H{constructor(e,a,n,o,r,u,p,h){this.appSettings=e,this.dialog=a,this.contractService=n,this.router=o,this.global=r,this.localStore=u,this.translateService=p,this.snackBar=h,this.curCOMId=S.N.comid,this.account=new U.n,this.count=4,this.settings=this.appSettings.settings}ngOnInit(){this.userSUb=this.global.user.subscribe(e=>{this.account=e}),this.localStore.getItem("token")&&this.localStore.getItem("account")?(this.global.me=JSON.parse(this.localStore.getItem("account")),this.prepareMsgLanguage(),this.getContracts()):this.router.navigate(["/sign-in"])}getContracts(){this.contractsAll=null,this.contractService.getAllContracts(this.curCOMId,this.account.periorty).subscribe(e=>this.contractsAll=e)}removeContract(e){this.dialog.open(P.$,{maxWidth:"400px",data:{title:this.deletedTitleMsg,message:this.askToDeletedMsg}}).afterClosed().subscribe(n=>{n&&this.contractService.deleteContract(e).subscribe(o=>this.getContracts())})}contractInstallments(e){}onPageChanged(e){this.page=e,this.getContracts(),window.scrollTo(0,0)}gotoNewContract(){this.router.navigate(["/contracts/contract-add/"])}prepareMsgLanguage(){this.translateService.get("MESSAGE.RETRIEVE_ERROR").subscribe(e=>{this.errorRetrieveMsg=e}),this.translateService.get("MESSAGE.SURE_DELETE").subscribe(e=>{this.askToDeletedMsg=e}),this.translateService.get("MESSAGE.DELETED").subscribe(e=>{this.deletedMsg=e}),this.translateService.get("MESSAGE.ConfirmAction").subscribe(e=>{this.deletedTitleMsg=e})}}function rt(i,e,a,n,o,r,u){try{var p=i[r](u),h=p.value}catch(g){return void a(g)}p.done?e(h):Promise.resolve(h).then(n,o)}H.\u0275fac=function(e){return new(e||H)(t.Y36(W.d),t.Y36(m.uw),t.Y36(k.W),t.Y36(f.F0),t.Y36(D.U),t.Y36(I.C),t.Y36(_.sK),t.Y36(N.ux))},H.\u0275cmp=t.Xpm({type:H,selectors:[["app-contract-list"]],features:[t._Bn([k.W])],decls:58,vars:33,consts:[["fxLayout","row","fxLayoutAlign","space-between center",1,"p-2"],["fxLayout","row"],["appearance","legacy"],["controls","matButtonToggleGroup"],["value","add",3,"click"],["fxLayout","row","fxLayoutAlign","space-between center"],["appearance","legacy","value","list"],["viewType","matButtonToggleGroup"],["value","list"],["value","grid"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"w-100","p-3"],[1,"mat-mdc-table","admin-table"],[1,"mat-mdc-header-row"],[1,"mat-mdc-header-cell"],["class","mat-mdc-row",4,"ngFor","ngForOf"],["fxLayout","row wrap",4,"ngIf"],["fxLayout","column","fxLayoutAlign","center center","class","user-spinner",4,"ngIf"],[1,"mat-mdc-row"],[1,"mat-mdc-cell"],[1,"p-2","actions"],["mat-mini-fab","","color","primary",3,"routerLink","matTooltip"],["mat-mini-fab","","color","warn",3,"matTooltip","click"],["fxLayout","row wrap"],["fxFlex","100",1,"p-2"],[1,"text-center"],["autoHide","true","maxSize","5",1,"product-pagination",3,"pageChange"],["fxLayout","column","fxLayoutAlign","center center",1,"user-spinner"],["color","primary"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-button-toggle-group",2,3)(4,"mat-button-toggle",4),t.NdJ("click",function(){return a.gotoNewContract()}),t.TgZ(5,"mat-icon"),t._uU(6,"note_add"),t.qZA()()()(),t.TgZ(7,"div",5)(8,"mat-button-toggle-group",6,7)(10,"mat-button-toggle",8)(11,"mat-icon"),t._uU(12,"view_list"),t.qZA()(),t.TgZ(13,"mat-button-toggle",9)(14,"mat-icon"),t._uU(15,"view_module"),t.qZA()()()()(),t._UZ(16,"mat-divider"),t.TgZ(17,"mat-card")(18,"div",10)(19,"h2"),t._uU(20),t.ALo(21,"translate"),t.qZA()(),t._UZ(22,"mat-divider"),t.TgZ(23,"div",11)(24,"div",12)(25,"div",13)(26,"h2"),t._uU(27),t.ALo(28,"translate"),t.qZA()(),t.TgZ(29,"div",13)(30,"h2"),t._uU(31),t.ALo(32,"translate"),t.qZA()(),t.TgZ(33,"div",13)(34,"h2"),t._uU(35),t.ALo(36,"translate"),t.qZA()(),t.TgZ(37,"div",13)(38,"h2"),t._uU(39),t.ALo(40,"translate"),t.qZA()(),t.TgZ(41,"div",13)(42,"h2"),t._uU(43),t.ALo(44,"translate"),t.qZA()(),t.TgZ(45,"div",13)(46,"h2"),t._uU(47),t.ALo(48,"translate"),t.qZA()(),t.TgZ(49,"div",13)(50,"h2"),t._uU(51),t.ALo(52,"translate"),t.qZA()(),t._UZ(53,"div",13),t.qZA(),t.YNc(54,It,29,22,"div",14),t.ALo(55,"paginate"),t.qZA()(),t.YNc(56,Dt,4,0,"div",15),t.YNc(57,Nt,2,0,"div",16)),2&e&&(t.xp6(20),t.Oqu(t.lcZ(21,11,"HTML.Contract_List")),t.xp6(7),t.hij(" ",t.lcZ(28,13,"HTML.BRANCH")," "),t.xp6(4),t.hij(" ",t.lcZ(32,15,"HTML.BUILDING")," "),t.xp6(4),t.hij(" ",t.lcZ(36,17,"HTML.UnitNumber")," "),t.xp6(4),t.hij(" ",t.lcZ(40,19,"HTML.TENANT")," "),t.xp6(4),t.hij(" ",t.lcZ(44,21,"HTML.ContractDate")," "),t.xp6(4),t.hij(" ",t.lcZ(48,23,"HTML.ContractCode")," "),t.xp6(4),t.hij(" ",t.lcZ(52,25,"HTML.ContractSubCode")," "),t.xp6(3),t.Q6J("ngForOf",t.xi3(55,27,a.contractsAll,t.WLB(30,xt,a.count,a.page))),t.xp6(2),t.Q6J("ngIf",a.contractsAll),t.xp6(1),t.Q6J("ngIf",!a.contractsAll))},dependencies:[v.LS,c.sg,c.O5,f.rH,d.xw,d.Wh,d.yH,T.Tq,T.nh,$.A9,$.Yi,X.a8,R.Hw,O.d,ot.Ou,et.gM,v._s,_.X$],styles:[".user-name{padding:0 12px;font-weight:400}.user-content{padding:10px}.user-content .user-img{position:relative}.user-content .user-img img{border-radius:50%;width:80px;height:80px}.user-content .user-img img.blocked{opacity:.5}.user-content .user-img .mat-icon{position:absolute;top:-8px;left:-8px;font-size:96px;height:96px;width:96px}.user-content .mat-mdc-slide-toggle{margin-top:15px}.user-content .user-details span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.user-content .user-details .mat-icon{padding:2px 10px}.user-content .user-details.blocked{opacity:.5}.user-search{width:0;overflow:hidden;transition:.3s}.user-search .mat-mdc-form-field{width:100%!important;text-align:center!important}.user-search .mat-mdc-form-field .mat-mdc-form-field-infix{min-height:36px;padding:8px 0!important}.user-search .mat-mdc-form-field .mat-mdc-form-field-subscript-wrapper{display:none}.user-search .mat-mdc-input-element{text-align:center}.user-search.show{width:100%;overflow:visible}.user-spinner{position:absolute;inset:0}.mat-mdc-card{overflow:hidden}\n"],encapsulation:2});class Ft{}var st=l(3705),Lt=l(6002),y=l(9602),at=l(1596);function qt(i,e){1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"BTN.ADD")))}function Mt(i,e){1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"BTN.EDIT")))}function Rt(i,e){1&i&&(t.TgZ(0,"mat-error"),t._uU(1,"Code is required"),t.qZA())}function wt(i,e){1&i&&(t.TgZ(0,"mat-error"),t._uU(1,"Code is required"),t.qZA())}function Et(i,e){if(1&i&&(t.TgZ(0,"mat-option",24),t._uU(1),t.qZA()),2&i){const a=e.$implicit;t.Q6J("value",a.id),t.xp6(1),t.hij(" ",a.BRAArbName," ")}}function Pt(i,e){if(1&i&&(t.TgZ(0,"mat-option",24),t._uU(1),t.qZA()),2&i){const a=e.$implicit;t.Q6J("value",a.id),t.xp6(1),t.hij(" ",a.BUIName," ")}}function Kt(i,e){if(1&i&&(t.TgZ(0,"mat-option",24),t._uU(1),t.qZA()),2&i){const a=e.$implicit;t.Q6J("value",a.id),t.xp6(1),t.hij(" ",a.UNTUnitNumber," ")}}function kt(i,e){if(1&i&&(t.TgZ(0,"mat-option",24),t._uU(1),t.qZA()),2&i){const a=e.$implicit;t.Q6J("value",a.id),t.xp6(1),t.hij(" ",a.OWNName," ")}}function Ht(i,e){if(1&i&&(t.TgZ(0,"mat-option",24),t._uU(1),t.qZA()),2&i){const a=e.$implicit;t.Q6J("value",a.id),t.xp6(1),t.hij(" ",a.OWNName," ")}}function Bt(i,e){if(1&i&&(t.TgZ(0,"mat-option",24),t._uU(1),t.qZA()),2&i){const a=e.$implicit;t.Q6J("value",a.id),t.xp6(1),t.hij(" ",a.CUSName," ")}}function Jt(i,e){if(1&i&&(t.TgZ(0,"mat-option",24),t._uU(1),t.qZA()),2&i){const a=e.$implicit;t.Q6J("value",a.id),t.xp6(1),t.hij(" ",a.CUSName," ")}}function Gt(i,e){1&i&&(t.TgZ(0,"span"),t._uU(1,"Save"),t.qZA())}function Yt(i,e){1&i&&(t.TgZ(0,"span"),t._uU(1,"Update"),t.qZA())}class F{constructor(e,a,n,o,r,u,p,h,g,A,nt,ge){this.activatedRoute=e,this.codesService=a,this.unitsService=n,this.contractService=o,this.fb=r,this.localStore=u,this.router=p,this.global=h,this.translateService=g,this.atlasService=A,this.tenantsService=nt,this.snackBar=ge,this.curCOMId=S.N.comid,this.account=new U.n,this.docType_const=(new b.I).OwnershipDocTypes,this.country_const=(new b.I).Countries,this.governorate_const=(new b.I).Governorates,this.city_const=(new b.I).City,this.region_const=(new b.I).Regions,this.buildingFeatures_const=(new b.I).BuildingFeatures,this.passwordHide=!0,this.DocImageToUpload=null,this.defaultDocImage=(new Z.P).noImage,this.defaultCusImage=(new Z.P).noImage,this.CusImageToUpload=null,this.DocTypes=[],this.Countries=[],this.Governorates=[],this.AllBuilding=[],this.AllUnitsForBuilding=[],this.AllRepresentativeForOwner=[],this.AllBranches=[],this.AllOwners=[],this.AllRepresentativeForCustomer=[],this.AllTenants=[]}isBigEnough(e,a,n){return e>=10}ngOnInit(){this.userSUb=this.global.user.subscribe(e=>{this.account=e}),this.localStore.getItem("token")&&this.localStore.getItem("account")?(this.global.me=JSON.parse(this.localStore.getItem("account")),this.form=this.fb.group({id:null,RCOCode:[null,s.kI.required],RCOSubCode:[null,s.kI.required],contractDate:null,contractStartDate:null,contractEndDate:null,RCOContractStatus:"N",contractUnit:this.fb.group({branch_KeyField:null,build_KeyField:null,unit_KeyField:null}),contractPerson:this.fb.group({owner_KeyField:null,owner_representative_KeyField:null,customer_KeyField:null,customer_representative_KeyField:null}),contractValues:this.fb.group({RCOContractValue:0,RCOPayEveryMonthesNo:0,RCOMonthValue:0,RCOInsuranceValue:0,RCOSeekingValue:0,RCOMonthlyExpense:0,RCOExpenseDesc:null,RCOOtherValue:0,RCOMonthlyElectricValue:0,RCOElectricCounterReading:null,RCOMonthlyWaterValue:0,RCOWaterCounterReading:null,RCOMonthlyGasValue:0,RCOGasCounterReading:null}),settings:this.fb.group({isActive:null,isDeleted:null}),docs:this.fb.group({docOnePic:null,docPic:null})}),this.getCountries(this.curCOMId,this.account.periorty),this.getAllBranches(this.curCOMId,this.account.periorty),this.getAllOwnerss(this.curCOMId,this.account.periorty),this.getOwnershipDocType(this.curCOMId,this.account.periorty),this.getTenants(),this.sub=this.activatedRoute.params.subscribe(e=>{e.id?(this.id=+e.id,this.getContractById(this.id)):this.contractForDisplay=new Ft})):this.router.navigate(["/sign-in"])}onFileChange(e){this.DocImageToUpload=e.item(0);var a=new FileReader;a.onload=n=>{this.defaultDocImage=n.target.result},a.readAsDataURL(this.DocImageToUpload)}handelCUSImgInput(e){this.CusImageToUpload=e.item(0);var a=new FileReader;a.onload=n=>{this.defaultCusImage=n.target.result},a.readAsDataURL(this.CusImageToUpload)}mapFormvalue_to_ContractClass(){const e=new c.uU("en-GB").transform(this.form.value.contractDate,"dd/MM/yyyy"),a=new c.uU("en-GB").transform(this.form.value.contractStartDate,"dd/MM/yyyy"),n=new c.uU("en-GB").transform(this.form.value.contractEndDate,"dd/MM/yyyy");this.tenActive=this.form.value.settings.isActive?"T":"F",this.tenDeleted=this.form.value.settings.isDeleted?1:0,this.contractForDisplay.id=this.form.value.id,this.contractForDisplay.Related_RCOKeyField=this.form.value.Related_RCOKeyField,this.contractForDisplay.RCOCode=this.form.value.RCOCode,this.contractForDisplay.RCOSubCode=this.form.value.RCOSubCode,null!=this.form.value.contractDate&&(this.contractForDisplay.RCODate=e),null!=this.form.value.contractStartDate&&(this.contractForDisplay.RCOStartDate=a),null!=this.form.value.contractEndDate&&(this.contractForDisplay.RCOEndDate=n),this.contractForDisplay.RCOContractStatus=this.form.value.RCOContractStatus,this.contractForDisplay.branch_KeyField=this.form.value.contractUnit.branch_KeyField,this.contractForDisplay.build_KeyField=this.form.value.contractUnit.build_KeyField,this.contractForDisplay.unit_KeyField=this.form.value.contractUnit.unit_KeyField,this.contractForDisplay.owner_KeyField=this.form.value.contractPerson.owner_KeyField,this.contractForDisplay.owner_representative_KeyField=this.form.value.contractPerson.owner_representative_KeyField,this.contractForDisplay.customer_KeyField=this.form.value.contractPerson.customer_KeyField,this.contractForDisplay.customer_representative_KeyField=this.form.value.contractPerson.customer_representative_KeyField,this.contractForDisplay.RCOContractValue=this.form.value.contractValues.RCOContractValue,this.contractForDisplay.RCOPayEveryMonthesNo=this.form.value.contractValues.RCOPayEveryMonthesNo,this.contractForDisplay.RCOMonthValue=this.form.value.contractValues.RCOMonthValue,this.contractForDisplay.RCOInsuranceValue=this.form.value.contractValues.RCOInsuranceValue,this.contractForDisplay.RCOSeekingValue=this.form.value.contractValues.RCOSeekingValue,this.contractForDisplay.RCOMonthlyExpense=this.form.value.contractValues.RCOMonthlyExpense,this.contractForDisplay.RCOExpenseDesc=this.form.value.contractValues.RCOExpenseDesc,this.contractForDisplay.RCOOtherValue=this.form.value.contractValues.RCOOtherValue,this.contractForDisplay.RCOMonthlyElectricValue=this.form.value.contractValues.RCOMonthlyElectricValue,this.contractForDisplay.RCOElectricCounterReading=this.form.value.contractValues.RCOElectricCounterReading,this.contractForDisplay.RCOMonthlyWaterValue=this.form.value.contractValues.RCOMonthlyWaterValue,this.contractForDisplay.RCOWaterCounterReading=this.form.value.contractValues.RCOWaterCounterReading,this.contractForDisplay.RCOMonthlyGasValue=this.form.value.contractValues.RCOMonthlyGasValue,this.contractForDisplay.RCOGasCounterReading=this.form.value.contractValues.RCOGasCounterReading,this.contractForDisplay.RCOActive=this.tenActive,this.contractForDisplay.RowDelete=this.tenDeleted}getContractById(e){const a=[];this.contractService.getOneContract(e).subscribe(n=>{this.contractService.getOneContractDocs(this.curCOMId,this.account.periorty,e).subscribe(o=>{for(var r of o)a.push({link:r.RCDPic,preview:r.RCDPic})}),this.fillForm(n,a),this.contractForDisplay=n})}fillForm(e,a){this.is_active="T"==e.RCOActive,null!=e.branch_KeyField&&this.getBuildingPerBranch(this.curCOMId,this.account.periorty,e.branch_KeyField),null!=e.build_KeyField&&this.getUnitsPerBuilding(this.curCOMId,this.account.periorty,e.build_KeyField,""),null!=e.owner_KeyField&&this.getRepresentativePerOwner(this.curCOMId,this.account.periorty,e.owner_KeyField),null!=e.customer_KeyField&&this.getRepresentativePerCustomer(this.curCOMId,this.account.periorty,e.customer_KeyField),null!=e.RCODate&&(this.s_rcoDate=e.RCODate),this.is_delete=1==e.RowDelete,this.form.patchValue({id:e.id,RCOCode:e.RCOCode,RCOSubCode:e.RCOSubCode,contractDate:e.RCODate,contractStartDate:e.RCOStartDate,contractEndDate:e.RCOEndDate,RCOContractStatus:e.RCOContractStatus,contractUnit:{branch_KeyField:e.branch_KeyField,build_KeyField:e.build_KeyField,unit_KeyField:e.unit_KeyField},contractPerson:{owner_KeyField:e.owner_KeyField,owner_representative_KeyField:e.owner_representative_KeyField,customer_KeyField:e.customer_KeyField,customer_representative_KeyField:e.customer_representative_KeyField},contractValues:{RCOContractValue:e.RCOContractValue,RCOPayEveryMonthesNo:e.RCOPayEveryMonthesNo,RCOMonthValue:e.RCOMonthValue,RCOInsuranceValue:e.RCOInsuranceValue,RCOSeekingValue:e.RCOSeekingValue,RCOMonthlyExpense:e.RCOMonthlyExpense,RCOExpenseDesc:e.RCOExpenseDesc,RCOOtherValue:e.RCOOtherValue,RCOMonthlyElectricValue:e.RCOMonthlyElectricValue,RCOElectricCounterReading:e.RCOElectricCounterReading,RCOMonthlyWaterValue:e.RCOMonthlyWaterValue,RCOWaterCounterReading:e.RCOWaterCounterReading,RCOMonthlyGasValue:e.RCOMonthlyGasValue,RCOGasCounterReading:e.RCOGasCounterReading},settings:{isActive:this.is_active,isDeleted:this.is_delete},docs:{docPic:a}})}handleInstallment(e){var a=this;return function Ot(i){return function(){var e=this,a=arguments;return new Promise(function(n,o){var r=i.apply(e,a);function u(h){rt(r,n,o,u,p,"next",h)}function p(h){rt(r,n,o,u,p,"throw",h)}u(void 0)})}}(function*(){let n=12/e.RCOPayEveryMonthesNo,o=e.RCOPayEveryMonthesNo,r=e.RCOStartDate,u=e.RCOMonthValue;for(let g=0;g<n;g++){if(0==g)var p=new Date(r);else{const nt=new Date(r);p=a.addMonths(nt,g*o)}var h=new Date(new c.uU("en-GB").transform(p,"yyyy/MM/dd"));let A={contract_KeyField:e.id,branch_KeyField:e.branch_KeyField,owner_KeyField:e.owner_KeyField,build_KeyField:e.build_KeyField,unit_KeyField:e.unit_KeyField,customer_KeyField:e.customer_KeyField,INSCode:g+1,INSContractTyps:"I",INSStatus:"N",INSValue:u,INSDueDate:h};yield a.insertInstallment(A)}})()}insertInstallment(e){this.contractService.addInstallments(e).subscribe(a=>{})}saveUpdate(e){this.mapFormvalue_to_ContractClass(),e?this.contractService.editContract(this.contractForDisplay).subscribe(a=>{null!=this.DocImageToUpload&&this.contractService.addContractDocs(this.contractForDisplay.id,this.DocImageToUpload).subscribe(n=>{}),this.contractService.updateCustomerUnitFromContract(this.contractForDisplay.customer_KeyField,this.contractForDisplay.build_KeyField,this.contractForDisplay.unit_KeyField).subscribe(n=>{}),this.snackBar.open("\u062a\u0645 \u062a\u0639\u062f\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0639\u0642\u062f","\xd7",{panelClass:"success",verticalPosition:"top",duration:3e3}),this.router.navigate(["contracts/contract-list"])},a=>{this.snackBar.open(" \u062e\u0637\u0623 \u0641\u064a \u062a\u0639\u062f\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0639\u0642\u062f","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})}):this.contractService.addContract(this.contractForDisplay).subscribe(a=>{null!=this.DocImageToUpload&&this.contractService.addContractDocs(a.id,this.DocImageToUpload).subscribe(o=>{}),this.contractService.updateCustomerUnitFromContract(a.customer_KeyField,a.build_KeyField,a.unit_KeyField).subscribe(o=>{}),this.unitsService.editOneUnit({id:a.unit_KeyField,UNTHousingStatus:"R"}).subscribe(o=>{}),this.handleInstallment(a),this.snackBar.open("\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0639\u0642\u062f","\xd7",{panelClass:"success",verticalPosition:"top",duration:3e3}),this.router.navigate(["contracts/contract-list"])},a=>{this.snackBar.open(" \u062e\u0637\u0623 \u0641\u064a \u0627\u0636\u0627\u0641\u0647 \u0627\u0644\u0639\u0642\u062f","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})}close(){}addDays(e,a){return e.setDate(e.getDate()+a),e}addMonths(e,a){return e.setMonth(e.getMonth()+a),e}addMonths2(e,a){var n=e.getDate();return e.setMonth(e.getMonth()+ +a),e.getDate()!=n&&e.setDate(0),e}compareFunction(e,a){return e.username==a.username&&e.code==a.code}getOwnershipDocType(e,a){this.codesService.getSubForParent(e,a,this.docType_const).subscribe(n=>{this.DocTypes=n},n=>{this.snackBar.open("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0627\u0646\u0648\u0627\u0639 \u0645\u0633\u062a\u0646\u062f\u0627\u062a \u0627\u0644\u0645\u0644\u0643\u064a\u0629","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})}onChangeContractValue(e){let n=this.form.value.contractValues.RCOPayEveryMonthesNo;0==n&&(n=1),this.form.patchValue({contractValues:{RCOMonthValue:e.target.value/(12/n)}})}onChangePayEvery(e){let n=e.target.value;0==n&&(n=1),this.form.patchValue({contractValues:{RCOMonthValue:this.form.value.contractValues.RCOContractValue/(12/n)}})}getCountries(e,a){this.codesService.getSubForParent(e,a,this.country_const).subscribe(n=>{this.Countries=n},n=>{this.snackBar.open("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0627\u0644\u062f\u0648\u0644","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})}getBuildings(e){this.getBuildingPerBranch(this.curCOMId,this.account.periorty,e.value)}getBuildingPerBranch(e,a,n){this.unitsService.getBuildingsPerBranch(e,a,n).subscribe(o=>{this.AllBuilding=o},o=>{this.snackBar.open("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0627\u0644\u0639\u0642\u0627\u0631\u0627\u062a \u0644\u0644\u0641\u0631\u0639","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})}readBuilding(e){this.unitsService.getOneBuilding(e.value).subscribe(a=>{this.curOwnerId=a.owner_KeyField,console.log("====Cur Owner:: "+this.curOwnerId+"  "+a.owner_FullName),this.form.patchValue({contractPerson:{owner_KeyField:this.curOwnerId}}),this.getRepresentativePerOwner(this.curCOMId,this.account.periorty,this.curOwnerId)},a=>{this.snackBar.open("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0639\u0642\u0627\u0631","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})}),this.getUnitsPerBuilding(this.curCOMId,this.account.periorty,e.value,"E")}getUnitsPerBuilding(e,a,n,o){this.unitsService.getAllUnitsPerBuilding(e,a,n,o).subscribe(r=>{this.AllUnitsForBuilding=r},r=>{this.snackBar.open("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0627\u0644\u0648\u062d\u062f\u0627\u062a \u0644\u0644\u0639\u0642\u0627\u0631","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})}readUnit(e){e.value&&this.unitsService.getOneUnit(e.value).subscribe(a=>{this.form.patchValue({contractValues:{RCOContractValue:a.UNTContractValue,RCOPayEveryMonthesNo:a.UNTPayInstallmentEveryMonths,RCOMonthValue:a.UNTMonthlyRentValue,RCOInsuranceValue:a.UNTInsuranceValue,RCOSeekingValue:a.UNTSeekingValue,RCOMonthlyExpense:a.UNTMonthlyExpense,RCOExpenseDesc:a.UNTExpenseDesc,RCOOtherValue:a.UNTOtherValue,RCOMonthlyElectricValue:a.UNTMonthlyElectricityFee,RCOElectricCounterReading:a.UNTLastElectricityReading,RCOMonthlyWaterValue:a.UNTMonthlyWaterFee,RCOWaterCounterReading:a.UNTLastWaterReading,RCOMonthlyGasValue:a.UNTMonthlyGasFee,RCOGasCounterReading:a.UNTLastGasReading}})},a=>{this.snackBar.open("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0648\u062d\u062f\u0629","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})}getRepresentativePerOwner(e,a,n){this.contractService.getOwnersPerParent(e,a,n).subscribe(o=>{this.AllRepresentativeForOwner=o},o=>{this.snackBar.open("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0645\u0645\u062b\u0644 \u0627\u0644\u0645\u0627\u0644\u0643","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})}readOwner(e){console.log("====Selected readOwner:: "+e.value),this.getRepresentativePerOwner(this.curCOMId,this.account.periorty,e.value)}getAllBranches(e,a){this.atlasService.getAllBranch(e,a).subscribe(n=>{this.AllBranches=n},n=>{this.snackBar.open("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0627\u0644\u0641\u0631\u0648\u0639","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})}getAllOwnerss(e,a){this.contractService.getAllOwners(e,a).subscribe(n=>{this.AllOwners=n},n=>{this.snackBar.open("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0627\u0644\u0645\u0644\u0627\u0643","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})}readCustumer(e){console.log("====Selected readCustumer:: "+e.value),this.getRepresentativePerCustomer(this.curCOMId,this.account.periorty,e.value)}getRepresentativePerCustomer(e,a,n){this.tenantsService.getCustomersPerParent(e,a,n).subscribe(o=>{this.AllRepresentativeForCustomer=o},o=>{this.snackBar.open("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0645\u0645\u062b\u0644 \u0627\u0644\u0645\u0633\u062a\u0623\u062c\u0631","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})}getTenants(){this.AllTenants=null,this.tenantsService.getCustomers(this.curCOMId,this.account.periorty).subscribe(e=>this.AllTenants=e)}prepareMsgLanguage(){this.translateService.get("MESSAGE.RETRIEVE_ERROR").subscribe(e=>{this.errorRetrieveMsg=e}),this.translateService.get("MESSAGE.SURE_DELETE").subscribe(e=>{this.askToDeletedMsg=e}),this.translateService.get("MESSAGE.DELETED").subscribe(e=>{this.deletedMsg=e})}}F.\u0275fac=function(e){return new(e||F)(t.Y36(f.gz),t.Y36(z.d),t.Y36(st.X),t.Y36(k.W),t.Y36(s.QS),t.Y36(I.C),t.Y36(f.F0),t.Y36(D.U),t.Y36(_.sK),t.Y36(Lt.Z),t.Y36(j.v),t.Y36(N.ux))},F.\u0275cmp=t.Xpm({type:F,selectors:[["app-contract-dialog"]],decls:282,vars:176,consts:[["mat-dialog-title",""],[4,"ngIf"],[1,"user-form",3,"formGroup"],[1,"vertical-tabs","tab-content-wrapped",3,"backgroundColor","color"],[3,"label"],["fxLayout","column",1,"form-field-outer"],["fxLayout","column","fxLayoutGap","10px grid"],["fxLayout","row","fxLayoutAlign","space-between center",1,"w-100"],["fxFlex","100","fxFlex.gt-sm","27.0",1,"px-1"],["appearance","outline",1,"w-100"],["matInput","","formControlName","RCOCode","required",""],["fxFlex","100","fxFlex.gt-sm","22.8",1,"px-1"],["matInput","","formControlName","RCOSubCode","required",""],["fxFlex","100","fxFlex.gt-sm","50.0",1,"px-1"],["matInput","","formControlName","contractDate",3,"matDatepicker"],["matSuffix","",3,"for"],["contractDate",""],["fxFlex","100","fxFlex.gt-sm","49.8",1,"px-1"],["matInput","","formControlName","contractStartDate",3,"matDatepicker"],["contractStartDate",""],["matInput","","formControlName","contractEndDate",3,"matDatepicker"],["contractEndDate",""],["fxFlex","100","fxFlex.gt-sm","24.8",1,"px-1"],["formControlName","RCOContractStatus","id","contStatusOpSel",3,"placeholder"],[3,"value"],["formGroupName","contractUnit",3,"label"],["formControlName","branch_KeyField","id","branchContOpSel",3,"placeholder","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","build_KeyField","id","buildOneOpSel",3,"placeholder","selectionChange"],["formControlName","unit_KeyField","id","unitOneOpSel",3,"placeholder","selectionChange"],["formGroupName","contractPerson",3,"label"],["formControlName","owner_KeyField","id","oneOwnerOpSel",3,"placeholder","selectionChange"],["formControlName","owner_representative_KeyField","id","oneOwnerRepresOpSel",3,"placeholder"],["formControlName","customer_KeyField","id","oneCustomOpSel",3,"placeholder","selectionChange"],["formControlName","customer_representative_KeyField","id","CustomRepsOpSel",3,"placeholder","selectionChange"],["formGroupName","contractValues",3,"label"],["fxFlex","100","fxFlex.gt-sm","33.3",1,"px-1"],["matInput","","formControlName","RCOContractValue","required","",3,"change"],["matInput","","formControlName","RCOPayEveryMonthesNo","required","",3,"change"],["matInput","","formControlName","RCOMonthValue","required",""],["fxFlex","100","fxFlex.gt-sm","24.9",1,"px-1"],["matInput","","formControlName","RCOInsuranceValue"],["matInput","","formControlName","RCOSeekingValue"],["matInput","","formControlName","RCOMonthlyExpense"],["matInput","","formControlName","RCOOtherValue"],["fxFlex","100","fxFlex.gt-sm","100",1,"px-1"],["matInput","","formControlName","RCOExpenseDesc"],["matInput","","formControlName","RCOMonthlyElectricValue"],["matInput","","formControlName","RCOElectricCounterReading"],["matInput","","formControlName","RCOMonthlyWaterValue"],["matInput","","formControlName","RCOWaterCounterReading"],["matInput","","formControlName","RCOMonthlyGasValue"],["matInput","","formControlName","RCOGasCounterReading"],["formGroupName","settings",3,"label"],["formControlName","isActive"],["formControlName","isDeleted"],["formGroupName","docs",3,"label"],["fxFlex","100","fxFlex.gt-sm","100",1,"px-2"],[1,"p-2"],[2,"width","150px","height","200px",3,"src"],["hidden","","formControlName","docOnePic","name","docOnePic","id","uploadonedoc","type","file","accept","image/*",1,"user-img",3,"change"],["fileInput",""],["type","button","mat-raised-button","",3,"click"],["formControlName","docPic","fileAccept","image/*"],["mat-dialog-actions",""],["mat-raised-button","","color","primary",3,"mat-dialog-close","disabled","click"]],template:function(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"h1",0),t.YNc(1,qt,3,3,"span",1),t.YNc(2,Mt,3,3,"span",1),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"form",2)(6,"mat-tab-group",3)(7,"mat-tab",4),t.ALo(8,"translate"),t.TgZ(9,"div",5)(10,"div",6),t._UZ(11,"mat-label"),t.TgZ(12,"div",7)(13,"div",8)(14,"mat-form-field",9)(15,"mat-label"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t._UZ(18,"input",10),t.YNc(19,Rt,2,0,"mat-error",1),t.qZA()(),t.TgZ(20,"div",11)(21,"mat-form-field",9)(22,"mat-label"),t._uU(23),t.ALo(24,"translate"),t.qZA(),t._UZ(25,"input",12),t.YNc(26,wt,2,0,"mat-error",1),t.qZA()(),t.TgZ(27,"div",13)(28,"mat-form-field",9)(29,"mat-label"),t._uU(30),t.ALo(31,"translate"),t.qZA(),t._UZ(32,"input",14)(33,"mat-datepicker-toggle",15)(34,"mat-datepicker",null,16),t.qZA()()()(),t.TgZ(36,"div",7)(37,"div",17)(38,"mat-form-field",9)(39,"mat-label"),t._uU(40),t.ALo(41,"translate"),t.qZA(),t._UZ(42,"input",18)(43,"mat-datepicker-toggle",15)(44,"mat-datepicker",null,19),t.qZA()(),t.TgZ(46,"div",17)(47,"mat-form-field",9)(48,"mat-label"),t._uU(49),t.ALo(50,"translate"),t.qZA(),t._UZ(51,"input",20)(52,"mat-datepicker-toggle",15)(53,"mat-datepicker",null,21),t.qZA()()(),t.TgZ(55,"div",22)(56,"mat-form-field",9)(57,"mat-label"),t._uU(58),t.ALo(59,"translate"),t.qZA(),t.TgZ(60,"mat-select",23),t.ALo(61,"translate"),t.TgZ(62,"mat-option",24),t._uU(63,"-"),t.qZA(),t.TgZ(64,"mat-option",24),t._uU(65),t.ALo(66,"translate"),t.qZA(),t.TgZ(67,"mat-option",24),t._uU(68),t.ALo(69,"translate"),t.qZA(),t.TgZ(70,"mat-option",24),t._uU(71),t.ALo(72,"translate"),t.qZA(),t.TgZ(73,"mat-option",24),t._uU(74),t.ALo(75,"translate"),t.qZA()()()()()(),t.TgZ(76,"mat-tab",25),t.ALo(77,"translate"),t.TgZ(78,"div",5)(79,"div",6),t._UZ(80,"mat-label"),t.TgZ(81,"div",7)(82,"div",13)(83,"mat-form-field",9)(84,"mat-label"),t._uU(85),t.ALo(86,"translate"),t.qZA(),t.TgZ(87,"mat-select",26),t.NdJ("selectionChange",function(r){return a.getBuildings(r)}),t.ALo(88,"translate"),t.TgZ(89,"mat-option",24),t._uU(90,"-"),t.qZA(),t.YNc(91,Et,2,2,"mat-option",27),t.qZA()()()(),t.TgZ(92,"div",7)(93,"div",17)(94,"mat-form-field",9)(95,"mat-label"),t._uU(96),t.ALo(97,"translate"),t.qZA(),t.TgZ(98,"mat-select",28),t.NdJ("selectionChange",function(r){return a.readBuilding(r)}),t.ALo(99,"translate"),t.TgZ(100,"mat-option",24),t._uU(101,"-"),t.qZA(),t.YNc(102,Pt,2,2,"mat-option",27),t.qZA()()(),t.TgZ(103,"div",17)(104,"mat-form-field",9)(105,"mat-label"),t._uU(106),t.ALo(107,"translate"),t.qZA(),t.TgZ(108,"mat-select",29),t.NdJ("selectionChange",function(r){return a.readUnit(r)}),t.ALo(109,"translate"),t.TgZ(110,"mat-option",24),t._uU(111,"-"),t.qZA(),t.YNc(112,Kt,2,2,"mat-option",27),t.qZA()()()()()()(),t.TgZ(113,"mat-tab",30),t.ALo(114,"translate"),t.TgZ(115,"div",5)(116,"div",6),t._UZ(117,"mat-label"),t.TgZ(118,"div",7)(119,"div",17)(120,"mat-form-field",9)(121,"mat-label"),t._uU(122),t.ALo(123,"translate"),t.qZA(),t.TgZ(124,"mat-select",31),t.NdJ("selectionChange",function(r){return a.readOwner(r)}),t.ALo(125,"translate"),t.TgZ(126,"mat-option",24),t._uU(127,"-"),t.qZA(),t.YNc(128,kt,2,2,"mat-option",27),t.qZA()()(),t.TgZ(129,"div",17)(130,"mat-form-field",9)(131,"mat-label"),t._uU(132),t.ALo(133,"translate"),t.qZA(),t.TgZ(134,"mat-select",32),t.ALo(135,"translate"),t.TgZ(136,"mat-option",24),t._uU(137,"-"),t.qZA(),t.YNc(138,Ht,2,2,"mat-option",27),t.qZA()()()(),t.TgZ(139,"div",7)(140,"div",17)(141,"mat-form-field",9)(142,"mat-label"),t._uU(143),t.ALo(144,"translate"),t.qZA(),t.TgZ(145,"mat-select",33),t.NdJ("selectionChange",function(r){return a.readCustumer(r)}),t.ALo(146,"translate"),t.TgZ(147,"mat-option",24),t._uU(148,"-"),t.qZA(),t.YNc(149,Bt,2,2,"mat-option",27),t.qZA()()(),t.TgZ(150,"div",17)(151,"mat-form-field",9)(152,"mat-label"),t._uU(153),t.ALo(154,"translate"),t.qZA(),t.TgZ(155,"mat-select",34),t.NdJ("selectionChange",function(r){return a.readCustumer(r)}),t.ALo(156,"translate"),t.TgZ(157,"mat-option",24),t._uU(158,"-"),t.qZA(),t.YNc(159,Jt,2,2,"mat-option",27),t.qZA()()()()()()(),t.TgZ(160,"mat-tab",35),t.ALo(161,"translate"),t.TgZ(162,"div",5)(163,"div",6),t._UZ(164,"mat-label"),t.TgZ(165,"div",7)(166,"div",36)(167,"mat-form-field",9)(168,"mat-label"),t._uU(169),t.ALo(170,"translate"),t.qZA(),t.TgZ(171,"input",37),t.NdJ("change",function(r){return a.onChangeContractValue(r)}),t.qZA()()(),t.TgZ(172,"div",36)(173,"mat-form-field",9)(174,"mat-label"),t._uU(175),t.ALo(176,"translate"),t.qZA(),t.TgZ(177,"input",38),t.NdJ("change",function(r){return a.onChangePayEvery(r)}),t.qZA()()(),t.TgZ(178,"div",36)(179,"mat-form-field",9)(180,"mat-label"),t._uU(181),t.ALo(182,"translate"),t.qZA(),t._UZ(183,"input",39),t.qZA()()()(),t.TgZ(184,"div",7)(185,"div",40)(186,"mat-form-field",9)(187,"mat-label"),t._uU(188),t.ALo(189,"translate"),t.qZA(),t._UZ(190,"input",41),t.qZA()(),t.TgZ(191,"div",40)(192,"mat-form-field",9)(193,"mat-label"),t._uU(194),t.ALo(195,"translate"),t.qZA(),t._UZ(196,"input",42),t.qZA()(),t.TgZ(197,"div",40)(198,"mat-form-field",9)(199,"mat-label"),t._uU(200),t.ALo(201,"translate"),t.qZA(),t._UZ(202,"input",43),t.qZA()(),t.TgZ(203,"div",40)(204,"mat-form-field",9)(205,"mat-label"),t._uU(206),t.ALo(207,"translate"),t.qZA(),t._UZ(208,"input",44),t.qZA()()(),t.TgZ(209,"div",7)(210,"div",45)(211,"mat-form-field",9)(212,"mat-label"),t._uU(213),t.ALo(214,"translate"),t.qZA(),t._UZ(215,"input",46),t.qZA()()(),t.TgZ(216,"div",7)(217,"div",17)(218,"mat-form-field",9)(219,"mat-label"),t._uU(220),t.ALo(221,"translate"),t.qZA(),t._UZ(222,"input",47),t.qZA()(),t.TgZ(223,"div",17)(224,"mat-form-field",9)(225,"mat-label"),t._uU(226),t.ALo(227,"translate"),t.qZA(),t._UZ(228,"input",48),t.qZA()()(),t.TgZ(229,"div",7)(230,"div",17)(231,"mat-form-field",9)(232,"mat-label"),t._uU(233),t.ALo(234,"translate"),t.qZA(),t._UZ(235,"input",49),t.qZA()(),t.TgZ(236,"div",17)(237,"mat-form-field",9)(238,"mat-label"),t._uU(239),t.ALo(240,"translate"),t.qZA(),t._UZ(241,"input",50),t.qZA()()(),t.TgZ(242,"div",7)(243,"div",17)(244,"mat-form-field",9)(245,"mat-label"),t._uU(246),t.ALo(247,"translate"),t.qZA(),t._UZ(248,"input",51),t.qZA()(),t.TgZ(249,"div",17)(250,"mat-form-field",9)(251,"mat-label"),t._uU(252),t.ALo(253,"translate"),t.qZA(),t._UZ(254,"input",52),t.qZA()()()()(),t.TgZ(255,"mat-tab",53),t.ALo(256,"translate"),t.TgZ(257,"div",5)(258,"mat-checkbox",54),t._uU(259),t.ALo(260,"translate"),t.qZA(),t.TgZ(261,"mat-checkbox",55),t._uU(262),t.ALo(263,"translate"),t.qZA()()(),t.TgZ(264,"mat-tab",56),t.ALo(265,"translate"),t.TgZ(266,"div",57)(267,"div",58),t._UZ(268,"img",59),t.TgZ(269,"input",60,61),t.NdJ("change",function(r){return a.onFileChange(r.target.files)}),t.qZA(),t.TgZ(271,"button",62),t.NdJ("click",function(){t.CHM(n);const r=t.MAs(270);return t.KtG(r.click())}),t._uU(272),t.ALo(273,"translate"),t.qZA()(),t._UZ(274,"mat-divider")(275,"input-file",63),t.qZA()()()(),t._UZ(276,"br"),t.TgZ(277,"div",64)(278,"div",7)(279,"button",65),t.NdJ("click",function(){return a.saveUpdate(a.contractForDisplay.id)}),t.YNc(280,Gt,2,0,"span",1),t.YNc(281,Yt,2,0,"span",1),t.qZA()()()}if(2&e){const n=t.MAs(35),o=t.MAs(45),r=t.MAs(54);t.xp6(1),t.Q6J("ngIf",!a.contractForDisplay.id),t.xp6(1),t.Q6J("ngIf",a.contractForDisplay.id),t.xp6(1),t.hij(" ",t.lcZ(4,78,"HTML.RentContract"),""),t.xp6(2),t.Q6J("formGroup",a.form),t.xp6(1),t.Q6J("backgroundColor","primary")("color","warn"),t.xp6(1),t.s9C("label",t.lcZ(8,80,"HTML.TAB_BASIC")),t.xp6(9),t.hij(" ",t.lcZ(17,82,"HTML.CODE"),""),t.xp6(3),t.Q6J("ngIf",null==a.form.controls.RCOCode.errors?null:a.form.controls.RCOCode.errors.required),t.xp6(4),t.hij(" ",t.lcZ(24,84,"HTML.SUBCODE"),""),t.xp6(3),t.Q6J("ngIf",null==a.form.controls.RCOSubCode.errors?null:a.form.controls.RCOSubCode.errors.required),t.xp6(4),t.Oqu(t.lcZ(31,86,"HTML.ContractDate")),t.xp6(2),t.Q6J("matDatepicker",n),t.xp6(1),t.Q6J("for",n),t.xp6(7),t.Oqu(t.lcZ(41,88,"HTML.ContractStartDate")),t.xp6(2),t.Q6J("matDatepicker",o),t.xp6(1),t.Q6J("for",o),t.xp6(6),t.Oqu(t.lcZ(50,90,"HTML.ContractEndDate")),t.xp6(2),t.Q6J("matDatepicker",r),t.xp6(1),t.Q6J("for",r),t.xp6(6),t.Oqu(t.lcZ(59,92,"HTML.ContractStatus")),t.xp6(2),t.s9C("placeholder",t.lcZ(61,94,"HTML.ContractStatus")),t.xp6(4),t.Q6J("value","N"),t.xp6(1),t.Oqu(t.lcZ(66,96,"OPTIONS.NEW")),t.xp6(2),t.Q6J("value","R"),t.xp6(1),t.Oqu(t.lcZ(69,98,"OPTIONS.ReNew")),t.xp6(2),t.Q6J("value","C"),t.xp6(1),t.Oqu(t.lcZ(72,100,"OPTIONS.Canceld")),t.xp6(2),t.Q6J("value","F"),t.xp6(1),t.Oqu(t.lcZ(75,102,"OPTIONS.Finished")),t.xp6(2),t.s9C("label",t.lcZ(77,104,"HTML.TAB_ContractUnit")),t.xp6(9),t.hij(" ",t.lcZ(86,106,"HTML.BRANCH"),""),t.xp6(2),t.s9C("placeholder",t.lcZ(88,108,"HTML.BRANCH")),t.xp6(4),t.Q6J("ngForOf",a.AllBranches),t.xp6(5),t.hij(" ",t.lcZ(97,110,"HTML.BUILDING"),""),t.xp6(2),t.s9C("placeholder",t.lcZ(99,112,"HTML.BUILDING")),t.xp6(4),t.Q6J("ngForOf",a.AllBuilding),t.xp6(4),t.hij(" ",t.lcZ(107,114,"HTML.UNIT"),""),t.xp6(2),t.s9C("placeholder",t.lcZ(109,116,"HTML.UNIT")),t.xp6(4),t.Q6J("ngForOf",a.AllUnitsForBuilding),t.xp6(1),t.s9C("label",t.lcZ(114,118,"HTML.TAB_ContractPersons")),t.xp6(9),t.hij(" ",t.lcZ(123,120,"HTML.OWNER"),""),t.xp6(2),t.s9C("placeholder",t.lcZ(125,122,"HTML.OWNER")),t.xp6(4),t.Q6J("ngForOf",a.AllOwners),t.xp6(4),t.hij(" ",t.lcZ(133,124,"HTML.OwnerRepresentative"),""),t.xp6(2),t.s9C("placeholder",t.lcZ(135,126,"HTML.OwnerRepresentative")),t.xp6(4),t.Q6J("ngForOf",a.AllRepresentativeForOwner),t.xp6(5),t.hij(" ",t.lcZ(144,128,"HTML.TENANT"),""),t.xp6(2),t.s9C("placeholder",t.lcZ(146,130,"HTML.TENANT")),t.xp6(4),t.Q6J("ngForOf",a.AllTenants),t.xp6(4),t.hij(" ",t.lcZ(154,132,"HTML.TenantRepresentative"),""),t.xp6(2),t.s9C("placeholder",t.lcZ(156,134,"HTML.TenantRepresentative")),t.xp6(4),t.Q6J("ngForOf",a.AllRepresentativeForCustomer),t.xp6(1),t.s9C("label",t.lcZ(161,136,"HTML.TAB_ContractValues")),t.xp6(9),t.Oqu(t.lcZ(170,138,"HTML.ContractValue")),t.xp6(6),t.Oqu(t.lcZ(176,140,"HTML.PayEveryMonthesNo")),t.xp6(6),t.Oqu(t.lcZ(182,142,"HTML.InstallmentValue")),t.xp6(7),t.Oqu(t.lcZ(189,144,"HTML.InsuranceValue")),t.xp6(6),t.Oqu(t.lcZ(195,146,"HTML.SeekingValue")),t.xp6(6),t.Oqu(t.lcZ(201,148,"HTML.MonthlyExpense")),t.xp6(6),t.Oqu(t.lcZ(207,150,"HTML.OtherValue")),t.xp6(7),t.Oqu(t.lcZ(214,152,"HTML.ExpenseDesc")),t.xp6(7),t.Oqu(t.lcZ(221,154,"HTML.MonthlyElectricValue")),t.xp6(6),t.Oqu(t.lcZ(227,156,"HTML.ElectricCounterReading")),t.xp6(7),t.Oqu(t.lcZ(234,158,"HTML.MonthlyWaterValue")),t.xp6(6),t.Oqu(t.lcZ(240,160,"HTML.WaterCounterReading")),t.xp6(7),t.Oqu(t.lcZ(247,162,"HTML.MonthlyGasValue")),t.xp6(6),t.Oqu(t.lcZ(253,164,"HTML.GasCounterReading")),t.xp6(3),t.s9C("label",t.lcZ(256,166,"HTML.TAB_SETTINGS")),t.xp6(4),t.Oqu(t.lcZ(260,168,"HTML.ACTIVE")),t.xp6(3),t.Oqu(t.lcZ(263,170,"HTML.BLOCKED")),t.xp6(2),t.s9C("label",t.lcZ(265,172,"HTML.TAB_DOCS")),t.xp6(4),t.Q6J("src",a.defaultDocImage,t.LSH),t.xp6(4),t.Oqu(t.lcZ(273,174,"HTML.AddPic")),t.xp6(7),t.Q6J("mat-dialog-close",a.form.value)("disabled",!a.form.valid),t.xp6(1),t.Q6J("ngIf",!a.contractForDisplay.id),t.xp6(1),t.Q6J("ngIf",a.contractForDisplay.id)}},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.Q7,c.sg,c.O5,s.sg,s.u,s.x0,d.xw,d.SQ,d.Wh,d.yH,Y.ey,T.lW,tt.oG,y.Mq,y.hl,y.nW,m.ZT,m.uh,m.H8,w.Nt,C.KE,C.hX,C.TO,C.R9,O.d,Q.gD,x.uX,x.SP,at.tW,_.X$],styles:[".user-form .form-field-outer{width:680px}.user-form .mat-mdc-radio-button{margin-right:12px}.container{background-color:var(--backgroundColorContainer);border-right:2px solid var(--backgroundColorContainerBorder)}\n"],encapsulation:2});var Vt=l(529),Qt=l(5494),jt=l(9045);function Wt(i,e){1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"BTN.ADD")))}function $t(i,e){1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"BTN.EDIT")))}function Xt(i,e){1&i&&(t.TgZ(0,"mat-error"),t._uU(1,"Code is required"),t.qZA())}function zt(i,e){1&i&&(t.TgZ(0,"mat-error"),t._uU(1,"Code isn't long enough, minimum of 4 characters"),t.qZA())}function te(i,e){1&i&&(t.TgZ(0,"mat-error"),t._uU(1,"First name is required"),t.qZA())}function ee(i,e){1&i&&(t.TgZ(0,"mat-error"),t._uU(1,"Last name is required"),t.qZA())}function ae(i,e){1&i&&(t.TgZ(0,"mat-error"),t._uU(1,"Mobile is required"),t.qZA())}function ne(i,e){if(1&i&&(t.TgZ(0,"mat-option",32),t._uU(1),t.qZA()),2&i){const a=e.$implicit;t.Q6J("value",a.id),t.xp6(1),t.hij(" ",a.BUIName," ")}}function ie(i,e){if(1&i&&(t.TgZ(0,"mat-option",32),t._uU(1),t.qZA()),2&i){const a=e.$implicit;t.Q6J("value",a.id),t.xp6(1),t.hij(" ",a.UNTUnitNumber," ")}}function oe(i,e){if(1&i&&(t.TgZ(0,"mat-option",32),t._uU(1),t.qZA()),2&i){const a=e.$implicit;t.Q6J("value",a.id),t.xp6(1),t.hij(" ",a.CTTSubjectName," ")}}function re(i,e){1&i&&(t.TgZ(0,"span"),t._uU(1,"Save"),t.qZA())}function se(i,e){1&i&&(t.TgZ(0,"span"),t._uU(1,"Update"),t.qZA())}class L{constructor(e,a,n,o,r,u,p,h,g,A){this.activatedRoute=e,this.codesService=a,this.unitsService=n,this.fb=o,this.localStore=r,this._CustomerService=u,this.router=p,this.global=h,this.translateService=g,this.snackBar=A,this.curCOMId=S.N.comid,this.account=new U.n,this.country_const=(new b.I).Countries,this.passwordHide=!0,this.tenant=new M,this.DocImageToUpload=null,this.defaultDocImage=(new Z.P).noImage,this.defaultCusImage=(new Z.P).noImage,this.CusImageToUpload=null,this.defaultIDImage=(new Z.P).noImage,this.IDImageToUpload=null,this.Countries=[],this.AllBuildings=[],this.AllUnits=[]}ngOnInit(){this.userSUb=this.global.user.subscribe(e=>{this.account=e}),this.localStore.getItem("token")&&this.localStore.getItem("account")?(this.global.me=JSON.parse(this.localStore.getItem("account")),this.form=this.fb.group({id:null,code:[null,s.kI.required],username:[{value:null,disabled:!0}],firstname:[null,s.kI.compose([s.kI.required,s.kI.minLength(3)])],lastname:[null,s.kI.compose([s.kI.required,s.kI.minLength(3)])],image:null,mobile:null,selftype:"P",profile:this.fb.group({birthday:null,gender:"M",curbuilding:null,curunit:null}),work:this.fb.group({company:null,position:null,nationalIDType:"F",nationalID:null,nationalIDStartDate:null,nationalIDEndDate:null,nationalIDPic:null}),contacts:this.fb.group({email:null,homephone:null,workphone:null,address:null,country:[{value:null}],governorate:[{value:null,disabled:!0}],city:[{value:null,disabled:!0}],area:[{value:null,disabled:!0}]}),social:this.fb.group({facebook:null,twitter:null,google:null}),settings:this.fb.group({isActive:null,isDeleted:null}),docs:this.fb.group({docOnePic:null,docPic:null})}),this.getCountries(this.curCOMId,this.account.periorty),this.getAllBuildings(this.curCOMId,this.account.periorty),console.log("=====**** ngOnInit.222 ****======="),this.sub=this.activatedRoute.params.subscribe(e=>{console.log(e.id),console.log("=====**** ngOnInit.222 ****======="),e.id?(this.id=+e.id,this.getTenantById(this.id)):this.CUS=new M})):this.router.navigate(["/sign-in"])}onFileChange(e){this.DocImageToUpload=e.item(0);var a=new FileReader;a.onload=n=>{this.defaultDocImage=n.target.result},a.readAsDataURL(this.DocImageToUpload)}onFileRemove(e){console.log("====On Remove:: "+e)}handelCUSImgInput(e){this.CusImageToUpload=e.item(0);var a=new FileReader;a.onload=n=>{this.defaultCusImage=n.target.result},a.readAsDataURL(this.CusImageToUpload)}handelIDImgInput(e){this.IDImageToUpload=e.item(0);var a=new FileReader;a.onload=n=>{console.log("=====before====="+this.defaultIDImage),this.defaultIDImage=n.target.result,console.log("=====after====="+this.defaultIDImage)},a.readAsDataURL(this.IDImageToUpload)}mapFormvalue_to_CustomerClass(){const e=new c.uU("en-GB").transform(this.form.value.profile.birthday,"dd/MM/yyyy"),a=new c.uU("en-GB").transform(this.form.value.work.nationalIDStartDate,"dd/MM/yyyy"),n=new c.uU("en-GB").transform(this.form.value.work.nationalIDEndDate,"dd/MM/yyyy");this.tenActive=this.form.value.settings.isActive?"T":"F",this.tenDeleted=this.form.value.settings.isDeleted?1:0,null!=this.form.value.profile.birthday&&(this.CUS.CUSBirthDate=e),null!=this.form.value.work.nationalIDStartDate&&(this.CUS.CUSNationalIDStartDate=a),null!=this.form.value.work.nationalIDEndDate&&(this.CUS.CUSNationalIDEndDate=n),this.CUS.CUSCode=+this.form.value.code,this.CUS.CUSFirstName=this.form.value.firstname,this.CUS.CUSLastName=this.form.value.lastname,this.CUS.CUSGender=this.form.value.profile.gender,this.CUS.current_building=this.form.value.profile.curbuilding,this.CUS.current_unit=this.form.value.profile.curunit,this.CUS.CUSSelfType=this.form.value.selftype,this.CUS.CUSPic=this.form.value.image,this.CUS.CUSIDPic=this.form.value.work.nationalIDPic,this.CUS.CUSGuarantor=this.form.value.work.company,this.CUS.CUSJobName=this.form.value.work.position,this.CUS.CUSNationalIDType=this.form.value.work.nationalIDType,this.CUS.CUSNationalID=this.form.value.work.nationalID,this.CUS.CUSMobile=this.form.value.mobile,this.CUS.CUSEmail=this.form.value.contacts.email,this.CUS.CUSHomePhone=this.form.value.contacts.homephone,this.CUS.CUSWorkPhone=this.form.value.contacts.workphone,this.CUS.CUSAddress=this.form.value.contacts.address,this.CUS.Country_CTTKeyField=this.form.value.contacts.country,this.CUS.Governorate_CTTKeyField=this.form.value.contacts.governorate,this.CUS.City_CTTKeyField=this.form.value.contacts.city,this.CUS.Area_CTTKeyField=this.form.value.contacts.area,this.CUS.CUSFacebook=this.form.value.social.facebook,this.CUS.CUSTwitter=this.form.value.social.twitter,this.CUS.CUSGoogle=this.form.value.social.google,this.CUS.CUSActive=this.tenActive,this.CUS.RowDelete=this.tenDeleted}getTenantById(e){const a=[];this._CustomerService.getOneCustomer(e).subscribe(n=>{this._CustomerService.getOneCustomerDocs(this.curCOMId,this.account.periorty,e).subscribe(o=>{for(var r of o)a.push({link:r.CUDPic,preview:r.CUDPic})}),this.fillForm(n,a),this.CUS=n})}fillForm(e,a){this.is_active="T"==e.CUSActive,null!=e.current_building&&this.getAllUnits(this.curCOMId,this.account.periorty,e.current_building),this.defaultCusImage=null!=e.CUSPic?e.CUSPic:(new Z.P).noImage,this.defaultIDImage=null!=e.CUSIDPic?e.CUSIDPic:(new Z.P).noImage,this.is_delete=1==e.RowDelete,this.form.patchValue({id:e.id,code:e.CUSCode,username:e.CUSusername,firstname:e.CUSFirstName,lastname:e.CUSLastName,image:e.CUSPic,selftype:e.CUSSelfType,mobile:e.CUSMobile,profile:{birthday:e.CUSBirthDate,gender:e.CUSGender,curbuilding:e.current_building,curunit:e.current_unit},work:{company:e.CUSGuarantor,position:e.CUSJobName,nationalIDType:e.CUSNationalIDType,nationalID:e.CUSNationalID,nationalIDStartDate:e.CUSNationalIDStartDate,nationalIDEndDate:e.CUSNationalIDEndDate,nationalIDPic:e.CUSIDPic},contacts:{email:e.CUSEmail,homephone:e.CUSHomePhone,workphone:e.CUSWorkPhone,address:e.CUSAddress,country:e.Country_CTTKeyField,governorate:e.Governorate_CTTKeyField,city:e.City_CTTKeyField,area:e.Area_CTTKeyField},social:{facebook:e.CUSFacebook,twitter:e.CUSTwitter,google:e.CUSGoogle},settings:{isActive:this.is_active,isDeleted:this.is_delete},docs:{docPic:a}})}saveUpdate(e){console.log("=============saveUpdate()==============="),this.mapFormvalue_to_CustomerClass(),e?this._CustomerService.editCustomer(this.CUS,this.CusImageToUpload,this.IDImageToUpload).subscribe(a=>{null!=this.DocImageToUpload&&this._CustomerService.addCustomerDocs(this.CUS.id,this.DocImageToUpload).subscribe(n=>{console.log("====yes from update====",n)}),this.snackBar.open("\u062a\u0645 \u062a\u0639\u062f\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0639\u0645\u064a\u0644","\xd7",{panelClass:"success",verticalPosition:"top",duration:3e3}),this.router.navigate(["contracts/tenant-list"])},a=>{this.snackBar.open(" \u062e\u0637\u0623 \u0641\u064a \u062a\u0639\u062f\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0639\u0645\u064a\u0644","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})}):(console.log(this.CUS),this._CustomerService.addCustomer(this.CUS,this.CusImageToUpload,this.IDImageToUpload).subscribe(a=>{null!=this.DocImageToUpload&&this._CustomerService.addCustomerDocs(a.id,this.DocImageToUpload).subscribe(n=>{console.log("====yes from insert====",n)}),this.snackBar.open("\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0639\u0645\u064a\u0644","\xd7",{panelClass:"success",verticalPosition:"top",duration:3e3}),this.router.navigate(["contracts/tenant-list"])},a=>{this.snackBar.open(" \u062e\u0637\u0623 \u0641\u064a \u0627\u0636\u0627\u0641\u0647 \u0639\u0645\u064a\u0644","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})}))}close(){}getGovernorate(){}compareFunction(e,a){return e.username==a.username&&e.code==a.code}getCountries(e,a){this.codesService.getSubForParent(e,a,this.country_const).subscribe(n=>{this.Countries=n},n=>{this.snackBar.open("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0627\u0644\u062f\u0648\u0644","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})}getAllBuildings(e,a){this.unitsService.getAllBuilding(e,a).subscribe(n=>{this.AllBuildings=n},n=>{this.snackBar.open("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0627\u0644\u0639\u0642\u0627\u0631\u0627\u062a","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})}getUnitsPerBuild(e){this.getAllUnits(this.curCOMId,this.account.periorty,e.value)}getAllUnits(e,a,n){this.unitsService.getAllUnitsPerBuilding(e,a,n,"").subscribe(o=>{this.AllUnits=o},o=>{this.snackBar.open("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0627\u0644\u0648\u062d\u062f\u0627\u062a","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})}prepareMsgLanguage(){this.translateService.get("MESSAGE.RETRIEVE_ERROR").subscribe(e=>{this.errorRetrieveMsg=e}),this.translateService.get("MESSAGE.SURE_DELETE").subscribe(e=>{this.askToDeletedMsg=e}),this.translateService.get("MESSAGE.DELETED").subscribe(e=>{this.deletedMsg=e})}}L.\u0275fac=function(e){return new(e||L)(t.Y36(f.gz),t.Y36(z.d),t.Y36(st.X),t.Y36(s.QS),t.Y36(I.C),t.Y36(j.v),t.Y36(f.F0),t.Y36(D.U),t.Y36(_.sK),t.Y36(N.ux))},L.\u0275cmp=t.Xpm({type:L,selectors:[["app-customers-details"]],decls:231,vars:152,consts:[["mat-dialog-title",""],[4,"ngIf"],[1,"user-form",3,"formGroup"],[1,"vertical-tabs","tab-content-wrapped",3,"backgroundColor","color"],[3,"label"],["fxLayout","column",1,"form-field-outer"],["fxLayout","row","fxLayoutAlign","space-between center",1,"w-100"],[1,"w-25"],["matInput","","formControlName","code","required",""],[1,"w-70"],["matInput","","formControlName","username"],[1,"w-50"],["matInput","","formControlName","firstname","required",""],[1,"w-45"],["matInput","","formControlName","lastname","required",""],["matInput","","formControlName","mobile","required",""],["formControlName","selftype"],["value","P","labelPosition","after"],["value","C","labelPosition","after"],["value","O","labelPosition","after"],[1,"p-2"],[2,"width","150px","height","200px",3,"src"],["formControlName","image","name","image","id","upload","type","file","accept","image/*",1,"user-img",3,"change"],["formGroupName","profile",3,"label"],["formControlName","gender"],["value","M","labelPosition","after"],["value","F","labelPosition","after"],["matInput","","formControlName","birthday",3,"matDatepicker"],["matSuffix","",3,"for"],["birthday",""],["appearance","outline",1,"w-50"],["formControlName","curbuilding","id","buildOpSel",3,"placeholder","selectionChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline",1,"w-45"],["formControlName","curunit","id","unitOpSel",3,"placeholder"],["formGroupName","work",3,"label"],[1,"w-100"],["matInput","","formControlName","company"],["matInput","","formControlName","position"],["formControlName","nationalIDType"],["value","N","labelPosition","after"],["value","K","labelPosition","after"],["value","S","labelPosition","after"],["matInput","","formControlName","nationalID"],["matInput","","formControlName","nationalIDStartDate",3,"matDatepicker"],["natStartDate",""],["matInput","","formControlName","nationalIDEndDate",3,"matDatepicker"],["natEndDate",""],[2,"width","250px","height","200px",3,"src"],["formControlName","nationalIDPic","id","IDupload","type","file","accept","image/*",1,"user-img",3,"change"],["formGroupName","contacts",3,"label"],["matInput","","formControlName","homephone"],["matInput","","formControlName","workphone"],["matInput","","formControlName","email","required",""],["matInput","","formControlName","address"],["appearance","outline",1,"w-100"],["formControlName","country",3,"placeholder"],["formGroupName","social",3,"label"],["matInput","","formControlName","facebook"],["matInput","","formControlName","twitter"],["matInput","","formControlName","google"],["formGroupName","settings",3,"label"],["formControlName","isActive"],["formControlName","isDeleted"],["formGroupName","docs",3,"label"],["fxFlex","100","fxFlex.gt-sm","100",1,"px-2"],["hidden","","formControlName","docOnePic","name","docOnePic","id","uploadonedoc","type","file","accept","image/*",1,"user-img",3,"change"],["fileInput",""],["type","button","mat-raised-button","",3,"click"],["formControlName","docPic","fileAccept","image/*"],["mat-dialog-actions",""],["mat-raised-button","","color","primary",3,"mat-dialog-close","disabled","click"]],template:function(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"h1",0),t.YNc(1,Wt,3,3,"span",1),t.YNc(2,$t,3,3,"span",1),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"form",2)(6,"mat-tab-group",3)(7,"mat-tab",4),t.ALo(8,"translate"),t.TgZ(9,"div",5)(10,"div",6)(11,"mat-form-field",7)(12,"mat-label")(13,"mat-icon"),t._uU(14,"person"),t.qZA(),t._uU(15),t.ALo(16,"translate"),t.qZA(),t._UZ(17,"input",8),t.YNc(18,Xt,2,0,"mat-error",1),t.YNc(19,zt,2,0,"mat-error",1),t.qZA(),t.TgZ(20,"mat-form-field",9)(21,"mat-label")(22,"mat-icon"),t._uU(23,"person"),t.qZA(),t._uU(24),t.ALo(25,"translate"),t.qZA(),t._UZ(26,"input",10),t.qZA()(),t.TgZ(27,"div",6)(28,"mat-form-field",11)(29,"mat-label")(30,"mat-icon"),t._uU(31,"person"),t.qZA(),t._uU(32),t.ALo(33,"translate"),t.qZA(),t._UZ(34,"input",12),t.YNc(35,te,2,0,"mat-error",1),t.qZA(),t.TgZ(36,"mat-form-field",13)(37,"mat-label")(38,"mat-icon"),t._uU(39,"person"),t.qZA(),t._uU(40),t.ALo(41,"translate"),t.qZA(),t._UZ(42,"input",14),t.YNc(43,ee,2,0,"mat-error",1),t.qZA()(),t.TgZ(44,"mat-form-field",11)(45,"mat-label"),t._uU(46),t.ALo(47,"translate"),t.qZA(),t._UZ(48,"input",15),t.YNc(49,ae,2,0,"mat-error",1),t.qZA(),t.TgZ(50,"div",6)(51,"mat-radio-group",16)(52,"mat-radio-button",17),t._uU(53),t.ALo(54,"translate"),t.qZA(),t.TgZ(55,"mat-radio-button",18),t._uU(56),t.ALo(57,"translate"),t.qZA(),t.TgZ(58,"mat-radio-button",19),t._uU(59),t.ALo(60,"translate"),t.qZA()()(),t.TgZ(61,"div",20),t._UZ(62,"img",21),t.TgZ(63,"input",22),t.NdJ("change",function(r){return a.handelCUSImgInput(r.target.files)}),t.qZA()()()(),t.TgZ(64,"mat-tab",23),t.ALo(65,"translate"),t.TgZ(66,"div",5)(67,"div",6)(68,"mat-radio-group",24)(69,"mat-radio-button",25),t._uU(70),t.ALo(71,"translate"),t.qZA(),t.TgZ(72,"mat-radio-button",26),t._uU(73),t.ALo(74,"translate"),t.qZA()(),t.TgZ(75,"mat-form-field",11)(76,"mat-label"),t._uU(77),t.ALo(78,"translate"),t.qZA(),t._UZ(79,"input",27)(80,"mat-datepicker-toggle",28)(81,"mat-datepicker",null,29),t.qZA()(),t.TgZ(83,"div",6)(84,"mat-form-field",30)(85,"mat-label"),t._uU(86),t.ALo(87,"translate"),t.qZA(),t.TgZ(88,"mat-select",31),t.NdJ("selectionChange",function(r){return a.getUnitsPerBuild(r)}),t.ALo(89,"translate"),t.TgZ(90,"mat-option",32),t._uU(91,"-"),t.qZA(),t.YNc(92,ne,2,2,"mat-option",33),t.qZA()(),t.TgZ(93,"mat-form-field",34)(94,"mat-label"),t._uU(95),t.ALo(96,"translate"),t.qZA(),t.TgZ(97,"mat-select",35),t.ALo(98,"translate"),t.TgZ(99,"mat-option",32),t._uU(100,"-"),t.qZA(),t.YNc(101,ie,2,2,"mat-option",33),t.qZA()()()()(),t.TgZ(102,"mat-tab",36),t.ALo(103,"translate"),t.TgZ(104,"div",5)(105,"mat-form-field",37)(106,"mat-label"),t._uU(107),t.ALo(108,"translate"),t.qZA(),t._UZ(109,"input",38),t.qZA(),t.TgZ(110,"mat-form-field",37)(111,"mat-label"),t._uU(112),t.ALo(113,"translate"),t.qZA(),t._UZ(114,"input",39),t.qZA(),t.TgZ(115,"mat-radio-group",40)(116,"mat-radio-button",41),t._uU(117),t.ALo(118,"translate"),t.qZA(),t.TgZ(119,"mat-radio-button",26),t._uU(120),t.ALo(121,"translate"),t.qZA(),t.TgZ(122,"mat-radio-button",42),t._uU(123),t.ALo(124,"translate"),t.qZA(),t.TgZ(125,"mat-radio-button",43),t._uU(126),t.ALo(127,"translate"),t.qZA(),t.TgZ(128,"mat-radio-button",19),t._uU(129),t.ALo(130,"translate"),t.qZA()(),t.TgZ(131,"mat-form-field",37)(132,"mat-label"),t._uU(133),t.ALo(134,"translate"),t.qZA(),t._UZ(135,"input",44),t.qZA(),t.TgZ(136,"div",6)(137,"mat-form-field",11)(138,"mat-label"),t._uU(139),t.ALo(140,"translate"),t.qZA(),t._UZ(141,"input",45)(142,"mat-datepicker-toggle",28)(143,"mat-datepicker",null,46),t.qZA(),t.TgZ(145,"mat-form-field",13)(146,"mat-label"),t._uU(147),t.ALo(148,"translate"),t.qZA(),t._UZ(149,"input",47)(150,"mat-datepicker-toggle",28)(151,"mat-datepicker",null,48),t.qZA()()(),t.TgZ(153,"div",20),t._UZ(154,"img",49),t.TgZ(155,"input",50),t.NdJ("change",function(r){return a.handelIDImgInput(r.target.files)}),t.qZA()()(),t.TgZ(156,"mat-tab",51),t.ALo(157,"translate"),t.TgZ(158,"div",5)(159,"div",6)(160,"mat-form-field",11)(161,"mat-label"),t._uU(162),t.ALo(163,"translate"),t.qZA(),t._UZ(164,"input",52),t.qZA(),t.TgZ(165,"mat-form-field",13)(166,"mat-label"),t._uU(167),t.ALo(168,"translate"),t.qZA(),t._UZ(169,"input",53),t.qZA()(),t.TgZ(170,"mat-form-field",37)(171,"mat-label"),t._uU(172),t.ALo(173,"translate"),t.qZA(),t._UZ(174,"input",54),t.qZA(),t.TgZ(175,"mat-form-field",37)(176,"mat-label"),t._uU(177),t.ALo(178,"translate"),t.qZA(),t._UZ(179,"input",55),t.qZA(),t.TgZ(180,"mat-form-field",56)(181,"mat-label"),t._uU(182),t.ALo(183,"translate"),t.qZA(),t.TgZ(184,"mat-select",57),t.ALo(185,"translate"),t.TgZ(186,"mat-option",32),t._uU(187,"-"),t.qZA(),t.YNc(188,oe,2,2,"mat-option",33),t.qZA()()()(),t.TgZ(189,"mat-tab",58),t.ALo(190,"translate"),t.TgZ(191,"div",5)(192,"mat-form-field",37)(193,"mat-label"),t._uU(194,"Facebook"),t.qZA(),t._UZ(195,"input",59),t.qZA(),t.TgZ(196,"mat-form-field",37)(197,"mat-label"),t._uU(198,"Twitter"),t.qZA(),t._UZ(199,"input",60),t.qZA(),t.TgZ(200,"mat-form-field",37)(201,"mat-label"),t._uU(202,"Google"),t.qZA(),t._UZ(203,"input",61),t.qZA()()(),t.TgZ(204,"mat-tab",62),t.ALo(205,"translate"),t.TgZ(206,"div",5)(207,"mat-checkbox",63),t._uU(208),t.ALo(209,"translate"),t.qZA(),t.TgZ(210,"mat-checkbox",64),t._uU(211),t.ALo(212,"translate"),t.qZA()()(),t.TgZ(213,"mat-tab",65),t.ALo(214,"translate"),t.TgZ(215,"div",66)(216,"div",20),t._UZ(217,"img",21),t.TgZ(218,"input",67,68),t.NdJ("change",function(r){return a.onFileChange(r.target.files)}),t.qZA(),t.TgZ(220,"button",69),t.NdJ("click",function(){t.CHM(n);const r=t.MAs(219);return t.KtG(r.click())}),t._uU(221),t.ALo(222,"translate"),t.qZA()(),t._UZ(223,"mat-divider")(224,"input-file",70),t.qZA()()()(),t._UZ(225,"br"),t.TgZ(226,"div",71)(227,"div",6)(228,"button",72),t.NdJ("click",function(){return a.saveUpdate(a.CUS.id)}),t.YNc(229,re,2,0,"span",1),t.YNc(230,se,2,0,"span",1),t.qZA()()()}if(2&e){const n=t.MAs(82),o=t.MAs(144),r=t.MAs(152);t.xp6(1),t.Q6J("ngIf",!a.CUS.id),t.xp6(1),t.Q6J("ngIf",a.CUS.id),t.xp6(1),t.hij(" ",t.lcZ(4,68,"HTML.TENANT"),""),t.xp6(2),t.Q6J("formGroup",a.form),t.xp6(1),t.Q6J("backgroundColor","primary")("color","warn"),t.xp6(1),t.s9C("label",t.lcZ(8,70,"HTML.TAB_BASIC")),t.xp6(8),t.hij(" ",t.lcZ(16,72,"HTML.CODE"),""),t.xp6(3),t.Q6J("ngIf",null==a.form.controls.code.errors?null:a.form.controls.code.errors.required),t.xp6(1),t.Q6J("ngIf",a.form.controls.code.hasError("minlength")),t.xp6(5),t.hij(" ",t.lcZ(25,74,"HTML.USERNAME"),""),t.xp6(8),t.hij(" ",t.lcZ(33,76,"HTML.FIRST_NAME"),""),t.xp6(3),t.Q6J("ngIf",null==a.form.controls.firstname.errors?null:a.form.controls.firstname.errors.required),t.xp6(5),t.hij(" ",t.lcZ(41,78,"HTML.LAST_NAME"),""),t.xp6(3),t.Q6J("ngIf",null==a.form.controls.lastname.errors?null:a.form.controls.lastname.errors.required),t.xp6(3),t.Oqu(t.lcZ(47,80,"HTML.MOBILE")),t.xp6(3),t.Q6J("ngIf",null==a.form.controls.mobile.errors?null:a.form.controls.mobile.errors.required),t.xp6(4),t.Oqu(t.lcZ(54,82,"HTML.NATURE_PERSON")),t.xp6(3),t.Oqu(t.lcZ(57,84,"HTML.NATURE_COMPANY")),t.xp6(3),t.Oqu(t.lcZ(60,86,"HTML.NATURE_OTHER")),t.xp6(3),t.Q6J("src",a.defaultCusImage,t.LSH),t.xp6(2),t.s9C("label",t.lcZ(65,88,"HTML.TAB_PERSONAL")),t.xp6(6),t.Oqu(t.lcZ(71,90,"HTML.MALE")),t.xp6(3),t.Oqu(t.lcZ(74,92,"HTML.FEMALE")),t.xp6(4),t.Oqu(t.lcZ(78,94,"HTML.BIRTH_DATE")),t.xp6(2),t.Q6J("matDatepicker",n),t.xp6(1),t.Q6J("for",n),t.xp6(6),t.Oqu(t.lcZ(87,96,"HTML.BUILDING")),t.xp6(2),t.s9C("placeholder",t.lcZ(89,98,"HTML.BUILDING")),t.xp6(4),t.Q6J("ngForOf",a.AllBuildings),t.xp6(3),t.Oqu(t.lcZ(96,100,"HTML.UNIT")),t.xp6(2),t.s9C("placeholder",t.lcZ(98,102,"HTML.UNIT")),t.xp6(4),t.Q6J("ngForOf",a.AllUnits),t.xp6(1),t.s9C("label",t.lcZ(103,104,"HTML.TAB_ID")),t.xp6(5),t.Oqu(t.lcZ(108,106,"HTML.GUARANTOR")),t.xp6(5),t.Oqu(t.lcZ(113,108,"HTML.POSITION")),t.xp6(5),t.Oqu(t.lcZ(118,110,"OPTIONS.NATIONAL_ID")),t.xp6(3),t.Oqu(t.lcZ(121,112,"OPTIONS.FOREIGN_ID")),t.xp6(3),t.Oqu(t.lcZ(124,114,"OPTIONS.GULF_ID")),t.xp6(3),t.Oqu(t.lcZ(127,116,"OPTIONS.SPECIAL_EQAMA")),t.xp6(3),t.Oqu(t.lcZ(130,118,"OPTIONS.OTHER")),t.xp6(4),t.Oqu(t.lcZ(134,120,"HTML.IDNUMBER")),t.xp6(6),t.Oqu(t.lcZ(140,122,"HTML.START_DATE")),t.xp6(2),t.Q6J("matDatepicker",o),t.xp6(1),t.Q6J("for",o),t.xp6(5),t.Oqu(t.lcZ(148,124,"HTML.END_DATE")),t.xp6(2),t.Q6J("matDatepicker",r),t.xp6(1),t.Q6J("for",r),t.xp6(4),t.Q6J("src",a.defaultIDImage,t.LSH),t.xp6(2),t.s9C("label",t.lcZ(157,126,"HTML.TAB_CONTACTS")),t.xp6(6),t.Oqu(t.lcZ(163,128,"HTML.HOME_PHONE")),t.xp6(5),t.Oqu(t.lcZ(168,130,"HTML.WORK_PHONE")),t.xp6(5),t.Oqu(t.lcZ(173,132,"HTML.EMAIL")),t.xp6(5),t.Oqu(t.lcZ(178,134,"HTML.ADDRESS")),t.xp6(5),t.Oqu(t.lcZ(183,136,"HTML.COUNTRY")),t.xp6(2),t.s9C("placeholder",t.lcZ(185,138,"HTML.COUNTRY")),t.xp6(4),t.Q6J("ngForOf",a.Countries),t.xp6(1),t.s9C("label",t.lcZ(190,140,"HTML.TAB_SOCIAL_LIFE")),t.xp6(15),t.s9C("label",t.lcZ(205,142,"HTML.TAB_SETTINGS")),t.xp6(4),t.Oqu(t.lcZ(209,144,"HTML.ACTIVE")),t.xp6(3),t.Oqu(t.lcZ(212,146,"HTML.BLOCKED")),t.xp6(2),t.s9C("label",t.lcZ(214,148,"HTML.TAB_DOCS")),t.xp6(4),t.Q6J("src",a.defaultDocImage,t.LSH),t.xp6(4),t.Oqu(t.lcZ(222,150,"HTML.AddPic")),t.xp6(7),t.Q6J("mat-dialog-close",a.form.value)("disabled",!a.form.valid),t.xp6(1),t.Q6J("ngIf",!a.CUS.id),t.xp6(1),t.Q6J("ngIf",a.CUS.id)}},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.Q7,c.sg,c.O5,s.sg,s.u,s.x0,d.xw,d.Wh,d.yH,Y.ey,T.lW,tt.oG,y.Mq,y.hl,y.nW,m.ZT,m.uh,m.H8,R.Hw,w.Nt,C.KE,C.hX,C.TO,C.R9,O.d,V.VQ,V.U0,Q.gD,x.uX,x.SP,at.tW,_.X$],styles:[".user-form .form-field-outer{width:480px}.user-form .mat-mdc-radio-button{margin-right:12px}.container{background-color:var(--backgroundColorContainer);border-right:2px solid var(--backgroundColorContainerBorder)}\n"],encapsulation:2});var le=l(3609);class lt{}class B{constructor(e,a,n){this.dialogRef=e,this.data=a,this.fb=n}ngOnInit(){this.form=this.fb.group({id:null,INSCode:[null,s.kI.required],INSContractTyps:"I",INSStatus:"N",INSValue:0,INSPayedValue:0,dueDate:null,payDate:null,INSPersonPayName:null,INSNotes:null,RowConfirm:0,RowDelete:0,RowStatus:0,contract_KeyField:null,branch_KeyField:null,owner_KeyField:null,build_KeyField:null,unit_KeyField:null,customer_KeyField:null}),this.data.cttRow?(console.log("===this.data.cttRow==="),console.log(this.data.cttRow),this.action="Patch",this.form.patchValue({id:this.data.cttRow.id,INSCode:this.data.cttRow.INSCode,dueDate:new Date(this.data.cttRow.INSDueDate),payDate:new Date(this.data.cttRow.INSPayDate),INSPersonPayName:this.data.cttRow.INSPersonPayName,INSNotes:this.data.cttRow.INSNotes,contract_KeyField:this.data.cttRow.contract_KeyField,branch_KeyField:this.data.cttRow.branch_KeyField,owner_KeyField:this.data.cttRow.owner_KeyField,build_KeyField:this.data.cttRow.build_KeyField,unit_KeyField:this.data.cttRow.unit_KeyField,customer_KeyField:this.data.cttRow.customer_KeyField,INSContractTyps:this.data.cttRow.INSContractTyps,INSStatus:this.data.cttRow.INSStatus,INSValue:this.data.cttRow.INSValue,INSPayedValue:this.data.cttRow.INSPayedValue,RowConfirm:this.data.cttRow.RowConfirm,RowDelete:this.data.cttRow.RowDelete,RowStatus:this.data.cttRow.RowStatus})):(console.log("==contract****:: "+this.data.contract),this.action="Post",this.form.patchValue({contract_KeyField:this.data.contract,branch_KeyField:this.data.branch,owner_KeyField:this.data.owner,build_KeyField:this.data.build,unit_KeyField:this.data.unit,customer_KeyField:this.data.customer,INSContractTyps:"I",INSStatus:"N",INSValue:0,INSPayedValue:0,RowConfirm:0,RowDelete:0,RowStatus:0}))}onSave(){console.log("===***Press Save button***==="),this.form.valid&&this.dialogRef.close({event:this.action,data:this.form.value})}close(){console.log("===***Press Close button***==="),this.action="Cancel",this.dialogRef.close({event:this.action})}}function ce(i,e){if(1&i){const a=t.EpF();t.TgZ(0,"div",8)(1,"div",9),t._uU(2),t.qZA(),t.TgZ(3,"div",9),t._uU(4),t.qZA(),t.TgZ(5,"div",9),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"div",9),t._uU(9),t.qZA(),t.TgZ(10,"div",9),t._uU(11),t.qZA(),t.TgZ(12,"div",9)(13,"div",10)(14,"button",11),t.NdJ("click",function(){const r=t.CHM(a).$implicit,u=t.oxw();return t.KtG(u.openCategoryDialog(r))}),t.ALo(15,"translate"),t.TgZ(16,"mat-icon"),t._uU(17,"edit"),t.qZA()(),t.TgZ(18,"button",12),t.NdJ("click",function(){const r=t.CHM(a).$implicit,u=t.oxw();return t.KtG(u.remove(r.id))}),t.ALo(19,"translate"),t.TgZ(20,"mat-icon"),t._uU(21,"delete"),t.qZA()()()()()}if(2&i){const a=e.$implicit;t.xp6(2),t.Oqu(a.INSCode),t.xp6(2),t.Oqu(a.INSValue),t.xp6(2),t.Oqu(t.xi3(7,7,a.INSDueDate,"yyyy-MM-dd")),t.xp6(3),t.Oqu(a.INSStatusDisplay),t.xp6(2),t.Oqu(a.INSPayedValue),t.xp6(3),t.s9C("matTooltip",t.lcZ(15,10,"BTN.EDIT")),t.xp6(4),t.s9C("matTooltip",t.lcZ(19,12,"BTN.REMOVE"))}}function ue(i,e){if(1&i){const a=t.EpF();t.TgZ(0,"div",13)(1,"div",14)(2,"mat-card",15)(3,"pagination-controls",16),t.NdJ("pageChange",function(o){t.CHM(a);const r=t.oxw();return t.KtG(r.onPageChanged(o))}),t.qZA()()()()}}B.\u0275fac=function(e){return new(e||B)(t.Y36(m.so),t.Y36(m.WI),t.Y36(s.QS))},B.\u0275cmp=t.Xpm({type:B,selectors:[["app-installment-dialog"]],decls:71,vars:49,consts:[["mat-dialog-title",""],[1,"user-form",3,"formGroup"],["mat-dialog-content",""],["fxLayout","row wrap"],["fxLayout","row","fxLayoutAlign","space-between center",1,"w-100"],["fxFlex","100","fxFlex.gt-sm","33.3",1,"px-1"],["appearance","outline",1,"w-100"],["matInput","","formControlName","INSValue","required",""],["matInput","","formControlName","dueDate",3,"matDatepicker"],["matSuffix","",3,"for"],["dueDate",""],["formControlName","INSStatus","id","instStatusOpSel",3,"placeholder"],[3,"value"],["fxFlex","100","fxFlex.gt-sm","49.8",1,"px-1"],["matInput","","formControlName","INSPayedValue"],["matInput","","formControlName","payDate",3,"matDatepicker"],["payDate",""],["fxFlex","100","fxFlex.gt-sm","100",1,"px-1"],["matInput","","formControlName","INSNotes"],["mat-dialog-actions",""],["mat-raised-button","","color","primary",3,"mat-dialog-close","disabled","click"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,a){if(1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"form",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t._UZ(12,"input",7),t.qZA()(),t.TgZ(13,"div",5)(14,"mat-form-field",6)(15,"mat-label"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t._UZ(18,"input",8)(19,"mat-datepicker-toggle",9)(20,"mat-datepicker",null,10),t.qZA()(),t.TgZ(22,"div",5)(23,"mat-form-field",6)(24,"mat-label"),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"mat-select",11),t.ALo(28,"translate"),t.TgZ(29,"mat-option",12),t._uU(30,"-"),t.qZA(),t.TgZ(31,"mat-option",12),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"mat-option",12),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"mat-option",12),t._uU(38),t.ALo(39,"translate"),t.qZA()()()()(),t.TgZ(40,"div",4)(41,"div",13)(42,"mat-form-field",6)(43,"mat-label"),t._uU(44),t.ALo(45,"translate"),t.qZA(),t._UZ(46,"input",14),t.qZA()(),t.TgZ(47,"div",13)(48,"mat-form-field",6)(49,"mat-label"),t._uU(50),t.ALo(51,"translate"),t.qZA(),t._UZ(52,"input",15)(53,"mat-datepicker-toggle",9)(54,"mat-datepicker",null,16),t.qZA()()(),t.TgZ(56,"div",17)(57,"mat-form-field",6)(58,"mat-label"),t._uU(59),t.ALo(60,"translate"),t.qZA(),t._UZ(61,"input",18),t.qZA()()()(),t.TgZ(62,"div",19)(63,"div",4)(64,"button",20),t.NdJ("click",function(){return a.onSave()}),t.TgZ(65,"span"),t._uU(66),t.ALo(67,"translate"),t.qZA()(),t.TgZ(68,"button",21),t.NdJ("click",function(){return a.close()}),t._uU(69),t.ALo(70,"translate"),t.qZA()()()()),2&e){const n=t.MAs(21),o=t.MAs(55);t.xp6(1),t.Oqu(t.lcZ(2,23,"HTML.InstallmentData")),t.xp6(2),t.Q6J("formGroup",a.form),t.xp6(7),t.Oqu(t.lcZ(11,25,"HTML.InstallmentValue")),t.xp6(6),t.Oqu(t.lcZ(17,27,"HTML.DueDate")),t.xp6(2),t.Q6J("matDatepicker",n),t.xp6(1),t.Q6J("for",n),t.xp6(6),t.Oqu(t.lcZ(26,29,"HTML.InstallmentStatus")),t.xp6(2),t.s9C("placeholder",t.lcZ(28,31,"HTML.InstallmentStatus")),t.xp6(4),t.Q6J("value","N"),t.xp6(1),t.Oqu(t.lcZ(33,33,"OPTIONS.NotPayed")),t.xp6(2),t.Q6J("value","P"),t.xp6(1),t.Oqu(t.lcZ(36,35,"OPTIONS.Payed")),t.xp6(2),t.Q6J("value","T"),t.xp6(1),t.Oqu(t.lcZ(39,37,"OPTIONS.PartialPayed")),t.xp6(6),t.Oqu(t.lcZ(45,39,"HTML.PayedValue")),t.xp6(6),t.Oqu(t.lcZ(51,41,"HTML.PayedDate")),t.xp6(2),t.Q6J("matDatepicker",o),t.xp6(1),t.Q6J("for",o),t.xp6(6),t.Oqu(t.lcZ(60,43,"HTML.Notes")),t.xp6(5),t.Q6J("mat-dialog-close",a.form.value)("disabled",!a.form.valid),t.xp6(2),t.Oqu(t.lcZ(67,45,"BTN.SAVE")),t.xp6(3),t.Oqu(t.lcZ(70,47,"BTN.CANCEL"))}},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.sg,s.u,d.xw,d.Wh,d.yH,Y.ey,T.lW,y.Mq,y.hl,y.nW,m.ZT,m.uh,m.xY,m.H8,w.Nt,C.KE,C.hX,C.R9,Q.gD,_.X$]});const de=function(i,e){return{itemsPerPage:i,currentPage:e}};class J{constructor(e,a,n,o,r,u,p,h,g,A){this.localStore=e,this.global=a,this.router=n,this.activatedRoute=o,this._contractService=r,this.snackBar=u,this.translateService=p,this.fb=h,this.dialog=g,this.appSettings=A,this.contractInstallmentsArray=[],this.count=6,this.curCOMId=S.N.comid,this.account=new U.n,this.installmentForDisplay={id:void 0,COMId:void 0,INSCode:void 0,contract_KeyField:void 0,branch_KeyField:void 0,owner_KeyField:void 0,build_KeyField:void 0,unit_KeyField:void 0,customer_KeyField:void 0,INSContractTyps:void 0,INSStatus:void 0,INSValue:void 0,INSDueDate:void 0,INSPayedValue:void 0,INSPayDate:void 0,INSPersonPayName:void 0,INSNotes:void 0,EntryDate:void 0,EntryUser:void 0,RowConfirm:void 0,RowStatus:void 0,RowDelete:void 0},this.settings=this.appSettings.settings}ngOnInit(){this.userSUb=this.global.user.subscribe(e=>{this.account=e}),this.localStore.getItem("token")&&this.localStore.getItem("account")?(this.global.me=JSON.parse(this.localStore.getItem("account")),this.prepareMsgLanguage(),this.sub=this.activatedRoute.params.subscribe(e=>{e.id?(this.id=+e.id,this.getInstallmentsPerContract(this.curCOMId,this.account.periorty,this.id),this._contractService.getOneContract(this.id).subscribe(a=>{this.contract_KeyField=a.id,this.branch_KeyField=a.branch_KeyField,this.owner_KeyField=a.owner_KeyField,this.build_KeyField=a.build_KeyField,this.unit_KeyField=a.unit_KeyField,this.customer_KeyField=a.customer_KeyField})):this.Insta=new lt})):this.router.navigate(["/sign-in"])}onPageChanged(e){this.page=e,window.scrollTo(0,0)}openCategoryDialog(e){this.dialog.open(B,{data:{cttRow:e,contract:this.contract_KeyField,branch:this.branch_KeyField,owner:this.owner_KeyField,build:this.build_KeyField,unit:this.unit_KeyField,customer:this.customer_KeyField},panelClass:["theme-dialog"],autoFocus:!1,direction:this.settings.rtl?"rtl":"ltr"}).afterClosed().subscribe(n=>{console.log("=====result.event:: "+n.event),"Cancel"==n.event||("Patch"==n.event?(this.mapFormvalue_to_InstallmentClass(n.data),this.updateInstallment(this.installmentForDisplay)):"Post"==n.event&&(this.mapFormvalue_to_InstallmentClass(n.data),this.addInstallment(this.installmentForDisplay)))})}addInstallment(e){console.log("====inside addInstallment== ==="),this._contractService.addInstallments(e).subscribe(a=>this.getInstallmentsPerContract(this.curCOMId,this.account.periorty,this.id))}updateInstallment(e){console.log("====inside updateInstallment====="),this._contractService.editInstallments(e).subscribe(a=>this.getInstallmentsPerContract(this.curCOMId,this.account.periorty,this.id))}mapFormvalue_to_InstallmentClass(e){if(console.log("====formValue.dueDate:: "+e.dueDate),null!=e.dueDate){const o=new c.uU("en-GB").transform(e.dueDate,"dd/MM/yyyy");new Date(new c.uU("en-GB").transform(new Date(e.dueDate),"yyyy/MM/dd")),this.installmentForDisplay.INSDueDate=o}if(null!=e.payDate){const o=new c.uU("en-GB").transform(e.payDate,"dd/MM/yyyy");new Date(new c.uU("en-GB").transform(new Date(e.payDate),"yyyy/MM/dd")),this.installmentForDisplay.INSPayDate=o}this.installmentForDisplay.id=e.id,this.installmentForDisplay.INSCode=e.INSCode,this.installmentForDisplay.INSContractTyps=e.INSContractTyps,this.installmentForDisplay.INSStatus=e.INSStatus,this.installmentForDisplay.INSValue=e.INSValue,this.installmentForDisplay.INSPayedValue=e.INSPayedValue,this.installmentForDisplay.INSDueDate=e.dueDate,this.installmentForDisplay.INSPayDate=e.payDate,this.installmentForDisplay.INSPersonPayName=e.INSPersonPayName,this.installmentForDisplay.INSNotes=e.INSNotes,this.installmentForDisplay.RowConfirm=e.RowConfirm,this.installmentForDisplay.RowDelete=e.RowDelete,this.installmentForDisplay.RowStatus=e.RowStatus,this.installmentForDisplay.contract_KeyField=e.contract_KeyField,this.installmentForDisplay.branch_KeyField=e.branch_KeyField,this.installmentForDisplay.owner_KeyField=e.owner_KeyField,this.installmentForDisplay.build_KeyField=e.build_KeyField,this.installmentForDisplay.unit_KeyField=e.unit_KeyField,this.installmentForDisplay.customer_KeyField=e.customer_KeyField}getInstallmentsPerContract(e,a,n){this._contractService.getInstallmentsPerContract(e,a,n).subscribe(o=>{this.contractInstallmentsArray=o},o=>{this.snackBar.open(this.errorRetrieveMsg,"\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})}remove(e){this.dialog.open(P.$,{maxWidth:"400px",data:{title:this.deletedTitleMsg,message:this.askToDeletedMsg}}).afterClosed().subscribe(n=>{n&&this._contractService.deleteInstallment(e).subscribe(()=>{this.snackBar.open(this.deletedMsg,"\xd7",{panelClass:"success",verticalPosition:"top",duration:3e3}),this.getInstallmentsPerContract(this.curCOMId,this.account.periorty,e)})})}prepareMsgLanguage(){this.translateService.get("MESSAGE.RETRIEVE_ERROR").subscribe(e=>{this.errorRetrieveMsg=e}),this.translateService.get("MESSAGE.SURE_DELETE").subscribe(e=>{this.askToDeletedMsg=e}),this.translateService.get("MESSAGE.DELETED").subscribe(e=>{this.deletedMsg=e}),this.translateService.get("MESSAGE.ConfirmAction").subscribe(e=>{this.deletedTitleMsg=e})}}function me(i,e){if(1&i&&(t.TgZ(0,"div",8)(1,"div",9),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"div",9),t._uU(5),t.qZA(),t.TgZ(6,"div",9),t._uU(7),t.qZA(),t.TgZ(8,"div",9),t._uU(9),t.qZA()()),2&i){const a=e.$implicit;t.xp6(2),t.Oqu(t.xi3(3,4,a.TSTDate,"yyyy-MM-dd")),t.xp6(3),t.Oqu(a.TSTDebitValue),t.xp6(2),t.Oqu(a.TSTCreditValue),t.xp6(2),t.Oqu(a.TSTCreditValue)}}function pe(i,e){if(1&i){const a=t.EpF();t.TgZ(0,"div",10)(1,"div",11)(2,"mat-card",12)(3,"pagination-controls",13),t.NdJ("pageChange",function(o){t.CHM(a);const r=t.oxw();return t.KtG(r.onPageChanged(o))}),t.qZA()()()()}}J.\u0275fac=function(e){return new(e||J)(t.Y36(I.C),t.Y36(D.U),t.Y36(f.F0),t.Y36(f.gz),t.Y36(k.W),t.Y36(N.ux),t.Y36(_.sK),t.Y36(s.qu),t.Y36(m.uw),t.Y36(W.d))},J.\u0275cmp=t.Xpm({type:J,selectors:[["app-installment"]],decls:36,vars:29,consts:[[1,"p-2"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"w-100","p-3"],["mat-raised-button","","color","primary",3,"click"],[1,"mat-mdc-table","admin-table"],[1,"mat-mdc-header-row"],[1,"mat-mdc-header-cell"],["class","mat-mdc-row",4,"ngFor","ngForOf"],["fxLayout","row wrap",4,"ngIf"],[1,"mat-mdc-row"],[1,"mat-mdc-cell"],[1,"p-2","actions"],["mat-mini-fab","","color","primary",3,"matTooltip","click"],["mat-mini-fab","","color","warn",1,"mx-1",3,"matTooltip","click"],["fxLayout","row wrap"],["fxFlex","100"],[1,"p-0","text-center"],["autoHide","true","maxSize","5",1,"product-pagination",3,"pageChange"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"mat-card")(2,"div",1)(3,"h2"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"button",2),t.NdJ("click",function(){return a.openCategoryDialog(null)}),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t._UZ(9,"mat-divider"),t.TgZ(10,"div",3)(11,"div",4)(12,"div",5)(13,"h2"),t._uU(14),t.ALo(15,"translate"),t.qZA()(),t.TgZ(16,"div",5)(17,"h2"),t._uU(18),t.ALo(19,"translate"),t.qZA()(),t.TgZ(20,"div",5)(21,"h2"),t._uU(22),t.ALo(23,"translate"),t.qZA()(),t.TgZ(24,"div",5)(25,"h2"),t._uU(26),t.ALo(27,"translate"),t.qZA()(),t.TgZ(28,"div",5)(29,"h2"),t._uU(30),t.ALo(31,"translate"),t.qZA()(),t._UZ(32,"div",5),t.qZA(),t.YNc(33,ce,22,14,"div",6),t.ALo(34,"paginate"),t.qZA()(),t.YNc(35,ue,4,0,"div",7),t.qZA()),2&e&&(t.xp6(4),t.Oqu(t.lcZ(5,9,"BTN.INSTALLMENT")),t.xp6(3),t.Oqu(t.lcZ(8,11,"HTML.AddInstallment")),t.xp6(7),t.hij(" ",t.lcZ(15,13,"HTML.CODE")," "),t.xp6(4),t.hij(" ",t.lcZ(19,15,"HTML.InstallmentValue")," "),t.xp6(4),t.hij(" ",t.lcZ(23,17,"HTML.DueDate")," "),t.xp6(4),t.hij(" ",t.lcZ(27,19,"HTML.InstallmentStatus")," "),t.xp6(4),t.hij(" ",t.lcZ(31,21,"HTML.PayedValue")," "),t.xp6(3),t.Q6J("ngForOf",t.xi3(34,23,a.contractInstallmentsArray,t.WLB(26,de,a.count,a.page))),t.xp6(2),t.Q6J("ngIf",a.contractInstallmentsArray.length>0))},dependencies:[v.LS,c.sg,c.O5,d.xw,d.Wh,d.yH,T.lW,T.nh,X.a8,R.Hw,O.d,et.gM,v._s,c.uU,_.X$],styles:[".user-form[_ngcontent-%COMP%]   .form-field-outer[_ngcontent-%COMP%]{width:480px}.user-form[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]{margin-right:12px}"]});const he=function(i,e){return{itemsPerPage:i,currentPage:e}};class G{constructor(e,a,n,o,r,u,p,h,g,A){this.localStore=e,this.global=a,this.router=n,this.activatedRoute=o,this._contractService=r,this.snackBar=u,this.translateService=p,this.fb=h,this.dialog=g,this.appSettings=A,this.contractInstallmentsArray=[],this.count=6,this.curCOMId=S.N.comid,this.account=new U.n,this.installmentForDisplay={id:void 0,COMId:void 0,INSCode:void 0,contract_KeyField:void 0,branch_KeyField:void 0,owner_KeyField:void 0,build_KeyField:void 0,unit_KeyField:void 0,customer_KeyField:void 0,INSContractTyps:void 0,INSStatus:void 0,INSValue:void 0,INSDueDate:void 0,INSPayedValue:void 0,INSPayDate:void 0,INSPersonPayName:void 0,INSNotes:void 0,EntryDate:void 0,EntryUser:void 0,RowConfirm:void 0,RowStatus:void 0,RowDelete:void 0},this.settings=this.appSettings.settings}ngOnInit(){this.userSUb=this.global.user.subscribe(e=>{this.account=e}),this.localStore.getItem("token")&&this.localStore.getItem("account")?(this.global.me=JSON.parse(this.localStore.getItem("account")),this.prepareMsgLanguage(),this.sub=this.activatedRoute.params.subscribe(e=>{e.id?(this.id=+e.id,this.getInstallmentsPerContract(this.curCOMId,this.account.periorty,this.id),this._contractService.getOneContract(this.id).subscribe(a=>{this.contract_KeyField=a.id,this.branch_KeyField=a.branch_KeyField,this.owner_KeyField=a.owner_KeyField,this.build_KeyField=a.build_KeyField,this.unit_KeyField=a.unit_KeyField,this.customer_KeyField=a.customer_KeyField})):this.Insta=new lt})):this.router.navigate(["/sign-in"])}onPageChanged(e){this.page=e,window.scrollTo(0,0)}addInstallment(e){console.log("====inside addInstallment== ==="),this._contractService.addInstallments(e).subscribe(a=>this.getInstallmentsPerContract(this.curCOMId,this.account.periorty,this.id))}updateInstallment(e){console.log("====inside updateInstallment====="),this._contractService.editInstallments(e).subscribe(a=>this.getInstallmentsPerContract(this.curCOMId,this.account.periorty,this.id))}mapFormvalue_to_InstallmentClass(e){if(console.log("====formValue.dueDate:: "+e.dueDate),null!=e.dueDate){const o=new c.uU("en-GB").transform(e.dueDate,"dd/MM/yyyy");new Date(new c.uU("en-GB").transform(new Date(e.dueDate),"yyyy/MM/dd")),this.installmentForDisplay.INSDueDate=o}if(null!=e.payDate){const o=new c.uU("en-GB").transform(e.payDate,"dd/MM/yyyy");new Date(new c.uU("en-GB").transform(new Date(e.payDate),"yyyy/MM/dd")),this.installmentForDisplay.INSPayDate=o}this.installmentForDisplay.id=e.id,this.installmentForDisplay.INSCode=e.INSCode,this.installmentForDisplay.INSContractTyps=e.INSContractTyps,this.installmentForDisplay.INSStatus=e.INSStatus,this.installmentForDisplay.INSValue=e.INSValue,this.installmentForDisplay.INSPayedValue=e.INSPayedValue,this.installmentForDisplay.INSDueDate=e.dueDate,this.installmentForDisplay.INSPayDate=e.payDate,this.installmentForDisplay.INSPersonPayName=e.INSPersonPayName,this.installmentForDisplay.INSNotes=e.INSNotes,this.installmentForDisplay.RowConfirm=e.RowConfirm,this.installmentForDisplay.RowDelete=e.RowDelete,this.installmentForDisplay.RowStatus=e.RowStatus,this.installmentForDisplay.contract_KeyField=e.contract_KeyField,this.installmentForDisplay.branch_KeyField=e.branch_KeyField,this.installmentForDisplay.owner_KeyField=e.owner_KeyField,this.installmentForDisplay.build_KeyField=e.build_KeyField,this.installmentForDisplay.unit_KeyField=e.unit_KeyField,this.installmentForDisplay.customer_KeyField=e.customer_KeyField}getInstallmentsPerContract(e,a,n){this._contractService.getInstallmentsPerContract(e,a,n).subscribe(o=>{this.contractInstallmentsArray=o},o=>{this.snackBar.open(this.errorRetrieveMsg,"\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})}remove(e){this.dialog.open(P.$,{maxWidth:"400px",data:{title:this.deletedTitleMsg,message:this.askToDeletedMsg}}).afterClosed().subscribe(n=>{n&&this._contractService.deleteInstallment(e).subscribe(()=>{this.snackBar.open(this.deletedMsg,"\xd7",{panelClass:"success",verticalPosition:"top",duration:3e3}),this.getInstallmentsPerContract(this.curCOMId,this.account.periorty,e)})})}prepareMsgLanguage(){this.translateService.get("MESSAGE.RETRIEVE_ERROR").subscribe(e=>{this.errorRetrieveMsg=e}),this.translateService.get("MESSAGE.SURE_DELETE").subscribe(e=>{this.askToDeletedMsg=e}),this.translateService.get("MESSAGE.DELETED").subscribe(e=>{this.deletedMsg=e}),this.translateService.get("MESSAGE.ConfirmAction").subscribe(e=>{this.deletedTitleMsg=e})}}G.\u0275fac=function(e){return new(e||G)(t.Y36(I.C),t.Y36(D.U),t.Y36(f.F0),t.Y36(f.gz),t.Y36(k.W),t.Y36(N.ux),t.Y36(_.sK),t.Y36(s.qu),t.Y36(m.uw),t.Y36(W.d))},G.\u0275cmp=t.Xpm({type:G,selectors:[["app-tenant-statements"]],decls:32,vars:26,consts:[[1,"p-2"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"w-100","p-3"],["mat-raised-button","","color","primary"],[1,"mat-mdc-table","admin-table"],[1,"mat-mdc-header-row"],[1,"mat-mdc-header-cell"],["class","mat-mdc-row",4,"ngFor","ngForOf"],["fxLayout","row wrap",4,"ngIf"],[1,"mat-mdc-row"],[1,"mat-mdc-cell"],["fxLayout","row wrap"],["fxFlex","100"],[1,"p-0","text-center"],["autoHide","true","maxSize","5",1,"product-pagination",3,"pageChange"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"mat-card")(2,"div",1)(3,"h2"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"button",2),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t._UZ(9,"mat-divider"),t.TgZ(10,"div",3)(11,"div",4)(12,"div",5)(13,"h2"),t._uU(14),t.ALo(15,"translate"),t.qZA()(),t.TgZ(16,"div",5)(17,"h2"),t._uU(18),t.ALo(19,"translate"),t.qZA()(),t.TgZ(20,"div",5)(21,"h2"),t._uU(22),t.ALo(23,"translate"),t.qZA()(),t.TgZ(24,"div",5)(25,"h2"),t._uU(26),t.ALo(27,"translate"),t.qZA()(),t._UZ(28,"div",5),t.qZA(),t.YNc(29,me,10,7,"div",6),t.ALo(30,"paginate"),t.qZA()(),t.YNc(31,pe,4,0,"div",7),t.qZA()),2&e&&(t.xp6(4),t.Oqu(t.lcZ(5,8,"BTN.Statements")),t.xp6(3),t.Oqu(t.lcZ(8,10,"BTN.DownloadPDF")),t.xp6(7),t.hij(" ",t.lcZ(15,12,"HTML.Date")," "),t.xp6(4),t.hij(" ",t.lcZ(19,14,"HTML.Debit")," "),t.xp6(4),t.hij(" ",t.lcZ(23,16,"HTML.Credit")," "),t.xp6(4),t.hij(" ",t.lcZ(27,18,"HTML.Balance")," "),t.xp6(3),t.Q6J("ngForOf",t.xi3(30,20,a.contractInstallmentsArray,t.WLB(23,he,a.count,a.page))),t.xp6(2),t.Q6J("ngIf",a.contractInstallmentsArray.length>0))},dependencies:[v.LS,c.sg,c.O5,d.xw,d.Wh,d.yH,T.lW,X.a8,O.d,v._s,c.uU,_.X$],styles:[".user-form[_ngcontent-%COMP%]   .form-field-outer[_ngcontent-%COMP%]{width:480px}.user-form[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]{margin-right:12px}"]});const ct=[{path:"",redirectTo:"tenant-list",pathMatch:"full"},{path:"tenant-list",component:K,data:{breadcrumb:"Tenants"}},{path:"tenant-add/:id",component:L,data:{breadcrumb:"Edit Tenant"}},{path:"tenant-add",component:L,data:{breadcrumb:"Add Tenant"}},{path:"contract-list",component:H,data:{breadcrumb:"Rent Contracts"}},{path:"contract-add/:id",component:F,data:{breadcrumb:"Edit Contract"}},{path:"contract-add",component:F,data:{breadcrumb:"Add Contract"}},{path:"installment-list/:id",component:J,data:{breadcrumb:"Contract Installments"}},{path:"statements-list/:id",component:G,data:{breadcrumb:"Tenant Statements"}}];class q{}q.\u0275fac=function(e){return new(e||q)},q.\u0275mod=t.oAB({type:q}),q.\u0275inj=t.cJS({imports:[Vt.JF,s.u5,v.JX,jt.D,c.ez,f.Bz.forChild(ct),s.UX,Qt.m,v.JX,le.kz,at.Y$]})}}]);