"use strict";(self.webpackChunkemporium=self.webpackChunkemporium||[]).push([[363],{60363:(Xe,H,l)=>{l.r(H),l.d(H,{PaymentsModule:()=>F,routes:()=>re});var u=l(36895),N=l(65783),_=l(8910),j=l(22887),I=l(34459),e=l(94650),O=l(47298),E=l(1182),Q=l(65412),D=l(19132),L=l(97465),K=l(85298),R=l(54165),k=l(38959),f=l(13081),M=l(17009),d=l(24006),v=l(54333),h=l(1576),x=l(4859),q=l(90811),m=l(73546),z=l(97392),V=l(44144),b=l(59549),J=l(44850),G=l(51572),W=l(10266),$=l(1419);function se(a,t){if(1&a){const i=e.EpF();e.TgZ(0,"mat-button-toggle",21),e.NdJ("click",function(){e.CHM(i);const n=e.oxw();return e.KtG(n.gotoNewDocument())}),e.TgZ(1,"mat-icon"),e._uU(2,"note_add"),e.qZA()()}}const le=function(a){return["/payments/receivable-add/",a]};function ce(a,t){if(1&a&&(e.TgZ(0,"a",28),e.ALo(1,"translate"),e.TgZ(2,"mat-icon"),e._uU(3,"edit"),e.qZA()()),2&a){const i=e.oxw().$implicit;e.s9C("matTooltip",e.lcZ(1,2,"BTN.VIEW")),e.Q6J("routerLink",e.VKq(4,le,i.id))}}function de(a,t){if(1&a){const i=e.EpF();e.TgZ(0,"button",29),e.NdJ("click",function(){e.CHM(i);const n=e.oxw().$implicit,r=e.oxw();return e.KtG(r.removeDocument(n.id))}),e.ALo(1,"translate"),e.TgZ(2,"mat-icon"),e._uU(3,"delete"),e.qZA()()}2&a&&e.s9C("matTooltip",e.lcZ(1,1,"BTN.REMOVE"))}function ue(a,t){if(1&a){const i=e.EpF();e.TgZ(0,"button",30),e.NdJ("click",function(){e.CHM(i);const n=e.oxw().$implicit,r=e.oxw();return e.KtG(r.printDocument(n))}),e.ALo(1,"translate"),e.TgZ(2,"mat-icon"),e._uU(3,"print"),e.qZA()()}2&a&&e.s9C("matTooltip",e.lcZ(1,1,"BTN.PrintReceivable"))}function pe(a,t){if(1&a&&(e.TgZ(0,"div",22)(1,"div",23),e._uU(2),e._UZ(3,"br"),e._uU(4),e._UZ(5,"br"),e._uU(6),e.qZA(),e.TgZ(7,"div",23),e._uU(8),e.qZA(),e.TgZ(9,"div",23),e._uU(10),e.qZA(),e.TgZ(11,"div",23),e._uU(12),e.qZA(),e.TgZ(13,"div",23),e._uU(14),e.qZA(),e.TgZ(15,"div",23),e._uU(16),e.qZA(),e.TgZ(17,"div",23),e._uU(18),e.qZA(),e.TgZ(19,"div",23)(20,"div",24),e.YNc(21,ce,4,6,"a",25),e.YNc(22,de,4,3,"button",26),e.YNc(23,ue,4,3,"button",27),e.qZA()()()),2&a){const i=t.$implicit,o=e.oxw();e.Tol(o.statusColor[i.PDOValueInAccount]),e.xp6(2),e.Oqu(i.unit_UnitNumber),e.xp6(2),e.Oqu(i.build_Name),e.xp6(2),e.Oqu(i.branch_ArbName),e.xp6(2),e.hij(" ",i.customer_Name," "),e.xp6(2),e.hij(" ",i.PDODocDate," "),e.xp6(2),e.hij(" ",i.PDOValue," "),e.xp6(2),e.hij(" ",i.PDOPrintedCode," "),e.xp6(2),e.hij(" ",i.PDODocClassTypeDisplay," "),e.xp6(2),e.hij(" ",i.PDOEjarCode," "),e.xp6(3),e.Q6J("ngIf",o.can("view_onereceivable")),e.xp6(1),e.Q6J("ngIf",o.can("delete_onereceivable")),e.xp6(1),e.Q6J("ngIf",o.can("print_onereceivable"))}}function he(a,t){if(1&a){const i=e.EpF();e.TgZ(0,"div",31)(1,"div",32)(2,"mat-card",33)(3,"pagination-controls",34),e.NdJ("pageChange",function(n){e.CHM(i);const r=e.oxw();return e.KtG(r.onPageChanged(n))}),e.qZA()()()()}}function me(a,t){1&a&&(e.TgZ(0,"div",35),e._UZ(1,"mat-spinner",36),e.qZA())}const ge=function(a,t){return{itemsPerPage:a,currentPage:t}};class A{constructor(t,i,o,n,r,s,c,p,g,y,U){this.transferService=t,this.appSettings=i,this.dialog=o,this.paymentService=n,this.router=r,this.global=s,this.localStore=c,this.settingService=p,this.contractService=g,this.translateService=y,this.snackBar=U,this.statusColor={T:"make-white",F:"make-gold"},this.account=new N.n,this.count=4,this.userPerm=[],this.editReceivableDocCodeStatus=(new I.$).getEditReceivableDocCodeStatus(),this.editCode=!0,this.settings=this.appSettings.settings}ngOnDestroy(){this.userSUb&&this.userSUb.unsubscribe()}ngOnInit(){if(this.securityForApp=(new I.$).getSecurityType(),this.userSUb=this.global.user.subscribe(t=>{this.account=t}),this.localStore.getItem("token")&&this.localStore.getItem("account")){this.curUserData=JSON.parse(this.localStore.getItem("account")),this.curCOMId=this.curUserData.COMId,this.appSetup=JSON.parse(this.localStore.getItem("appsetup")),this.recievableVoucherWithoutInvoice=this.appSetup.APSRecievableVoucherWithoutInvoice,this.curUserPermissions=JSON.parse(this.localStore.getItem("permissions"));for(let t=0;t<this.curUserPermissions.length;t++)this.userPerm[t]=this.curUserPermissions[t].codename;this.getParamValue(this.curCOMId,this.account.periorty,this.editReceivableDocCodeStatus),this.prepareMsgLanguage(),this.getDocuments()}}getParamValue(t,i,o){this.settingService.getValueForCode(t,i,o).subscribe(n=>{o==this.editReceivableDocCodeStatus&&(this.editReceivableDocCodeValue=n[0].APAValue)},n=>{this.snackBar.open("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u062e\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u0646\u0638\u0627\u0645","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})}can(t){return!(!this.curUserData.is_superuser&&!this.userPerm.includes(t))}getDocuments(){this.documentsAll=null,this.curUserData.is_superuser?this.paymentService.getAllReceivableDocuments(this.curCOMId,this.account.periorty).subscribe(t=>this.documentsAll=t):1==this.curUserData.periorty&&("N"==this.securityForApp&&this.paymentService.getAllReceivableDocumentsPerBranch(this.curCOMId,this.account.periorty,this.curUserData.branch_KeyField).subscribe(t=>this.documentsAll=t),"D"==this.securityForApp&&this.paymentService.getAllReceivableDocumentsPerEmp(this.curCOMId,this.account.periorty,this.curUserData.id).subscribe(t=>this.documentsAll=t))}printDocument(t){this.transferService.setMessage({comid:this.curCOMId,docId:t.id,ownerID:t.owner_KeyField,ownerName:t.owner_FullName,tenantID:t.customer_KeyField,docDate:t.PDODocDate,tenantName:t.customer_Name,docType:t.PDODocClassTypeDisplay,docNumber:t.PDOCode,docPayType:t.PDOPayTypeDisplay,accountNumber:t.contract_BankAccountNumber,docNotes:t.PDONotes,docReference:t.PDOReferenceCode,docValue:t.PDOValue,docOtherPerson:t.PDODocSecondPerson,ownerLogoBase64:t.owner_LogoBase64}),this.router.navigate(["/payments/print-receivable-doc/"])}removeDocument(t){this.dialog.open(j.$,{maxWidth:"400px",data:{title:this.deletedTitleMsg,message:this.askToDeletedMsg}}).afterClosed().subscribe(o=>{o&&(this.paymentService.getOneDocs(t).subscribe(n=>{null!=n.installment_KeyField&&(this.oneDocValue=n.PDOValue,this.contractService.getOneInstallment(n.installment_KeyField).subscribe(r=>{this.curInstallmentValue=r.INSValue,this.curInstallmentPayedValue=r.INSPayedValue,null==this.curInstallmentValue&&(this.curInstallmentValue=0),null==this.curInstallmentPayedValue&&(this.curInstallmentPayedValue=0),this.manageInstallmetPayedValue(n.installment_KeyField,this.curInstallmentValue,this.curInstallmentPayedValue,this.oneDocValue)}))}),this.paymentService.deleteDocument(t).subscribe(n=>this.getDocuments()))})}manageInstallmetPayedValue(t,i,o,n){null==o&&(o=0),null==n&&(n=0),null==i&&(i=0);let r=+o-+n;r<=0&&(r=0),this.insStatus=0==r?"N":"T";let s={id:t,INSStatus:this.insStatus,INSPayedValue:r};console.log("===installData:: "+s),this.contractService.editInstallments(s).subscribe(c=>{console.log("==installment after Update:: "+c)},c=>{console.log(c)})}onPageChanged(t){this.page=t,this.getDocuments(),window.scrollTo(0,0)}gotoNewDocument(){this.transferService.setMessage({editReceivableDocCode:this.editReceivableDocCodeValue}),this.router.navigate(["/payments/receivable-add/"])}prepareMsgLanguage(){this.translateService.get("MESSAGE.RETRIEVE_ERROR").subscribe(t=>{this.errorRetrieveMsg=t}),this.translateService.get("MESSAGE.SURE_DELETE").subscribe(t=>{this.askToDeletedMsg=t}),this.translateService.get("MESSAGE.DELETED").subscribe(t=>{this.deletedMsg=t}),this.translateService.get("MESSAGE.ConfirmAction").subscribe(t=>{this.deletedTitleMsg=t})}}A.\u0275fac=function(t){return new(t||A)(e.Y36(O.y),e.Y36(E.d),e.Y36(Q.uw),e.Y36(_.c),e.Y36(D.F0),e.Y36(L.U),e.Y36(K.C),e.Y36(R.g),e.Y36(k.W),e.Y36(f.sK),e.Y36(M.ux))},A.\u0275cmp=e.Xpm({type:A,selectors:[["app-receivable-doc-list"]],features:[e._Bn([_.c])],decls:64,vars:43,consts:[["fxLayout","row","fxLayoutAlign","space-between center",1,"p-2"],["fxLayout","row"],["appearance","legacy"],["controls","matButtonToggleGroup"],["value","add",3,"click",4,"ngIf"],["value","search"],[1,"user-search"],[1,"user-search-input"],["matInput","","name","search","autocomplete","off",3,"placeholder","ngModel","ngModelChange"],["fxLayout","row","fxLayoutAlign","space-between center"],["appearance","legacy","value","list"],["viewType","matButtonToggleGroup"],["value","list"],["value","grid"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"w-100","p-3"],[1,"mat-mdc-table","admin-table"],[1,"mat-mdc-header-row"],[1,"mat-mdc-header-cell"],["class","mat-mdc-row",3,"class",4,"ngFor","ngForOf"],["fxLayout","row wrap",4,"ngIf"],["fxLayout","column","fxLayoutAlign","center center","class","user-spinner",4,"ngIf"],["value","add",3,"click"],[1,"mat-mdc-row"],[1,"mat-mdc-cell"],[1,"p-2","actions"],["mat-mini-fab","","color","primary",3,"routerLink","matTooltip",4,"ngIf"],["mat-mini-fab","","color","warn",3,"matTooltip","click",4,"ngIf"],["mat-mini-fab","","color","primary",3,"matTooltip","click",4,"ngIf"],["mat-mini-fab","","color","primary",3,"routerLink","matTooltip"],["mat-mini-fab","","color","warn",3,"matTooltip","click"],["mat-mini-fab","","color","primary",3,"matTooltip","click"],["fxLayout","row wrap"],["fxFlex","100",1,"p-2"],[1,"text-center"],["autoHide","true","maxSize","5",1,"product-pagination",3,"pageChange"],["fxLayout","column","fxLayoutAlign","center center",1,"user-spinner"],["color","primary"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-button-toggle-group",2,3),e.YNc(4,se,3,0,"mat-button-toggle",4),e.TgZ(5,"mat-button-toggle",5)(6,"mat-icon"),e._uU(7,"search"),e.qZA()()()(),e.TgZ(8,"form",6)(9,"mat-form-field",7)(10,"input",8),e.NdJ("ngModelChange",function(n){return i.searchText=n}),e.ALo(11,"translate"),e.qZA()()(),e.TgZ(12,"div",9)(13,"mat-button-toggle-group",10,11)(15,"mat-button-toggle",12)(16,"mat-icon"),e._uU(17,"view_list"),e.qZA()(),e.TgZ(18,"mat-button-toggle",13)(19,"mat-icon"),e._uU(20,"view_module"),e.qZA()()()()(),e._UZ(21,"mat-divider"),e.TgZ(22,"mat-card")(23,"div",14)(24,"h2"),e._uU(25),e.ALo(26,"translate"),e.qZA()(),e._UZ(27,"mat-divider"),e.TgZ(28,"div",15)(29,"div",16)(30,"div",17)(31,"h3"),e._uU(32),e.ALo(33,"translate"),e.qZA()(),e.TgZ(34,"div",17)(35,"h3"),e._uU(36),e.ALo(37,"translate"),e.qZA()(),e.TgZ(38,"div",17)(39,"h3"),e._uU(40),e.ALo(41,"translate"),e.qZA()(),e.TgZ(42,"div",17)(43,"h3"),e._uU(44),e.ALo(45,"translate"),e.qZA()(),e.TgZ(46,"div",17)(47,"h3"),e._uU(48),e.ALo(49,"translate"),e.qZA()(),e.TgZ(50,"div",17)(51,"h3"),e._uU(52),e.ALo(53,"translate"),e.qZA()(),e.TgZ(54,"div",17)(55,"h3"),e._uU(56),e.ALo(57,"translate"),e.qZA()(),e._UZ(58,"div",17),e.qZA(),e.YNc(59,pe,24,14,"div",18),e.ALo(60,"paginate"),e.ALo(61,"PayDocumentsSearchPipe"),e.qZA()(),e.YNc(62,he,4,0,"div",19),e.YNc(63,me,2,0,"div",20)),2&t){const o=e.MAs(3);e.xp6(4),e.Q6J("ngIf",i.can("add_onereceivable")),e.xp6(4),e.ekj("show","search"==o.value),e.xp6(2),e.s9C("placeholder",e.lcZ(11,16,"HTML.SEARCH_PayDocument")),e.Q6J("ngModel",i.searchText),e.xp6(15),e.Oqu(e.lcZ(26,18,"HTML.ReceivableDoc_List")),e.xp6(7),e.hij(" ",e.lcZ(33,20,"HTML.BUILDING")," "),e.xp6(4),e.hij(" ",e.lcZ(37,22,"HTML.TENANT")," "),e.xp6(4),e.hij(" ",e.lcZ(41,24,"HTML.DocDate")," "),e.xp6(4),e.hij(" ",e.lcZ(45,26,"HTML.DocValue")," "),e.xp6(4),e.hij(" ",e.lcZ(49,28,"HTML.DocPrintedNo")," "),e.xp6(4),e.hij(" ",e.lcZ(53,30,"HTML.DocClassType")," "),e.xp6(4),e.hij(" ",e.lcZ(57,32,"HTML.PayDocEjarCode")," "),e.xp6(3),e.Q6J("ngForOf",e.xi3(60,34,e.xi3(61,37,i.documentsAll,i.searchText),e.WLB(40,ge,i.count,i.page))),e.xp6(3),e.Q6J("ngIf",i.documentsAll),e.xp6(1),e.Q6J("ngIf",!i.documentsAll)}},dependencies:[d._Y,d.Fj,d.JJ,d.JL,d.On,d.F,v.LS,u.sg,u.O5,D.rH,h.xw,h.Wh,h.yH,x.Tq,x.nh,q.A9,q.Yi,m.a8,z.Hw,V.Nt,b.KE,J.d,G.Ou,W.gM,v._s,$.dg,f.X$],styles:[".user-name{padding:0 12px;font-weight:400}.user-content{padding:10px}.user-content .user-img{position:relative}.user-content .user-img img{border-radius:50%;width:80px;height:80px}.user-content .user-img img.blocked{opacity:.5}.user-content .user-img .mat-icon{position:absolute;top:-8px;left:-8px;font-size:96px;height:96px;width:96px}.user-content .mat-mdc-slide-toggle{margin-top:15px}.user-content .user-details span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.user-content .user-details .mat-icon{padding:2px 10px}.user-content .user-details.blocked{opacity:.5}.user-search{flex:1;width:0;overflow:hidden;transition:.3s}.user-search .mat-mdc-form-field{width:100%!important;text-align:center!important}.user-search .mat-mdc-form-field .mat-mdc-form-field-infix{min-height:36px;padding:8px 0!important}.user-search .mat-mdc-form-field .mat-mdc-form-field-subscript-wrapper{display:none}.user-search .mat-mdc-input-element{text-align:center}.user-search.show{width:100%;overflow:visible}.user-search.show{flex:1;overflow:visible}.user-spinner{position:absolute;inset:0}.mat-mdc-card{overflow:hidden}table{width:100%}.make-gold{background-color:#fbea96}.make-white{background-color:#fff}\n"],encapsulation:2});class B{}var De=l(78372),ye=l(63900),fe=l(54004),be=l(70262),X=l(39646),ee=l(76381),te=l(95726),_e=l(84613),ie=l(47957),oe=l(3238),P=l(99602),ae=l(84385),Z=l(88796);function ve(a,t){1&a&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"BTN.ADD")))}function xe(a,t){1&a&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"BTN.EDIT")))}function Pe(a,t){if(1&a&&(e.TgZ(0,"ng-option",11),e._uU(1),e.qZA()),2&a){const i=t.$implicit;e.Q6J("value",i.id),e.xp6(1),e.hij(" ",i.CUSName,"")}}function Te(a,t){if(1&a&&(e.TgZ(0,"mat-option",11),e._uU(1),e.qZA()),2&a){const i=t.$implicit;e.Q6J("value",i),e.xp6(1),e.AsE(" ",i.unit_UnitNumber," - ",i.build_Name," ")}}function Ce(a,t){if(1&a&&(e.TgZ(0,"mat-option",11),e._uU(1),e.qZA()),2&a){const i=t.$implicit;e.Q6J("value",i.id),e.xp6(1),e.hij(" ",i.BACAccountNumber," ")}}function Fe(a,t){1&a&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"BTN.SAVE")))}function Oe(a,t){1&a&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"BTN.EDIT")))}function Ae(a,t){if(1&a&&(e.TgZ(0,"div",44)(1,"button",45),e.YNc(2,Fe,3,3,"span",1),e.YNc(3,Oe,3,3,"span",1),e.qZA()()),2&a){const i=e.oxw();e.xp6(1),e.Q6J("disabled",!i.docData_Form.valid),e.xp6(1),e.Q6J("ngIf",!i.payDocForDisplay.id),e.xp6(1),e.Q6J("ngIf",i.payDocForDisplay.id)}}class T{constructor(t,i,o,n,r,s,c,p,g,y,U,Y,We,$e){this.transferService=t,this.activatedRoute=i,this.localStore=o,this._companyService=n,this.global=r,this.router=s,this.snackBar=c,this.docsService=p,this.tenantsService=g,this.contractService=y,this.translateService=U,this.fb=Y,this.dataServiceTransfer=We,this._formBuilder=$e,this.account=new N.n,this.editCode=!0,this.filteredUnits=[],this.userPerm=[],this.AllBankAccountsForOwner=[],this.curDocValue=0,this.curDocPayedValue=0,this.curInsuranceValue=0,this.curSeekingValue=0,this.AllNotPayedInstallments=[],this.AllTenants=[],this.transferedData=this.dataServiceTransfer.getData()}ngOnDestroy(){this.userSUb&&this.userSUb.unsubscribe()}ngOnInit(){if(this.transferService.getMessage.subscribe(i=>{this.editCode="YES"==i.editReceivableDocCode.toUpperCase(),console.log("---2222 this.editCode:: "+this.editCode)}),this.userSUb=this.global.user.subscribe(i=>{this.account=i}),this.localStore.getItem("token")&&this.localStore.getItem("account")){this.curUserData=JSON.parse(this.localStore.getItem("account")),this.curCOMId=this.curUserData.COMId,this.appSetup=JSON.parse(this.localStore.getItem("appsetup")),this.recievableVoucherWithoutInvoice=this.appSetup.APSRecievableVoucherWithoutInvoice,this.curUserPermissions=JSON.parse(this.localStore.getItem("permissions"));for(let i=0;i<this.curUserPermissions.length;i++)this.userPerm[i]=this.curUserPermissions[i].codename;var t=JSON.parse(this.localStore.getItem("account"));this.isEmployee="T"==t.is_employee,this.isAdmin=t.is_superuser,this.isOwner="T"==t.is_owner,this.getMaxCodeForPayment(this.curCOMId,this.account.periorty),this.getTenants(),this.docData_Form=this.fb.group({id:null,PDOCode:{value:null,disabled:!this.editCode},PDOValue:{value:null,disabled:this.id},PDODocDate:null,PDODocType:"R",PDODocClassType:"A",PDOPayType:"E",PDOPayDate:null,PDOPrintedCode:null,PDODocSecondPerson:null,PDONotes:null,contract_KeyField:null,branch_KeyField:null,owner_KeyField:null,build_KeyField:null,unit_KeyField:null,installment_KeyField:null,customer_KeyField:null,bankAccount_KeyField:null,PDOEjarCode:null,PDOReferenceCode:null,customer_code:null,UnitCode:[""],build_Name:[""],PDOInstallmentCode:null}),this.setupUnitCodeListener(),this.isEmployee&&(this.docData_Form.controls.PDOReferenceCode.setValidators([d.kI.required]),this.docData_Form.controls.PDOReferenceCode.updateValueAndValidity()),(this.isAdmin||this.isOwner)&&(this.docData_Form.controls.PDOReferenceCode.clearValidators(),this.docData_Form.controls.PDOReferenceCode.updateValueAndValidity()),this.sub=this.activatedRoute.params.subscribe(i=>{this.transferedData?(this.fillForm_FromCustomerDebit(),this.readCustumer(this.transferedData.customer_KeyField),this.payDocForDisplay=new B):i.id?(this.id=+i.id,this.getDocById(this.id)):this.payDocForDisplay=new B})}}setupUnitCodeListener(){this.docData_Form.get("UnitCode").valueChanges.pipe((0,De.b)(300),(0,ye.w)(t=>this.onUnitCodeChange(t))).subscribe(t=>{this.filteredUnits=t})}onUnitCodeChange99(t){t.length>0?this.contractService.searchUnitsAdmin(this.curCOMId,this.account.periorty,t).subscribe(i=>{console.log("\u267b units.length:: "+i.length),this.filteredUnits=i&&i.length>0?i:[]},i=>{console.error("Error fetching units:",i),this.filteredUnits=[]}):this.filteredUnits=[]}onUnitCodeChange(t){return t.length>0?this.contractService.searchUnitsAdmin(this.curCOMId,this.account.periorty,t).pipe((0,fe.U)(i=>(console.log("\u267b units.length:: "+i.length),i.length>0?i:[])),(0,be.K)(i=>(console.error("Error fetching units:",i),(0,X.of)([])))):(0,X.of)([])}onUnitSelected(t){console.log("---------Start onUnitSelected---------"),console.log("---unit.id:: "+t.id),console.log("---unit.customer_KeyField:: "+t.customer_KeyField),console.log("---unit.unit_KeyField:: "+t.unit_KeyField),console.log("---------End onUnitSelected---------"),this.docData_Form.patchValue({customer_KeyField:t.customer_KeyField,build_Name:t.build_Name,UnitCode:t.unit_UnitNumber,PDODocSecondPerson:t.customer_Name,customer_code:t.customer_Code,branch_KeyField:t.branch_KeyField,build_KeyField:t.build_KeyField,unit_KeyField:t.unit_KeyField,owner_KeyField:t.owner_KeyField}),this.getCustomerInstallmentsPerUnitNotPayed(this.curCOMId,this.account.periorty,t.customer_KeyField,t.unit_KeyField)}getBankAccountsPerOwner(t,i,o){this.contractService.getAllAccountsForOwner(t,i,o).subscribe(n=>{this.AllBankAccountsForOwner=n},n=>{this.snackBar.open("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0627\u0644\u062d\u0633\u0627\u0628\u0627\u062a \u0627\u0644\u0628\u0646\u0643\u064a\u0629","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})}getMaxCodeForPayment(t,i){this.docsService.getMaxReceivableCode(t,i).subscribe(o=>{this.maxPaymentCode=o.max,this.id||this.docData_Form.patchValue({PDOCode:this.maxPaymentCode})})}can(t){return!(!this.curUserData.is_superuser&&!this.userPerm.includes(t))}getDocById(t){this.docsService.getOneDocs(t).subscribe(i=>{this.fillForm(i),this.payDocForDisplay=i})}fillForm(t){console.log("-----contract.PDODocType:: "+t.PDODocType),console.log("-----contract.PDOPayType:: "+t.PDOPayType),null!=t.PDODocDate&&(this.s_docDate=t.PDODocDate),this.getBankAccountsPerOwner(this.curCOMId,this.account.periorty,t.owner_KeyField),this.docData_Form.patchValue({id:t.id,contract_KeyField:t.contract_KeyField,branch_KeyField:t.branch_KeyField,owner_KeyField:t.owner_KeyField,build_KeyField:t.build_KeyField,unit_KeyField:t.unit_KeyField,installment_KeyField:t.installment_KeyField,bankAccount_KeyField:t.bankAccount_KeyField,customer_KeyField:t.customer_KeyField,PDOCode:t.PDOCode,PDOValue:t.PDOValue,PDODocType:t.PDODocType,PDODocDate:t.PDODocDate,PDOPayType:t.PDOPayType,PDOPayDate:t.PDOPayDate,PDODocClassType:t.PDODocClassType,PDOPrintedCode:t.PDOPrintedCode,PDODocSecondPerson:t.PDODocSecondPerson,PDONotes:t.PDONotes,PDOEjarCode:t.PDOEjarCode,PDOReferenceCode:t.PDOReferenceCode,PDOInstallmentCode:t.PDOInstallmentCode})}fillForm_FromCustomerDebit(){console.log("---this.transferedData.INSCode:: "+this.transferedData.INSCode),this.curDocValue=this.transferedData.INSValue,this.curDocPayedValue=this.transferedData.INSPayedValue,null==this.curDocValue&&(this.curDocValue=0),null==this.curDocPayedValue&&(this.curDocPayedValue=0),console.log("---this.transferedData.Name::"+this.transferedData.customer_Name),console.log("---this.transferedData.id::"+this.transferedData.id),console.log("---this.transferedData.Name::"+this.transferedData.customer_Name),this.getBankAccountsPerOwner(this.curCOMId,this.account.periorty,this.transferedData.owner_KeyField),this.docData_Form.patchValue({customer_KeyField:this.transferedData.customer_KeyField,PDODocSecondPerson:this.transferedData.customer_Name,customer_code:this.transferedData.customer_Code,UnitCode:this.transferedData.UnitCode,build_Name:this.transferedData.build_Name,contract_KeyField:this.transferedData.contract_KeyField,branch_KeyField:this.transferedData.branch_KeyField,build_KeyField:this.transferedData.build_KeyField,unit_KeyField:this.transferedData.unit_KeyField,owner_KeyField:this.transferedData.owner_KeyField,installment_KeyField:this.transferedData.id,PDONotes:this.transferedData.INSNotes,PDOValue:this.curDocValue-this.curDocPayedValue,PDOInstallmentCode:this.transferedData.INSCode})}searchByCode(t){console.log("---Search event:: "+t),this.tenantsService.getCustomerPerCode(this.curCOMId,this.account.periorty,+t).subscribe(i=>{i.length>0?(console.log("---id:: "+i[0].id),this.docData_Form.patchValue({customer_KeyField:i[0].id}),this.readCustumer(i[0].id)):(console.log("---Not---"),this.docData_Form.patchValue({customer_KeyField:null}))},i=>{console.log("----not found tenant----")})}readCustumer(t){console.log("====Selected readCustumer:: "+t),this.tenantsService.getOneCustomer(t).subscribe(i=>{console.log("==tenantName:: "+i.CUSName),console.log("==current_contract:: "+i.current_contract),this.docData_Form.patchValue({customer_KeyField:i.id,PDODocSecondPerson:i.CUSName,customer_code:i.CUSCode})}),this.getCustomerInstallmentsNotPayed(this.curCOMId,this.account.periorty,t)}getCustomerInstallmentsNotPayed(t,i,o){let n=0,r=this.docData_Form.value.PDODocClassType;console.log("first docClassType:: "+r),"A"==r?(console.log("A docClassType:: "+r),this.contractService.getInstallmentsPerCustomer_Payed(t,i,o,"F").subscribe(s=>{this.AllNotPayedInstallments=s,this.curOwnerId=s[0].owner_KeyField,this.curContract=s[0].contract_KeyField,this.curBranch=s[0].branch_KeyField,this.curBuild=s[0].build_KeyField,this.curUnit=s[0].unit_KeyField,this.curInstallment=+s[0].id,console.log("this.curInstallment:: "+this.curInstallment),console.log("responseInstallments[0][id]:: "+s[0].id),this.curDocValue=s[0].INSValue,this.curDocPayedValue=s[0].INSPayedValue,null==this.curDocValue&&(this.curDocValue=0),null==this.curDocPayedValue&&(this.curDocPayedValue=0),this.getBankAccountsPerOwner(this.curCOMId,this.account.periorty,this.curOwnerId),this.docData_Form.patchValue({contract_KeyField:this.curContract,branch_KeyField:this.curBranch,build_KeyField:this.curBuild,unit_KeyField:this.curUnit,owner_KeyField:this.curOwnerId,installment_KeyField:this.curInstallment,PDONotes:s[0].INSNotes,PDOValue:this.curDocValue-this.curDocPayedValue,PDOInstallmentCode:s[0].INSCode})},s=>{this.snackBar.open("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0627\u0644\u0623\u0642\u0633\u0627\u0637","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})):"D"==r||"E"==r?(console.log("D or E docClassType:: "+r),this.contractService.getNewContractsPerCustomer(t,i,o).subscribe(s=>{this.curOwnerId=s[0].owner_KeyField,this.curContract=s[0].id,this.curBranch=s[0].branch_KeyField,this.curBuild=s[0].build_KeyField,this.curUnit=s[0].unit_KeyField,this.curInsuranceValue=s[0].RCOInsuranceValue,this.curSeekingValue=s[0].RCOSeekingValue,null==this.curInsuranceValue&&(this.curInsuranceValue=0),null==this.curSeekingValue&&(this.curSeekingValue=0),"E"==r?n=this.curInsuranceValue:"D"==r&&(n=this.curSeekingValue),this.getBankAccountsPerOwner(this.curCOMId,this.account.periorty,this.curOwnerId),this.docData_Form.patchValue({contract_KeyField:this.curContract,branch_KeyField:this.curBranch,build_KeyField:this.curBuild,unit_KeyField:this.curUnit,owner_KeyField:this.curOwnerId,installment_KeyField:null,PDOValue:n,PDOInstallmentCode:null})},s=>{this.snackBar.open("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0648\u0627\u0644\u0633\u0639\u064a","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})):console.log("last docClassType:: "+r)}getCustomerInstallmentsPerUnitNotPayed(t,i,o,n){let r=0,s=this.docData_Form.value.PDODocClassType;console.log("customer:: "+o),console.log("unit:: "+n),console.log("first docClassType:: "+s),"A"==s?(console.log("A docClassType:: "+s),this.contractService.getInstallmentsPerCustomerUnit_Payed(t,i,o,n,"F").subscribe(c=>{c&&Array.isArray(c)&&c.length>0?(this.AllNotPayedInstallments=c,this.curOwnerId=c[0].owner_KeyField,this.curContract=c[0].contract_KeyField,this.curBranch=c[0].branch_KeyField,this.curBuild=c[0].build_KeyField,this.curUnit=c[0].unit_KeyField,this.curInstallment=+c[0].id,console.log("this.curInstallment:: "+this.curInstallment),console.log("responseInstallments[0][id]:: "+c[0].id),this.curDocValue=c[0].INSValue,this.curDocPayedValue=c[0].INSPayedValue,null==this.curDocValue&&(this.curDocValue=0),null==this.curDocPayedValue&&(this.curDocPayedValue=0),this.getBankAccountsPerOwner(this.curCOMId,this.account.periorty,this.curOwnerId),this.docData_Form.patchValue({contract_KeyField:this.curContract,branch_KeyField:this.curBranch,build_KeyField:this.curBuild,unit_KeyField:this.curUnit,owner_KeyField:this.curOwnerId,installment_KeyField:this.curInstallment,PDONotes:c[0].INSNotes,PDOValue:this.curDocValue-this.curDocPayedValue,PDOInstallmentCode:c[0].INSCode})):(console.error("No installments found or invalid response format:",c),this.snackBar.open("\u0644\u0627 \u062a\u0648\u062c\u062f \u0623\u0642\u0633\u0627\u0637 \u0645\u0637\u0644\u0648\u0628\u0629 \u0644\u0647\u0630\u0647 \u0627\u0644\u0648\u062d\u062f\u0629","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3}))},c=>{console.error("Error fetching installments:",c),this.snackBar.open("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0627\u0644\u0623\u0642\u0633\u0627\u0637","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})):"D"==s||"E"==s?(console.log("D or E docClassType:: "+s),this.contractService.getNewContractsPerCustomerUnit(t,i,o,n).subscribe(c=>{this.curOwnerId=c[0].owner_KeyField,this.curContract=c[0].id,this.curBranch=c[0].branch_KeyField,this.curBuild=c[0].build_KeyField,this.curUnit=c[0].unit_KeyField,this.curInsuranceValue=c[0].RCOInsuranceValue,this.curSeekingValue=c[0].RCOSeekingValue,null==this.curInsuranceValue&&(this.curInsuranceValue=0),null==this.curSeekingValue&&(this.curSeekingValue=0),"E"==s?r=this.curInsuranceValue:"D"==s&&(r=this.curSeekingValue),this.getBankAccountsPerOwner(this.curCOMId,this.account.periorty,this.curOwnerId),this.docData_Form.patchValue({contract_KeyField:this.curContract,branch_KeyField:this.curBranch,build_KeyField:this.curBuild,unit_KeyField:this.curUnit,owner_KeyField:this.curOwnerId,installment_KeyField:null,PDOValue:r,PDOInstallmentCode:null})},c=>{this.snackBar.open("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0648\u0627\u0644\u0633\u0639\u064a","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})):console.log("last docClassType:: "+s)}getTenants(){this.AllTenants=null,this.tenantsService.getCustomers(this.curCOMId,this.account.periorty).subscribe(t=>{this.AllTenants=t})}mappingFormValue_ToPayDocClass(){const t=new u.uU("en-GB").transform(this.docData_Form.value.PDODocDate,"dd/MM/yyyy"),i=new u.uU("en-GB").transform(this.docData_Form.value.PDOPayDate,"dd/MM/yyyy");this.payDocForDisplay.id=this.docData_Form.value.id,this.payDocForDisplay.contract_KeyField=this.docData_Form.value.contract_KeyField,this.payDocForDisplay.branch_KeyField=this.docData_Form.value.branch_KeyField,this.payDocForDisplay.owner_KeyField=this.docData_Form.value.owner_KeyField,this.payDocForDisplay.build_KeyField=this.docData_Form.value.build_KeyField,this.payDocForDisplay.unit_KeyField=this.docData_Form.value.unit_KeyField,this.payDocForDisplay.installment_KeyField=this.docData_Form.value.installment_KeyField,this.payDocForDisplay.customer_KeyField=this.docData_Form.value.customer_KeyField,this.payDocForDisplay.bankAccount_KeyField=this.docData_Form.value.bankAccount_KeyField,null!=this.docData_Form.value.PDODocDate&&(this.payDocForDisplay.PDODocDate=t),this.payDocForDisplay.PDOPayType=this.docData_Form.value.PDOPayType,null!=this.docData_Form.value.PDOPayDate&&(this.payDocForDisplay.PDOPayDate=i),this.payDocForDisplay.PDOCode=this.docData_Form.value.PDOCode,this.payDocForDisplay.PDOValue=this.docData_Form.value.PDOValue,this.payDocForDisplay.PDODocType=this.docData_Form.value.PDODocType,this.payDocForDisplay.PDODocClassType=this.docData_Form.value.PDODocClassType,this.payDocForDisplay.PDOPrintedCode=this.docData_Form.value.PDOPrintedCode,this.payDocForDisplay.PDODocSecondPerson=this.docData_Form.value.PDODocSecondPerson,this.payDocForDisplay.PDONotes=this.docData_Form.value.PDONotes,this.payDocForDisplay.PDOEjarCode=this.docData_Form.value.PDOEjarCode,this.payDocForDisplay.PDOReferenceCode=this.docData_Form.value.PDOReferenceCode,this.payDocForDisplay.PDOInstallmentCode=this.docData_Form.value.PDOInstallmentCode}manageInstallmetPayedValue(t,i,o,n,r){null==o&&(o=0),null==n&&(n=0),null==i&&(i=0);let s=+o+ +n;console.log("===installmentId:: "+t),console.log("===installmentPayedValue:: "+o),console.log("===docPayedValue:: "+n),console.log("===totalPayed:: "+s),this.insStatus=s<i?"T":"P";let c={id:t,INSStatus:this.insStatus,INSPayedValue:s,INSPayDate:r,INSPersonPayName:this.payDocForDisplay.PDODocSecondPerson};console.log("===installData:: "+c),console.log("===installData.id:: "+c.id),this.contractService.editInstallments(c).subscribe(p=>{console.log("==installment after Update:: "+p)},p=>{console.log(p)})}saveEditDocData(t){const i=new u.uU("en-GB").transform(this.docData_Form.value.PDODocDate,"dd/MM/yyyy");this.mappingFormValue_ToPayDocClass(),t?this.docsService.editDoc(this.payDocForDisplay).subscribe(o=>{let n={contract_KeyField:o.contract_KeyField,branch_KeyField:o.branch_KeyField,owner_KeyField:o.owner_KeyField,build_KeyField:o.build_KeyField,unit_KeyField:o.unit_KeyField,installment_KeyField:o.installment_KeyField,customer_KeyField:o.customer_KeyField,TSTCreditValue:o.PDOValue,TSTDebitValue:0,TSTDate:o.PDODocDate,TSTDescription:"\u0642\u064a\u0645\u0629 \u0633\u0646\u062f \u0627\u0644\u0642\u0628\u0636 \u0631\u0642\u0645 "+o.PDOCode,TSTSubject:"RECEIVABLE",TSTSubjectID:o.id};console.log("---------------------------------"),console.log("***res.id:: "+o.id),console.log("---------------------------------"),this.contractService.getStatementsIDPerSubjectID(this.curCOMId,this.account.periorty,"RECEIVABLE",o.id).subscribe(r=>{console.log("statement[0][id]:: "+r[0].id),this.tenantStatementID=r[0].id,console.log("this.tenantStatementID:: "+this.tenantStatementID),this.contractService.deleteStatementForStatementID(this.tenantStatementID).subscribe(s=>{this.contractService.addStatement(n).subscribe(c=>{})})}),this.snackBar.open("\u062a\u0645 \u062a\u0639\u062f\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u0646\u062f","\xd7",{panelClass:"success",verticalPosition:"top",duration:3e3}),this.router.navigate(["payments/receivable-list"])},o=>{this.snackBar.open(" \u062e\u0637\u0623 \u0641\u064a \u062a\u0639\u062f\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0645\u0633\u062a\u0646\u062f","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})}):this.docsService.addDoc(this.payDocForDisplay).subscribe(o=>{this.contractService.addStatement({contract_KeyField:o.contract_KeyField,branch_KeyField:o.branch_KeyField,owner_KeyField:o.owner_KeyField,build_KeyField:o.build_KeyField,unit_KeyField:o.unit_KeyField,installment_KeyField:o.installment_KeyField,customer_KeyField:o.customer_KeyField,TSTCreditValue:o.PDOValue,TSTDebitValue:0,TSTDate:o.PDODocDate,TSTDescription:"\u0642\u064a\u0645\u0629 \u0633\u0646\u062f \u0627\u0644\u0642\u0628\u0636 \u0631\u0642\u0645 "+o.PDOCode+" ( "+o.PDODocClassTypeDisplay+" )",TSTSubject:"RECEIVABLE",TSTSubjectID:o.id}).subscribe(s=>{console.log("addStatement Done")},s=>{console.log("addStatement Error:: "+s)}),"A"==this.docData_Form.value.PDODocClassType&&this.manageInstallmetPayedValue(this.curInstallment,this.curDocValue,this.curDocPayedValue,this.payDocForDisplay.PDOValue,i),this.snackBar.open("\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u0646\u062f","\xd7",{panelClass:"success",verticalPosition:"top",duration:3e3}),this.router.navigate(["payments/receivable-list"])},o=>{this.snackBar.open(" \u062e\u0637\u0623 \u0641\u064a \u0627\u0636\u0627\u0641\u0647 \u0645\u0633\u062a\u0646\u062f","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})}prepareMsgLanguage(){this.translateService.get("MESSAGE.RETRIEVE_ERROR").subscribe(t=>{this.errorRetrieveMsg=t}),this.translateService.get("MESSAGE.SURE_DELETE").subscribe(t=>{this.askToDeletedMsg=t}),this.translateService.get("MESSAGE.DELETED").subscribe(t=>{this.deletedMsg=t})}}T.\u0275fac=function(t){return new(t||T)(e.Y36(O.y),e.Y36(D.gz),e.Y36(K.C),e.Y36(ee.J),e.Y36(L.U),e.Y36(D.F0),e.Y36(M.ux),e.Y36(_.c),e.Y36(te.v),e.Y36(k.W),e.Y36(f.sK),e.Y36(d.qu),e.Y36(_e.j),e.Y36(d.qu))},T.\u0275cmp=e.Xpm({type:T,selectors:[["app-receivable-doc-dialog"]],decls:175,vars:124,consts:[[1,"p-2"],[4,"ngIf"],[1,"pt-3"],["autocomplete","off","fxLayout","row wrap",3,"formGroup","ngSubmit"],["fxFlex","100","fxFlex.gt-sm","40",1,"px-2"],["width","400","height","300","id","campanyLogo",3,"src"],["fxFlex","100","fxFlex.gt-sm","60",1,"px-2"],["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-sm","28",1,"px-1"],["appearance","outline",1,"w-100"],["formControlName","PDODocClassType","id","classitypeOpSel",3,"placeholder"],[3,"value"],["fxFlex","100","fxFlex.gt-sm","17",1,"px-1"],["matInput","","formControlName","customer_code",3,"keyup.enter"],["tenCode",""],["fxFlex","100","fxFlex.gt-sm","40",1,"px-1"],["appearance","outline","formControlName","customer_KeyField",1,"w-100",3,"placeholder","change"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","100","fxFlex.gt-sm","15",1,"px-1"],["formControlName","PDOPayType","id","selfpaytypeOpSel",3,"placeholder"],["fxLayout","row","fxLayoutAlign","space-between center",1,"w-100"],["fxFlex","100","fxFlex.gt-sm","25",1,"px-1"],["matInput","","formControlName","PDODocDate","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["pdoDocDate",""],["matInput","","formControlName","PDOCode"],["fxFlex","100","fxFlex.gt-sm","20",1,"px-1"],["matInput","","formControlName","UnitCode",3,"matAutocomplete"],[3,"panelWidth","optionSelected"],["auto","matAutocomplete"],["matInput","","formControlName","build_Name","readonly",""],["fxFlex","100","fxFlex.gt-sm","40.0",1,"px-1"],["formControlName","bankAccount_KeyField","id","bnkaccOpSel",3,"placeholder"],["matInput","","formControlName","PDOValue","required",""],["matInput","","formControlName","PDOPrintedCode"],["matInput","","formControlName","PDOReferenceCode"],["matInput","","formControlName","PDOInstallmentCode"],["matInput","","formControlName","PDOEjarCode"],["matInput","","formControlName","PDODocSecondPerson","required",""],["matInput","","formControlName","PDOPayDate",3,"matDatepicker"],["pdoPayDate",""],["fxFlex","100",1,"px-1"],["matInput","","formControlName","PDONotes","rows","3"],["fxFlex","100","class","mt-2 text-center w-100",4,"ngIf"],["fxFlex","100",1,"mt-2","text-center","w-100"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title")(4,"h1"),e.YNc(5,ve,3,3,"span",1),e.YNc(6,xe,3,3,"span",1),e._uU(7),e.ALo(8,"translate"),e.qZA()()(),e.TgZ(9,"mat-card-content",2)(10,"form",3),e.NdJ("ngSubmit",function(){return i.saveEditDocData(i.payDocForDisplay.id)}),e.TgZ(11,"div",4),e._UZ(12,"img",5),e.qZA(),e.TgZ(13,"div",6)(14,"div",7)(15,"div",8)(16,"mat-form-field",9)(17,"mat-label"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"mat-select",10),e.ALo(21,"translate"),e.TgZ(22,"mat-option",11),e._uU(23,"-"),e.qZA(),e.TgZ(24,"mat-option",11),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"mat-option",11),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"mat-option",11),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"mat-option",11),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"mat-option",11),e._uU(37),e.ALo(38,"translate"),e.qZA(),e.TgZ(39,"mat-option",11),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"mat-option",11),e._uU(43),e.ALo(44,"translate"),e.qZA()()()(),e.TgZ(45,"div",12)(46,"mat-form-field",9)(47,"mat-label"),e._uU(48),e.ALo(49,"translate"),e.qZA(),e.TgZ(50,"input",13,14),e.NdJ("keyup.enter",function(){e.CHM(o);const r=e.MAs(51);return e.KtG(i.searchByCode(r.value))}),e.qZA()()(),e.TgZ(52,"div",15)(53,"label"),e._uU(54),e.ALo(55,"translate"),e.qZA(),e.TgZ(56,"ng-select",16),e.NdJ("change",function(r){return i.readCustumer(r)}),e.ALo(57,"translate"),e.YNc(58,Pe,2,2,"ng-option",17),e.qZA()(),e.TgZ(59,"div",18)(60,"mat-form-field",9)(61,"mat-label"),e._uU(62),e.ALo(63,"translate"),e.qZA(),e.TgZ(64,"mat-select",19),e.ALo(65,"translate"),e.TgZ(66,"mat-option",11),e._uU(67,"-"),e.qZA(),e.TgZ(68,"mat-option",11),e._uU(69),e.ALo(70,"translate"),e.qZA(),e.TgZ(71,"mat-option",11),e._uU(72),e.ALo(73,"translate"),e.qZA(),e.TgZ(74,"mat-option",11),e._uU(75),e.ALo(76,"translate"),e.qZA(),e.TgZ(77,"mat-option",11),e._uU(78),e.ALo(79,"translate"),e.qZA()()()(),e.TgZ(80,"div",20)(81,"div",21)(82,"mat-form-field",9)(83,"mat-label"),e._uU(84),e.ALo(85,"translate"),e.qZA(),e._UZ(86,"input",22)(87,"mat-datepicker-toggle",23)(88,"mat-datepicker",null,24),e.qZA()(),e.TgZ(90,"div",18)(91,"mat-form-field",9)(92,"mat-label"),e._uU(93),e.ALo(94,"translate"),e.qZA(),e._UZ(95,"input",25),e.qZA()(),e.TgZ(96,"div",26)(97,"mat-form-field",9)(98,"mat-label"),e._uU(99),e.ALo(100,"translate"),e.qZA(),e._UZ(101,"input",27),e.TgZ(102,"mat-autocomplete",28,29),e.NdJ("optionSelected",function(r){return i.onUnitSelected(r.option.value)}),e.YNc(104,Te,2,3,"mat-option",17),e.qZA()()(),e.TgZ(105,"div",15)(106,"mat-form-field",9)(107,"mat-label"),e._uU(108),e.ALo(109,"translate"),e.qZA(),e._UZ(110,"input",30),e.qZA()()(),e.TgZ(111,"div",20)(112,"div",31)(113,"mat-form-field",9)(114,"mat-label"),e._uU(115),e.ALo(116,"translate"),e.qZA(),e.TgZ(117,"mat-select",32),e.ALo(118,"translate"),e.TgZ(119,"mat-option",11),e._uU(120,"-"),e.qZA(),e.YNc(121,Ce,2,2,"mat-option",17),e.qZA()()(),e.TgZ(122,"div",26)(123,"mat-form-field",9)(124,"mat-label"),e._uU(125),e.ALo(126,"translate"),e.qZA(),e._UZ(127,"input",33),e.qZA()(),e.TgZ(128,"div",26)(129,"mat-form-field",9)(130,"mat-label"),e._uU(131),e.ALo(132,"translate"),e.qZA(),e._UZ(133,"input",34),e.qZA()(),e.TgZ(134,"div",26)(135,"mat-form-field",9)(136,"mat-label"),e._uU(137),e.ALo(138,"translate"),e.qZA(),e._UZ(139,"input",35),e.qZA()()(),e.TgZ(140,"div",20)(141,"div",18)(142,"mat-form-field",9)(143,"mat-label"),e._uU(144),e.ALo(145,"translate"),e.qZA(),e._UZ(146,"input",36),e.qZA()(),e.TgZ(147,"div",26)(148,"mat-form-field",9)(149,"mat-label"),e._uU(150),e.ALo(151,"translate"),e.qZA(),e._UZ(152,"input",37),e.qZA()(),e.TgZ(153,"div",15)(154,"mat-form-field",9)(155,"mat-label"),e._uU(156),e.ALo(157,"translate"),e.qZA(),e._UZ(158,"input",38),e.qZA()(),e.TgZ(159,"div",21)(160,"mat-form-field",9)(161,"mat-label"),e._uU(162),e.ALo(163,"translate"),e.qZA(),e._UZ(164,"input",39)(165,"mat-datepicker-toggle",23)(166,"mat-datepicker",null,40),e.qZA()()(),e.TgZ(168,"div",41)(169,"mat-form-field",9)(170,"mat-label"),e._uU(171),e.ALo(172,"translate"),e.qZA(),e._UZ(173,"textarea",42),e.qZA()(),e.YNc(174,Ae,4,3,"div",43),e.qZA()()()()()()}if(2&t){const o=e.MAs(89),n=e.MAs(103),r=e.MAs(167);e.xp6(5),e.Q6J("ngIf",!i.payDocForDisplay.id),e.xp6(1),e.Q6J("ngIf",i.payDocForDisplay.id),e.xp6(1),e.hij(" ",e.lcZ(8,58,"HTML.ReceivableDoc"),""),e.xp6(3),e.Q6J("formGroup",i.docData_Form),e.xp6(2),e.Q6J("src","assets/images/paymentDocs/receivable.png",e.LSH),e.xp6(6),e.Oqu(e.lcZ(19,60,"HTML.DocClassType")),e.xp6(2),e.s9C("placeholder",e.lcZ(21,62,"HTML.DocClassType")),e.xp6(4),e.Q6J("value","A"),e.xp6(1),e.Oqu(e.lcZ(26,64,"OPTIONS.ReceivableDocInstallment")),e.xp6(2),e.Q6J("value","B"),e.xp6(1),e.Oqu(e.lcZ(29,66,"OPTIONS.ReceivableDocService")),e.xp6(2),e.Q6J("value","C"),e.xp6(1),e.Oqu(e.lcZ(32,68,"OPTIONS.ReceivableDocDeposit")),e.xp6(2),e.Q6J("value","D"),e.xp6(1),e.Oqu(e.lcZ(35,70,"OPTIONS.ReceivableDocArrest")),e.xp6(2),e.Q6J("value","E"),e.xp6(1),e.Oqu(e.lcZ(38,72,"OPTIONS.ReceivableDocInsurance")),e.xp6(2),e.Q6J("value","F"),e.xp6(1),e.Oqu(e.lcZ(41,74,"OPTIONS.ReceivableDocExpense")),e.xp6(2),e.Q6J("value","G"),e.xp6(1),e.Oqu(e.lcZ(44,76,"OPTIONS.ReceivableDocClearance")),e.xp6(5),e.Oqu(e.lcZ(49,78,"HTML.CODE_TENANT")),e.xp6(6),e.hij(" ",e.lcZ(55,80,"HTML.TENANT"),""),e.xp6(2),e.s9C("placeholder",e.lcZ(57,82,"HTML.TENANT")),e.xp6(2),e.Q6J("ngForOf",i.AllTenants),e.xp6(4),e.Oqu(e.lcZ(63,84,"HTML.DocPayType")),e.xp6(2),e.s9C("placeholder",e.lcZ(65,86,"HTML.DocPayType")),e.xp6(4),e.Q6J("value","C"),e.xp6(1),e.Oqu(e.lcZ(70,88,"OPTIONS.Cash")),e.xp6(2),e.Q6J("value","B"),e.xp6(1),e.Oqu(e.lcZ(73,90,"OPTIONS.Bank")),e.xp6(2),e.Q6J("value","E"),e.xp6(1),e.Oqu(e.lcZ(76,92,"OPTIONS.Ejar")),e.xp6(2),e.Q6J("value","T"),e.xp6(1),e.Oqu(e.lcZ(79,94,"OPTIONS.Transfere")),e.xp6(6),e.Oqu(e.lcZ(85,96,"HTML.DocDate")),e.xp6(2),e.Q6J("matDatepicker",o),e.xp6(1),e.Q6J("for",o),e.xp6(6),e.Oqu(e.lcZ(94,98,"HTML.CODE_DOCUMENT")),e.xp6(6),e.Oqu(e.lcZ(100,100,"HTML.UnitNumber")),e.xp6(2),e.Q6J("matAutocomplete",n),e.xp6(1),e.Q6J("panelWidth","250px"),e.xp6(2),e.Q6J("ngForOf",i.filteredUnits),e.xp6(4),e.Oqu(e.lcZ(109,102,"HTML.BUILDING")),e.xp6(7),e.hij(" ",e.lcZ(116,104,"HTML.BankAccounts"),""),e.xp6(2),e.s9C("placeholder",e.lcZ(118,106,"HTML.BankAccounts")),e.xp6(4),e.Q6J("ngForOf",i.AllBankAccountsForOwner),e.xp6(4),e.Oqu(e.lcZ(126,108,"HTML.DocValue")),e.xp6(6),e.Oqu(e.lcZ(132,110,"HTML.DocPrintedNo")),e.xp6(6),e.Oqu(e.lcZ(138,112,"HTML.DocReferenceCode")),e.xp6(7),e.Oqu(e.lcZ(145,114,"HTML.InstallmentCode")),e.xp6(6),e.Oqu(e.lcZ(151,116,"HTML.PayDocEjarCode")),e.xp6(6),e.Oqu(e.lcZ(157,118,"HTML.DocSecondPart_ReceivableDoc")),e.xp6(6),e.Oqu(e.lcZ(163,120,"HTML.DocPayDate")),e.xp6(2),e.Q6J("matDatepicker",r),e.xp6(1),e.Q6J("for",r),e.xp6(6),e.Oqu(e.lcZ(172,122,"HTML.Notes")),e.xp6(3),e.Q6J("ngIf",i.payDocForDisplay.id&&i.can("change_onereceivable")||!i.payDocForDisplay.id&&i.can("add_onereceivable"))}},dependencies:[d._Y,d.Fj,d.JJ,d.JL,d.Q7,u.sg,u.O5,d.sg,d.u,h.xw,h.Wh,h.yH,ie.XC,oe.ey,ie.ZL,x.lW,m.a8,m.dn,m.dk,m.n5,P.Mq,P.hl,P.nW,V.Nt,b.KE,b.hX,b.R9,ae.gD,Z.w9,Z.jq,f.X$]});var ne=l(80529),Ze=l(53701),Se=l(39045);function we(a,t){if(1&a){const i=e.EpF();e.TgZ(0,"mat-button-toggle",21),e.NdJ("click",function(){e.CHM(i);const n=e.oxw();return e.KtG(n.gotoNewDocument())}),e.TgZ(1,"mat-icon"),e._uU(2,"note_add"),e.qZA()()}}const Ue=function(a){return["/payments/payable-add/",a]};function Ne(a,t){if(1&a&&(e.TgZ(0,"a",27),e.ALo(1,"translate"),e.TgZ(2,"mat-icon"),e._uU(3,"edit"),e.qZA()()),2&a){const i=e.oxw().$implicit;e.s9C("matTooltip",e.lcZ(1,2,"BTN.VIEW")),e.Q6J("routerLink",e.VKq(4,Ue,i.id))}}function Ie(a,t){if(1&a){const i=e.EpF();e.TgZ(0,"button",28),e.NdJ("click",function(){e.CHM(i);const n=e.oxw().$implicit,r=e.oxw();return e.KtG(r.removeDocument(n.id))}),e.ALo(1,"translate"),e.TgZ(2,"mat-icon"),e._uU(3,"delete"),e.qZA()()}2&a&&e.s9C("matTooltip",e.lcZ(1,1,"BTN.REMOVE"))}function Le(a,t){if(1&a&&(e.TgZ(0,"div",22)(1,"div",23),e._uU(2),e.qZA(),e.TgZ(3,"div",23),e._uU(4),e.qZA(),e.TgZ(5,"div",23),e._uU(6),e.qZA(),e.TgZ(7,"div",23),e._uU(8),e.qZA(),e.TgZ(9,"div",23),e._uU(10),e.qZA(),e.TgZ(11,"div",23)(12,"div",24),e.YNc(13,Ne,4,6,"a",25),e.YNc(14,Ie,4,3,"button",26),e.qZA()()()),2&a){const i=t.$implicit,o=e.oxw();e.xp6(2),e.hij(" ",i.customer_Name," "),e.xp6(2),e.hij(" ",i.PDODocDate," "),e.xp6(2),e.hij(" ",i.PDOValue," "),e.xp6(2),e.hij(" ",i.PDODocClassTypeDisplay," "),e.xp6(2),e.hij(" ",i.PDOPrintedCode," "),e.xp6(3),e.Q6J("ngIf",o.can("view_onepayable")),e.xp6(1),e.Q6J("ngIf",o.can("delete_onepayable"))}}function Ke(a,t){if(1&a){const i=e.EpF();e.TgZ(0,"div",29)(1,"div",30)(2,"mat-card",31)(3,"pagination-controls",32),e.NdJ("pageChange",function(n){e.CHM(i);const r=e.oxw();return e.KtG(r.onPageChanged(n))}),e.qZA()()()()}}function Me(a,t){1&a&&(e.TgZ(0,"div",33),e._UZ(1,"mat-spinner",34),e.qZA())}const qe=function(a,t){return{itemsPerPage:a,currentPage:t}};class S{constructor(t,i,o,n,r,s,c,p,g,y){this.transferService=t,this.appSettings=i,this.dialog=o,this.paymentService=n,this.router=r,this.global=s,this.localStore=c,this.settingService=p,this.translateService=g,this.snackBar=y,this.account=new N.n,this.count=4,this.userPerm=[],this.editPayableDocCodeStatus=(new I.$).getEditPayableDocCodeStatus(),this.editCode=!0,this.settings=this.appSettings.settings}ngOnDestroy(){this.userSUb&&this.userSUb.unsubscribe()}ngOnInit(){if(this.securityForApp=(new I.$).getSecurityType(),this.userSUb=this.global.user.subscribe(t=>{this.account=t}),this.localStore.getItem("token")&&this.localStore.getItem("account")){this.curUserData=JSON.parse(this.localStore.getItem("account")),this.curCOMId=this.curUserData.COMId,this.appSetup=JSON.parse(this.localStore.getItem("appsetup")),this.curUserPermissions=JSON.parse(this.localStore.getItem("permissions"));for(let t=0;t<this.curUserPermissions.length;t++)this.userPerm[t]=this.curUserPermissions[t].codename;this.getParamValue(this.curCOMId,this.account.periorty,this.editPayableDocCodeStatus),this.prepareMsgLanguage(),this.getDocuments()}}getParamValue(t,i,o){this.settingService.getValueForCode(t,i,o).subscribe(n=>{o==this.editPayableDocCodeStatus&&(this.editPayableDocCodeValue=n[0].APAValue)},n=>{this.snackBar.open("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u062e\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u0646\u0638\u0627\u0645","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})}can(t){return!(!this.curUserData.is_superuser&&!this.userPerm.includes(t))}getDocuments(){this.documentsAll=null,this.curUserData.is_superuser?this.paymentService.getAllPayableDocuments(this.curCOMId,this.account.periorty).subscribe(t=>this.documentsAll=t):1==this.curUserData.periorty&&("N"==this.securityForApp&&this.paymentService.getAllPayableDocumentsPerBranch(this.curCOMId,this.account.periorty,this.curUserData.branch_KeyField).subscribe(t=>this.documentsAll=t),"D"==this.securityForApp&&this.paymentService.getAllPayableDocumentsPerEmp(this.curCOMId,this.account.periorty,this.curUserData.id).subscribe(t=>this.documentsAll=t))}removeDocument(t){this.dialog.open(j.$,{maxWidth:"400px",data:{title:this.deletedTitleMsg,message:this.askToDeletedMsg}}).afterClosed().subscribe(o=>{o&&this.paymentService.deleteDocument(t).subscribe(n=>this.getDocuments())})}onPageChanged(t){this.page=t,this.getDocuments(),window.scrollTo(0,0)}gotoNewDocument(){this.transferService.setMessage({editPayableDocCode:this.editPayableDocCodeValue}),this.router.navigate(["/payments/payable-add/"])}prepareMsgLanguage(){this.translateService.get("MESSAGE.RETRIEVE_ERROR").subscribe(t=>{this.errorRetrieveMsg=t}),this.translateService.get("MESSAGE.SURE_DELETE").subscribe(t=>{this.askToDeletedMsg=t}),this.translateService.get("MESSAGE.DELETED").subscribe(t=>{this.deletedMsg=t}),this.translateService.get("MESSAGE.ConfirmAction").subscribe(t=>{this.deletedTitleMsg=t})}}function Ve(a,t){1&a&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"BTN.ADD")))}function Ee(a,t){1&a&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"BTN.EDIT")))}function Re(a,t){if(1&a&&(e.TgZ(0,"ng-option",11),e._uU(1),e.qZA()),2&a){const i=t.$implicit;e.Q6J("value",i.id),e.xp6(1),e.hij(" ",i.CUSName,"")}}function ke(a,t){1&a&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"BTN.SAVE")))}function Je(a,t){1&a&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"BTN.EDIT")))}function Be(a,t){if(1&a&&(e.TgZ(0,"div",32)(1,"button",33),e.YNc(2,ke,3,3,"span",1),e.YNc(3,Je,3,3,"span",1),e.qZA()()),2&a){const i=e.oxw();e.xp6(1),e.Q6J("disabled",!i.docData_Form.valid),e.xp6(1),e.Q6J("ngIf",!i.payDocForDisplay.id),e.xp6(1),e.Q6J("ngIf",i.payDocForDisplay.id)}}S.\u0275fac=function(t){return new(t||S)(e.Y36(O.y),e.Y36(E.d),e.Y36(Q.uw),e.Y36(_.c),e.Y36(D.F0),e.Y36(L.U),e.Y36(K.C),e.Y36(R.g),e.Y36(f.sK),e.Y36(M.ux))},S.\u0275cmp=e.Xpm({type:S,selectors:[["app-payable-doc-list"]],features:[e._Bn([_.c])],decls:56,vars:37,consts:[["fxLayout","row","fxLayoutAlign","space-between center",1,"p-2"],["fxLayout","row"],["appearance","legacy"],["controls","matButtonToggleGroup"],["value","add",3,"click",4,"ngIf"],["value","search"],[1,"user-search"],[1,"user-search-input"],["matInput","","name","search","autocomplete","off",3,"placeholder","ngModel","ngModelChange"],["fxLayout","row","fxLayoutAlign","space-between center"],["appearance","legacy","value","list"],["viewType","matButtonToggleGroup"],["value","list"],["value","grid"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"w-100","p-3"],[1,"mat-mdc-table","admin-table"],[1,"mat-mdc-header-row"],[1,"mat-mdc-header-cell"],["class","mat-mdc-row",4,"ngFor","ngForOf"],["fxLayout","row wrap",4,"ngIf"],["fxLayout","column","fxLayoutAlign","center center","class","user-spinner",4,"ngIf"],["value","add",3,"click"],[1,"mat-mdc-row"],[1,"mat-mdc-cell"],[1,"p-2","actions"],["mat-mini-fab","","color","primary",3,"routerLink","matTooltip",4,"ngIf"],["mat-mini-fab","","color","warn",3,"matTooltip","click",4,"ngIf"],["mat-mini-fab","","color","primary",3,"routerLink","matTooltip"],["mat-mini-fab","","color","warn",3,"matTooltip","click"],["fxLayout","row wrap"],["fxFlex","100",1,"p-2"],[1,"text-center"],["autoHide","true","maxSize","5",1,"product-pagination",3,"pageChange"],["fxLayout","column","fxLayoutAlign","center center",1,"user-spinner"],["color","primary"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-button-toggle-group",2,3),e.YNc(4,we,3,0,"mat-button-toggle",4),e.TgZ(5,"mat-button-toggle",5)(6,"mat-icon"),e._uU(7,"search"),e.qZA()()()(),e.TgZ(8,"form",6)(9,"mat-form-field",7)(10,"input",8),e.NdJ("ngModelChange",function(n){return i.searchText=n}),e.ALo(11,"translate"),e.qZA()()(),e.TgZ(12,"div",9)(13,"mat-button-toggle-group",10,11)(15,"mat-button-toggle",12)(16,"mat-icon"),e._uU(17,"view_list"),e.qZA()(),e.TgZ(18,"mat-button-toggle",13)(19,"mat-icon"),e._uU(20,"view_module"),e.qZA()()()()(),e._UZ(21,"mat-divider"),e.TgZ(22,"mat-card")(23,"div",14)(24,"h2"),e._uU(25),e.ALo(26,"translate"),e.qZA()(),e._UZ(27,"mat-divider"),e.TgZ(28,"div",15)(29,"div",16)(30,"div",17)(31,"h3"),e._uU(32),e.ALo(33,"translate"),e.qZA()(),e.TgZ(34,"div",17)(35,"h3"),e._uU(36),e.ALo(37,"translate"),e.qZA()(),e.TgZ(38,"div",17)(39,"h3"),e._uU(40),e.ALo(41,"translate"),e.qZA()(),e.TgZ(42,"div",17)(43,"h3"),e._uU(44),e.ALo(45,"translate"),e.qZA()(),e.TgZ(46,"div",17)(47,"h3"),e._uU(48),e.ALo(49,"translate"),e.qZA()(),e._UZ(50,"div",17),e.qZA(),e.YNc(51,Le,15,7,"div",18),e.ALo(52,"paginate"),e.ALo(53,"PayDocumentsSearchPipe"),e.qZA()(),e.YNc(54,Ke,4,0,"div",19),e.YNc(55,Me,2,0,"div",20)),2&t){const o=e.MAs(3);e.xp6(4),e.Q6J("ngIf",i.can("add_onepayable")),e.xp6(4),e.ekj("show","search"==o.value),e.xp6(2),e.s9C("placeholder",e.lcZ(11,14,"HTML.SEARCH_PayDocument")),e.Q6J("ngModel",i.searchText),e.xp6(15),e.Oqu(e.lcZ(26,16,"HTML.PayableDoc_List")),e.xp6(7),e.hij(" ",e.lcZ(33,18,"HTML.TENANT")," "),e.xp6(4),e.hij(" ",e.lcZ(37,20,"HTML.DocDate")," "),e.xp6(4),e.hij(" ",e.lcZ(41,22,"HTML.DocValue")," "),e.xp6(4),e.hij(" ",e.lcZ(45,24,"HTML.DocClassType")," "),e.xp6(4),e.hij(" ",e.lcZ(49,26,"HTML.DocPrintedNo")," "),e.xp6(3),e.Q6J("ngForOf",e.xi3(52,28,e.xi3(53,31,i.documentsAll,i.searchText),e.WLB(34,qe,i.count,i.page))),e.xp6(3),e.Q6J("ngIf",i.documentsAll),e.xp6(1),e.Q6J("ngIf",!i.documentsAll)}},dependencies:[d._Y,d.Fj,d.JJ,d.JL,d.On,d.F,v.LS,u.sg,u.O5,D.rH,h.xw,h.Wh,h.yH,x.Tq,x.nh,q.A9,q.Yi,m.a8,z.Hw,V.Nt,b.KE,J.d,G.Ou,W.gM,v._s,$.dg,f.X$],styles:[".user-name{padding:0 12px;font-weight:400}.user-content{padding:10px}.user-content .user-img{position:relative}.user-content .user-img img{border-radius:50%;width:80px;height:80px}.user-content .user-img img.blocked{opacity:.5}.user-content .user-img .mat-icon{position:absolute;top:-8px;left:-8px;font-size:96px;height:96px;width:96px}.user-content .mat-mdc-slide-toggle{margin-top:15px}.user-content .user-details span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.user-content .user-details .mat-icon{padding:2px 10px}.user-content .user-details.blocked{opacity:.5}.user-search{width:0;overflow:hidden;transition:.3s}.user-search .mat-mdc-form-field{width:100%!important;text-align:center!important}.user-search .mat-mdc-form-field .mat-mdc-form-field-infix{min-height:36px;padding:8px 0!important}.user-search .mat-mdc-form-field .mat-mdc-form-field-subscript-wrapper{display:none}.user-search .mat-mdc-input-element{text-align:center}.user-search.show{width:100%;overflow:visible}.user-spinner{position:absolute;inset:0}.mat-mdc-card{overflow:hidden}\n"],encapsulation:2});class C{constructor(t,i,o,n,r,s,c,p,g,y,U,Y){this.transferService=t,this.activatedRoute=i,this.localStore=o,this._companyService=n,this.global=r,this.router=s,this.snackBar=c,this.docsService=p,this.tenantsService=g,this.contractService=y,this.translateService=U,this.fb=Y,this.account=new N.n,this.editCode=!0,this.userPerm=[],this.AllTenants=[]}ngOnDestroy(){this.userSUb&&this.userSUb.unsubscribe()}ngOnInit(){if(this.transferService.getMessage.subscribe(t=>{this.editCode="YES"==t.editPayableDocCode.toUpperCase(),console.log("---2222 this.editCode:: "+this.editCode)}),this.userSUb=this.global.user.subscribe(t=>{this.account=t}),this.localStore.getItem("token")&&this.localStore.getItem("account")){this.curUserData=JSON.parse(this.localStore.getItem("account")),this.curCOMId=this.curUserData.COMId,this.appSetup=JSON.parse(this.localStore.getItem("appsetup")),this.voucherCodingType=this.appSetup.APSPayableVoucherCodingType,this.voucherCodeStartWith=this.appSetup.APSPayableVoucherCodeStartWith,console.log("APSPayableVoucherCodingType:: "+this.voucherCodingType),console.log("APSPayableVoucherCodeStartWith:: "+this.voucherCodeStartWith),this.curUserPermissions=JSON.parse(this.localStore.getItem("permissions"));for(let t=0;t<this.curUserPermissions.length;t++)this.userPerm[t]=this.curUserPermissions[t].codename;this.getMaxCodeForPayment(this.curCOMId,this.account.periorty),this.getTenants(),this.sub=this.activatedRoute.params.subscribe(t=>{t.id?(this.id=+t.id,this.getDocById(this.id)):this.payDocForDisplay=new B}),this.docData_Form=this.fb.group({id:null,PDOCode:{value:null,disabled:!this.editCode},PDOValue:{value:null,disabled:this.id},PDODocDate:null,PDODocType:"P",PDODocClassType:"H",PDOPrintedCode:null,PDODocSecondPerson:null,PDONotes:null,contract_KeyField:null,branch_KeyField:null,owner_KeyField:null,build_KeyField:null,unit_KeyField:null,installment_KeyField:null,customer_KeyField:null,customer_code:null})}}getMaxCodeForPayment(t,i){this.docsService.getMaxPayableCode(t,i).subscribe(o=>{this.maxPaymentCode=o.max,this.id||this.docData_Form.patchValue({PDOCode:this.maxPaymentCode})})}can(t){return!(!this.curUserData.is_superuser&&!this.userPerm.includes(t))}getDocById(t){this.docsService.getOneDocs(t).subscribe(i=>{this.fillForm(i),this.payDocForDisplay=i})}fillForm(t){null!=t.PDODocDate&&(this.s_docDate=t.PDODocDate),this.docData_Form.patchValue({id:t.id,contract_KeyField:t.contract_KeyField,branch_KeyField:t.branch_KeyField,owner_KeyField:t.owner_KeyField,build_KeyField:t.build_KeyField,unit_KeyField:t.unit_KeyField,installment_KeyField:t.installment_KeyField,customer_KeyField:t.customer_KeyField,PDOCode:t.PDOCode,PDOValue:t.PDOValue,PDODocType:t.PDODocType,PDODocDate:t.PDODocDate,PDODocClassType:t.PDODocClassType,PDOPrintedCode:t.PDOPrintedCode,PDODocSecondPerson:t.PDODocSecondPerson,PDONotes:t.PDONotes})}onEnter(t){console.log("---Search event:: "+t)}searchByCode(t){console.log("---Search event:: "+t),this.tenantsService.getCustomerPerCode(this.curCOMId,this.account.periorty,+t).subscribe(i=>{i.length>0?(console.log("---id:: "+i[0].id),this.docData_Form.patchValue({customer_KeyField:i[0].id}),this.readCustumer(i[0].id)):(console.log("---Not---"),this.docData_Form.patchValue({customer_KeyField:null}))},i=>{console.log("----not found tenant----")})}readCustumer(t){this.tenantsService.getOneCustomer(t).subscribe(i=>{this.docData_Form.patchValue({PDODocSecondPerson:i.CUSName,contract_KeyField:i.current_contract,branch_KeyField:i.current_branch,build_KeyField:i.current_building,unit_KeyField:i.current_unit,owner_KeyField:i.current_owner,customer_code:i.CUSCode})})}getTenants(){this.AllTenants=null,this.tenantsService.getCustomers(this.curCOMId,this.account.periorty).subscribe(t=>this.AllTenants=t)}mappingFormValue_ToPayDocClass(){const t=new u.uU("en-GB").transform(this.docData_Form.value.PDODocDate,"dd/MM/yyyy");this.payDocForDisplay.id=this.docData_Form.value.id,this.payDocForDisplay.contract_KeyField=this.docData_Form.value.contract_KeyField,this.payDocForDisplay.branch_KeyField=this.docData_Form.value.branch_KeyField,this.payDocForDisplay.owner_KeyField=this.docData_Form.value.owner_KeyField,this.payDocForDisplay.build_KeyField=this.docData_Form.value.build_KeyField,this.payDocForDisplay.unit_KeyField=this.docData_Form.value.unit_KeyField,this.payDocForDisplay.installment_KeyField=this.docData_Form.value.installment_KeyField,this.payDocForDisplay.customer_KeyField=this.docData_Form.value.customer_KeyField,null!=this.docData_Form.value.PDODocDate&&(this.payDocForDisplay.PDODocDate=t),this.payDocForDisplay.PDOCode=this.docData_Form.value.PDOCode,this.payDocForDisplay.PDOValue=this.docData_Form.value.PDOValue,this.payDocForDisplay.PDODocType=this.docData_Form.value.PDODocType,this.payDocForDisplay.PDODocClassType=this.docData_Form.value.PDODocClassType,this.payDocForDisplay.PDOPrintedCode=this.docData_Form.value.PDOPrintedCode,this.payDocForDisplay.PDODocSecondPerson=this.docData_Form.value.PDODocSecondPerson,this.payDocForDisplay.PDONotes=this.docData_Form.value.PDONotes}saveEditDocData(t){this.mappingFormValue_ToPayDocClass(),t?this.docsService.editDoc(this.payDocForDisplay).subscribe(i=>{let o={contract_KeyField:i.contract_KeyField,branch_KeyField:i.branch_KeyField,owner_KeyField:i.owner_KeyField,build_KeyField:i.build_KeyField,unit_KeyField:i.unit_KeyField,installment_KeyField:null,customer_KeyField:i.customer_KeyField,TSTCreditValue:0,TSTDebitValue:i.PDOValue,TSTDate:i.PDODocDate,TSTDescription:"\u0642\u064a\u0645\u0629 \u0633\u0646\u062f \u0627\u0644\u0635\u0631\u0641 \u0631\u0642\u0645 "+i.PDOCode,TSTSubject:"PAYABLE",TSTSubjectID:i.ID};this.contractService.deleteStatementForSubjectID(this.curCOMId,this.account.periorty,"PAYABLE",i.id).subscribe(n=>{this.contractService.addStatement(o).subscribe(r=>{})}),this.snackBar.open("\u062a\u0645 \u062a\u0639\u062f\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u0646\u062f","\xd7",{panelClass:"success",verticalPosition:"top",duration:3e3}),this.router.navigate(["payments/payable-list"])},i=>{this.snackBar.open(" \u062e\u0637\u0623 \u0641\u064a \u062a\u0639\u062f\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0645\u0633\u062a\u0646\u062f","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})}):this.docsService.addDoc(this.payDocForDisplay).subscribe(i=>{this.contractService.addStatement({contract_KeyField:i.contract_KeyField,branch_KeyField:i.branch_KeyField,owner_KeyField:i.owner_KeyField,build_KeyField:i.build_KeyField,unit_KeyField:i.unit_KeyField,installment_KeyField:null,customer_KeyField:i.customer_KeyField,TSTCreditValue:0,TSTDebitValue:i.PDOValue,TSTDate:i.PDODocDate,TSTDescription:"\u0642\u064a\u0645\u0629 \u0633\u0646\u062f \u0627\u0644\u0635\u0631\u0641 \u0631\u0642\u0645 "+i.PDOCode,TSTSubject:"PAYABLE",TSTSubjectID:i.ID}).subscribe(n=>{}),this.snackBar.open("\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u0646\u062f","\xd7",{panelClass:"success",verticalPosition:"top",duration:3e3}),this.router.navigate(["payments/payable-list"])},i=>{this.snackBar.open(" \u062e\u0637\u0623 \u0641\u064a \u0627\u0636\u0627\u0641\u0647 \u0645\u0633\u062a\u0646\u062f","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})}prepareMsgLanguage(){this.translateService.get("MESSAGE.RETRIEVE_ERROR").subscribe(t=>{this.errorRetrieveMsg=t}),this.translateService.get("MESSAGE.SURE_DELETE").subscribe(t=>{this.askToDeletedMsg=t}),this.translateService.get("MESSAGE.DELETED").subscribe(t=>{this.deletedMsg=t})}}C.\u0275fac=function(t){return new(t||C)(e.Y36(O.y),e.Y36(D.gz),e.Y36(K.C),e.Y36(ee.J),e.Y36(L.U),e.Y36(D.F0),e.Y36(M.ux),e.Y36(_.c),e.Y36(te.v),e.Y36(k.W),e.Y36(f.sK),e.Y36(d.qu))},C.\u0275cmp=e.Xpm({type:C,selectors:[["app-payable-doc-dialog"]],decls:91,vars:60,consts:[[1,"p-2"],[4,"ngIf"],[1,"pt-3"],["autocomplete","off","fxLayout","row wrap",3,"formGroup","ngSubmit"],["fxFlex","100","fxFlex.gt-sm","40",1,"px-2"],["width","400","height","300","id","campanyLogo",3,"src"],["fxFlex","100","fxFlex.gt-sm","60",1,"px-2"],["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-sm","28",1,"px-1"],["appearance","outline",1,"w-100"],["formControlName","PDODocClassType","id","classitypeOpSel",3,"placeholder"],[3,"value"],["fxFlex","100","fxFlex.gt-sm","20",1,"px-1"],["matInput","","formControlName","customer_code",3,"keyup.enter"],["tenCode",""],["fxFlex","100","fxFlex.gt-sm","52",1,"px-1"],["appearance","outline","formControlName","customer_KeyField",1,"w-100",3,"placeholder","keyup.enter","change"],["box",""],[3,"value",4,"ngFor","ngForOf"],["fxFlex","100","fxFlex.gt-sm","25",1,"px-1"],["matInput","","formControlName","PDODocDate","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["pdoDocDate",""],["matInput","","formControlName","PDOCode"],["fxFlex","100","fxFlex.gt-sm","30",1,"px-1"],["matInput","","formControlName","PDOValue","required",""],["matInput","","formControlName","PDOPrintedCode"],["fxFlex","100","fxFlex.gt-sm","100",1,"px-1"],["matInput","","formControlName","PDODocSecondPerson","required",""],["fxFlex","100",1,"px-1"],["matInput","","formControlName","PDONotes","rows","3"],["fxFlex","100","class","mt-2 text-center w-100",4,"ngIf"],["fxFlex","100",1,"mt-2","text-center","w-100"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title")(4,"h1"),e.YNc(5,Ve,3,3,"span",1),e.YNc(6,Ee,3,3,"span",1),e._uU(7),e.ALo(8,"translate"),e.qZA()()(),e.TgZ(9,"mat-card-content",2)(10,"form",3),e.NdJ("ngSubmit",function(){return i.saveEditDocData(i.payDocForDisplay.id)}),e.TgZ(11,"div",4),e._UZ(12,"img",5),e.qZA(),e.TgZ(13,"div",6)(14,"div",7)(15,"div",8)(16,"mat-form-field",9)(17,"mat-label"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"mat-select",10),e.ALo(21,"translate"),e.TgZ(22,"mat-option",11),e._uU(23,"-"),e.qZA(),e.TgZ(24,"mat-option",11),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"mat-option",11),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"mat-option",11),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"mat-option",11),e._uU(34),e.ALo(35,"translate"),e.qZA()()()(),e.TgZ(36,"div",12)(37,"mat-form-field",9)(38,"mat-label"),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"input",13,14),e.NdJ("keyup.enter",function(){e.CHM(o);const r=e.MAs(42);return e.KtG(i.searchByCode(r.value))}),e.qZA()()(),e.TgZ(43,"div",15)(44,"label"),e._uU(45),e.ALo(46,"translate"),e.qZA(),e.TgZ(47,"ng-select",16,17),e.NdJ("keyup.enter",function(){e.CHM(o);const r=e.MAs(48);return e.KtG(i.onEnter(r.value))})("change",function(r){return i.readCustumer(r)}),e.ALo(49,"translate"),e.YNc(50,Re,2,2,"ng-option",18),e.qZA()(),e.TgZ(51,"div",19)(52,"mat-form-field",9)(53,"mat-label"),e._uU(54),e.ALo(55,"translate"),e.qZA(),e._UZ(56,"input",20)(57,"mat-datepicker-toggle",21)(58,"mat-datepicker",null,22),e.qZA()(),e.TgZ(60,"div",12)(61,"mat-form-field",9)(62,"mat-label"),e._uU(63),e.ALo(64,"translate"),e.qZA(),e._UZ(65,"input",23),e.qZA()(),e.TgZ(66,"div",24)(67,"mat-form-field",9)(68,"mat-label"),e._uU(69),e.ALo(70,"translate"),e.qZA(),e._UZ(71,"input",25),e.qZA()(),e.TgZ(72,"div",19)(73,"mat-form-field",9)(74,"mat-label"),e._uU(75),e.ALo(76,"translate"),e.qZA(),e._UZ(77,"input",26),e.qZA()(),e.TgZ(78,"div",27)(79,"mat-form-field",9)(80,"mat-label"),e._uU(81),e.ALo(82,"translate"),e.qZA(),e._UZ(83,"input",28),e.qZA()(),e.TgZ(84,"div",29)(85,"mat-form-field",9)(86,"mat-label"),e._uU(87),e.ALo(88,"translate"),e.qZA(),e._UZ(89,"textarea",30),e.qZA()(),e.YNc(90,Be,4,3,"div",31),e.qZA()()()()()()}if(2&t){const o=e.MAs(59);e.xp6(5),e.Q6J("ngIf",!i.payDocForDisplay.id),e.xp6(1),e.Q6J("ngIf",i.payDocForDisplay.id),e.xp6(1),e.hij(" ",e.lcZ(8,28,"HTML.PayableDoc"),""),e.xp6(3),e.Q6J("formGroup",i.docData_Form),e.xp6(2),e.Q6J("src","assets/images/paymentDocs/payable.png",e.LSH),e.xp6(6),e.Oqu(e.lcZ(19,30,"HTML.DocClassType")),e.xp6(2),e.s9C("placeholder",e.lcZ(21,32,"HTML.DocClassType")),e.xp6(4),e.Q6J("value","H"),e.xp6(1),e.Oqu(e.lcZ(26,34,"OPTIONS.PayableDocGeneral")),e.xp6(2),e.Q6J("value","I"),e.xp6(1),e.Oqu(e.lcZ(29,36,"OPTIONS.PayableDocArrestReturn")),e.xp6(2),e.Q6J("value","J"),e.xp6(1),e.Oqu(e.lcZ(32,38,"OPTIONS.PayableDocClearance")),e.xp6(2),e.Q6J("value","K"),e.xp6(1),e.Oqu(e.lcZ(35,40,"OPTIONS.PayableDocDepositReturn")),e.xp6(5),e.Oqu(e.lcZ(40,42,"HTML.CODE_TENANT")),e.xp6(6),e.hij(" ",e.lcZ(46,44,"HTML.TENANT"),""),e.xp6(2),e.s9C("placeholder",e.lcZ(49,46,"HTML.TENANT")),e.xp6(3),e.Q6J("ngForOf",i.AllTenants),e.xp6(4),e.Oqu(e.lcZ(55,48,"HTML.DocDate")),e.xp6(2),e.Q6J("matDatepicker",o),e.xp6(1),e.Q6J("for",o),e.xp6(6),e.Oqu(e.lcZ(64,50,"HTML.CODE_DOCUMENT")),e.xp6(6),e.Oqu(e.lcZ(70,52,"HTML.DocValue")),e.xp6(6),e.Oqu(e.lcZ(76,54,"HTML.DocPrintedNo")),e.xp6(6),e.Oqu(e.lcZ(82,56,"HTML.DocSecondPart_PayableDoc")),e.xp6(6),e.Oqu(e.lcZ(88,58,"HTML.Notes")),e.xp6(3),e.Q6J("ngIf",i.payDocForDisplay.id&&i.can("change_onepayable")||!i.payDocForDisplay.id&&i.can("add_onepayable"))}},dependencies:[d._Y,d.Fj,d.JJ,d.JL,d.Q7,u.sg,u.O5,d.sg,d.u,h.xw,h.yH,oe.ey,x.lW,m.a8,m.dn,m.dk,m.n5,P.Mq,P.hl,P.nW,V.Nt,b.KE,b.hX,b.R9,ae.gD,Z.w9,Z.jq,f.X$]});var Ye=l(96166),He=l(4159),je=l.n(He),Qe=l(31008),ze=l(11481),Ge=l(40445);class w{constructor(t,i,o,n,r,s,c){this.transferService=t,this.appSettings=i,this.datePipe=o,this.http=n,this.invoiceServices=r,this._sanitizer=s,this.settingService=c,this.receiptDate=(new Date).toLocaleDateString("ar-SA",{year:"numeric",month:"long",day:"numeric"}),this.isGeneratingPdf=!1,this.getBase64StringFromDataURL=p=>p.replace("data:","").replace(/^.+,/,""),this.settings=this.appSettings.settings}ngOnInit(){this.transferService.getMessage.subscribe(t=>{this.curCOMId=t.comid,this.docID=parseInt(t.docId,0),this.ownerid=t.ownerID,this.ownerName=t.ownerName,this.tenantid=t.tenantID,this.docDate=t.docDate,this.tenantName=t.tenantName,this.docType=t.docType,this.docNumber=t.docNumber,this.paymentMethod=t.docPayType,this.accountNumber=t.accountNumber,this.docNotes=t.docNotes,this.docReference=t.docReference,this.docValue=t.docValue,this.otherPerson=t.docOtherPerson,this.ownerLogoBase64=t.ownerLogoBase64;var i=(new Date).setSeconds(0,0),o=new Date(i).toISOString();this.curDateTime=o,this.curDate=this.datePipe.transform(this.docDate,"yyyy-MM-dd")})}printReceipt(){window.print()}sanitize(t){return this._sanitizer.bypassSecurityTrustUrl(t)}downloadPDF(){var t=document.getElementById("contentToConvert");je()(t,{scale:2}).then(i=>{var r=208*i.height/i.width;const c=i.toDataURL("image/jpeg",.5),p=this.getBase64StringFromDataURL(c);let g=new Ye.kH("p","mm","a4");g.addImage(p,"PNG",0,0,208,r),g.save(this.tenantName+"_"+this.curDateTime.toString()+".pdf")})}printinv(){let t,i;t=document.getElementById("contentToConvert").innerHTML,i=window.open("","_blank","top=0,left=0,height=100%,width=auto"),i.document.open(),i.document.write(`\n      <html>\n        <head>\n          <title>Print tab</title>\n          <style>          \n          // -----------------------------------------------------------------------\n          \n          *,\n          ::before,\n          ::after {\n            box-sizing: border-box;\n            /* 1 */\n            border-width: 0;\n            /* 2 */\n            border-style: solid;\n            /* 2 */\n            border-color: #e5e7eb;\n            /* 2 */\n          }\n          \n          ::before,\n          ::after {\n            --tw-content: '';\n          }\n          \n          html {\n            line-height: 1.5;\n            /* 1 */\n            -webkit-text-size-adjust: 100%;\n            /* 2 */\n            -moz-tab-size: 4;\n            /* 3 */\n            tab-size: 4;\n            /* 3 */\n            font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";\n            /* 4 */\n            font-feature-settings: normal;\n            /* 5 */\n            font-variation-settings: normal;\n            /* 6 */\n          }\n          \n          body {\n            margin: 0;\n            /* 1 */\n            line-height: inherit;\n            /* 2 */\n          }\n          \n          /*\n          1. Add the correct height in Firefox.\n          2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)\n          3. Ensure horizontal rules are visible by default.\n          */\n          \n          hr {\n            height: 0;\n            /* 1 */\n            color: inherit;\n            /* 2 */\n            border-top-width: 1px;\n            /* 3 */\n          }\n          \n          /*\n          Add the correct text decoration in Chrome, Edge, and Safari.\n          */\n          \n          abbr:where([title]) {\n            -webkit-text-decoration: underline dotted;\n                    text-decoration: underline dotted;\n          }\n          \n          /*\n          Remove the default font size and weight for headings.\n          */\n          \n          h1,\n          h2,\n          h3,\n          h4,\n          h5,\n          h6 {\n            font-size: inherit;\n            font-weight: inherit;\n          }\n          \n          /*\n          Reset links to optimize for opt-in styling instead of opt-out.\n          */\n          \n          a {\n            color: inherit;\n            text-decoration: inherit;\n          }\n          \n          /*\n          Add the correct font weight in Edge and Safari.\n          */\n          \n          b,\n          strong {\n            font-weight: bolder;\n          }\n          \n          code,\n          kbd,\n          samp,\n          pre {\n            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;\n            /* 1 */\n            font-size: 1em;\n            /* 2 */\n          }\n          \n          /*\n          Add the correct font size in all browsers.\n          */\n          \n          small {\n            font-size: 80%;\n          }\n          \n          sub,\n          sup {\n            font-size: 75%;\n            line-height: 0;\n            position: relative;\n            vertical-align: baseline;\n          }\n          \n          sub {\n            bottom: -0.25em;\n          }\n          \n          sup {\n            top: -0.5em;\n          }\n          \n          /*\n          1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)\n          2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)\n          3. Remove gaps between table borders by default.\n          */\n          \n          table {\n            text-indent: 0;\n            /* 1 */\n            border-color: inherit;\n            /* 2 */\n            border-collapse: collapse;\n            /* 3 */\n          }\n          \n          /*\n          1. Change the font styles in all browsers.\n          2. Remove the margin in Firefox and Safari.\n          3. Remove default padding in all browsers.\n          */\n          \n          button,\n          input,\n          optgroup,\n          select,\n          textarea {\n            font-family: inherit;\n            /* 1 */\n            font-feature-settings: inherit;\n            /* 1 */\n            font-variation-settings: inherit;\n            /* 1 */\n            font-size: 100%;\n            /* 1 */\n            font-weight: inherit;\n            /* 1 */\n            line-height: inherit;\n            /* 1 */\n            color: inherit;\n            /* 1 */\n            margin: 0;\n            /* 2 */\n            padding: 0;\n            /* 3 */\n          }\n          \n          /*\n          Remove the inheritance of text transform in Edge and Firefox.\n          */\n          \n          button,\n          select {\n            text-transform: none;\n          }\n          \n          /*\n          1. Correct the inability to style clickable types in iOS and Safari.\n          2. Remove default button styles.\n          */\n          \n          button,\n          [type='button'],\n          [type='reset'],\n          [type='submit'] {\n            -webkit-appearance: button;\n            /* 1 */\n            background-color: transparent;\n            /* 2 */\n            background-image: none;\n            /* 2 */\n          }\n          \n          /*\n          Use the modern Firefox focus style for all focusable elements.\n          */\n          \n          :-moz-focusring {\n            outline: auto;\n          }\n          \n          :-moz-ui-invalid {\n            box-shadow: none;\n          }\n          \n          /*\n          Add the correct vertical alignment in Chrome and Firefox.\n          */\n          \n          progress {\n            vertical-align: baseline;\n          }\n          \n          /*\n          Correct the cursor style of increment and decrement buttons in Safari.\n          */\n          \n          ::-webkit-inner-spin-button,\n          ::-webkit-outer-spin-button {\n            height: auto;\n          }\n          \n          /*\n          1. Correct the odd appearance in Chrome and Safari.\n          2. Correct the outline style in Safari.\n          */\n          \n          [type='search'] {\n            -webkit-appearance: textfield;\n            /* 1 */\n            outline-offset: -2px;\n            /* 2 */\n          }\n          \n          /*\n          Remove the inner padding in Chrome and Safari on macOS.\n          */\n          \n          ::-webkit-search-decoration {\n            -webkit-appearance: none;\n          }\n          \n          ::-webkit-file-upload-button {\n            -webkit-appearance: button;\n            /* 1 */\n            font: inherit;\n            /* 2 */\n          }\n          \n          /*\n          Add the correct display in Chrome and Safari.\n          */\n          \n          summary {\n            display: list-item;\n          }\n          \n          /*\n          Removes the default spacing and border for appropriate elements.\n          */\n          \n          blockquote,\n          dl,\n          dd,\n          h1,\n          h2,\n          h3,\n          h4,\n          h5,\n          h6,\n          hr,\n          figure,\n          p,\n          pre {\n            margin: 0;\n          }\n          \n          fieldset {\n            margin: 0;\n            padding: 0;\n          }\n          \n          legend {\n            padding: 0;\n          }\n          \n          ol,\n          ul,\n          menu {\n            list-style: none;\n            margin: 0;\n            padding: 0;\n          }\n          \n          /*\n          Reset default styling for dialogs.\n          */\n          \n          dialog {\n            padding: 0;\n          }\n          \n          /*\n          Prevent resizing textareas horizontally by default.\n          */\n          \n          textarea {\n            resize: vertical;\n          }\n          \n          /*\n          1. Reset the default placeholder opacity in Firefox. (https://github.com/tailwindlabs/tailwindcss/issues/3300)\n          2. Set the default placeholder color to the user's configured gray 400 color.\n          */\n          \n          input::placeholder,\n          textarea::placeholder {\n            opacity: 1;\n            /* 1 */\n            color: #9ca3af;\n            /* 2 */\n          }\n          \n          /*\n          Set the default cursor for buttons.\n          */\n          \n          button,\n          [role="button"] {\n            cursor: pointer;\n          }\n          \n          /*\n          Make sure disabled buttons don't get the pointer cursor.\n          */\n          \n          :disabled {\n            cursor: default;\n          }\n          \n          img,\n          svg,\n          video,\n          canvas,\n          audio,\n          iframe,\n          embed,\n          object {\n            display: block;\n            /* 1 */\n            vertical-align: middle;\n            /* 2 */\n          }\n          \n          /*\n          Constrain images and videos to the parent width and preserve their intrinsic aspect ratio. (https://github.com/mozdevs/cssremedy/issues/14)\n          */\n          \n          img,\n          video {\n            max-width: 100%;\n            height: auto;\n          }\n          \n          /* Make elements with the HTML hidden attribute stay hidden by default */\n          \n          [hidden] {\n            display: none;\n          }\n          \n          *, ::before, ::after{\n            --tw-border-spacing-x: 0;\n            --tw-border-spacing-y: 0;\n            --tw-translate-x: 0;\n            --tw-translate-y: 0;\n            --tw-rotate: 0;\n            --tw-skew-x: 0;\n            --tw-skew-y: 0;\n            --tw-scale-x: 1;\n            --tw-scale-y: 1;\n            --tw-pan-x:  ;\n            --tw-pan-y:  ;\n            --tw-pinch-zoom:  ;\n            --tw-scroll-snap-strictness: proximity;\n            --tw-gradient-from-position:  ;\n            --tw-gradient-via-position:  ;\n            --tw-gradient-to-position:  ;\n            --tw-ordinal:  ;\n            --tw-slashed-zero:  ;\n            --tw-numeric-figure:  ;\n            --tw-numeric-spacing:  ;\n            --tw-numeric-fraction:  ;\n            --tw-ring-inset:  ;\n            --tw-ring-offset-width: 0px;\n            --tw-ring-offset-color: #fff;\n            --tw-ring-color: rgb(59 130 246 / 0.5);\n            --tw-ring-offset-shadow: 0 0 #0000;\n            --tw-ring-shadow: 0 0 #0000;\n            --tw-shadow: 0 0 #0000;\n            --tw-shadow-colored: 0 0 #0000;\n            --tw-blur:  ;\n            --tw-brightness:  ;\n            --tw-contrast:  ;\n            --tw-grayscale:  ;\n            --tw-hue-rotate:  ;\n            --tw-invert:  ;\n            --tw-saturate:  ;\n            --tw-sepia:  ;\n            --tw-drop-shadow:  ;\n            --tw-backdrop-blur:  ;\n            --tw-backdrop-brightness:  ;\n            --tw-backdrop-contrast:  ;\n            --tw-backdrop-grayscale:  ;\n            --tw-backdrop-hue-rotate:  ;\n            --tw-backdrop-invert:  ;\n            --tw-backdrop-opacity:  ;\n            --tw-backdrop-saturate:  ;\n            --tw-backdrop-sepia:  ;\n          }\n          \n          ::backdrop{\n            --tw-border-spacing-x: 0;\n            --tw-border-spacing-y: 0;\n            --tw-translate-x: 0;\n            --tw-translate-y: 0;\n            --tw-rotate: 0;\n            --tw-skew-x: 0;\n            --tw-skew-y: 0;\n            --tw-scale-x: 1;\n            --tw-scale-y: 1;\n            --tw-pan-x:  ;\n            --tw-pan-y:  ;\n            --tw-pinch-zoom:  ;\n            --tw-scroll-snap-strictness: proximity;\n            --tw-gradient-from-position:  ;\n            --tw-gradient-via-position:  ;\n            --tw-gradient-to-position:  ;\n            --tw-ordinal:  ;\n            --tw-slashed-zero:  ;\n            --tw-numeric-figure:  ;\n            --tw-numeric-spacing:  ;\n            --tw-numeric-fraction:  ;\n            --tw-ring-inset:  ;\n            --tw-ring-offset-width: 0px;\n            --tw-ring-offset-color: #fff;\n            --tw-ring-color: rgb(59 130 246 / 0.5);\n            --tw-ring-offset-shadow: 0 0 #0000;\n            --tw-ring-shadow: 0 0 #0000;\n            --tw-shadow: 0 0 #0000;\n            --tw-shadow-colored: 0 0 #0000;\n            --tw-blur:  ;\n            --tw-brightness:  ;\n            --tw-contrast:  ;\n            --tw-grayscale:  ;\n            --tw-hue-rotate:  ;\n            --tw-invert:  ;\n            --tw-saturate:  ;\n            --tw-sepia:  ;\n            --tw-drop-shadow:  ;\n            --tw-backdrop-blur:  ;\n            --tw-backdrop-brightness:  ;\n            --tw-backdrop-contrast:  ;\n            --tw-backdrop-grayscale:  ;\n            --tw-backdrop-hue-rotate:  ;\n            --tw-backdrop-invert:  ;\n            --tw-backdrop-opacity:  ;\n            --tw-backdrop-saturate:  ;\n            --tw-backdrop-sepia:  ;\n          }\n          \n          .fixed{\n            position: fixed;\n          }\n          \n          .bottom-0{\n            bottom: 0px;\n          }\n          \n          .left-0{\n            left: 0px;\n          }\n          \n          .table{\n            display: table;\n          }\n          \n          .h-12{\n            height: 3rem;\n          }\n          \n          .w-1/2{\n            width: 50%;\n          }\n          \n          .w-full{\n            width: 100%;\n          }\n          \n          .border-collapse{\n            border-collapse: collapse;\n          }\n          \n          .border-spacing-0{\n            --tw-border-spacing-x: 0px;\n            --tw-border-spacing-y: 0px;\n            border-spacing: var(--tw-border-spacing-x) var(--tw-border-spacing-y);\n          }\n          \n          .whitespace-nowrap{\n            white-space: nowrap;\n          }\n          \n          .border-b{\n            border-bottom-width: 1px;\n          }\n          \n          .border-b-2{\n            border-bottom-width: 2px;\n          }\n          \n          .border-r{\n            border-right-width: 1px;\n          }\n          \n          .border-main{\n            border-color: #5c6ac4;\n          }\n          \n          .bg-main{\n            background-color: #5c6ac4;\n          }\n          \n          .bg-slate-100{\n            background-color: #f1f5f9;\n          }\n          \n          .p-3{\n            padding: 0.75rem;\n          }\n          \n          .p-4{\n              padding: 1.25rem;\n            }\n          \n          .px-14{\n            padding-left: 3.5rem;\n            padding-right: 3.5rem;\n          }\n          \n          .px-2{\n            padding-left: 0.5rem;\n            padding-right: 0.5rem;\n          }\n          \n          .py-10{\n            padding-top: 2.5rem;\n            padding-bottom: 2.5rem;\n          }\n          \n          .py-3{\n            padding-top: 0.75rem;\n            padding-bottom: 0.75rem;\n          }\n          \n          .py-4{\n            padding-top: 1rem;\n            padding-bottom: 1rem;\n          }\n          \n          .py-6{\n            padding-top: 1.5rem;\n            padding-bottom: 1.5rem;\n          }\n          \n          .pb-3{\n            padding-bottom: 0.75rem;\n          }\n          \n          .pl-2{\n            padding-left: 0.5rem;\n          }\n          \n          .pl-3{\n            padding-left: 0.75rem;\n          }\n          \n          .pl-4{\n            padding-left: 1rem;\n          }\n          \n          .pr-3{\n            padding-right: 0.75rem;\n          }\n          \n          .pr-4{\n            padding-right: 1rem;\n          }\n          \n          .pr-6{\n              padding-right: 6rem;\n            }\n          \n          .text-center{\n            text-align: center;\n          }\n          \n          .text-right{\n            text-align: right;\n          }\n          \n          .align-top{\n            vertical-align: top;\n          }\n          \n          .text-sm{\n            font-size: 0.875rem;\n            line-height: 1.25rem;\n          }\n          \n          .text-xs{\n            font-size: 0.75rem;\n            line-height: 1rem;\n          }\n          \n          .font-bold{\n            font-weight: 700;\n          }\n          .font-bold40{\n              font-weight: 700;\n              font-size: 40px;\n            }\n          .font-bold30{\n              font-weight: 700;\n              font-size: 30px;\n          }\n          \n          \n          .italic{\n            font-style: italic;\n          }\n          \n          .text-main{\n            color: #5c6ac4;\n          }\n          \n          .text-neutral-600{\n            color: #525252;\n          }\n          \n          .text-neutral-700{\n            color: #404040;\n          }\n          \n          .text-slate-300{\n            color: #cbd5e1;\n          }\n          \n          .text-slate-400{\n            color: #94a3b8;\n          }\n          \n          .text-white{\n            color: #fff;\n          }\n          \n          @page {\n            margin: 0;\n          }\n          \n          @media print {\n            body {\n              -webkit-print-color-adjust: exact;\n            }\n          }  \n          \n          // -----------------------------------------------------------------------\n.text-head{\n  font-size: 24px;\n  font-weight: bold;\n  color: #111;\n  text-align: center;\n  }\n.text-headdate{\n  font-size: 16px;\n  font-weight: bold;\n  color: #333;\n  text-align: right;\n  }\n.net{\n  font-size: 14px;\n  font-weight: bold;\n  color: #333;\n  text-align: right;\n  }\n.text-rtl{\n  text-align: right;\n  }\n.msg {\n  border-bottom: 1px solid #ddd;\n  font-weight: bold;\n  font-size: 14px;\n  width: 100%;\n  text-align: right;\n}\n.bankdata {\n  border-bottom: 1px solid #ddd;\n  font-weight: bold;\n  font-size: 12px;\n  width: 100%;\n  text-align: right;\n}\n.footermsg {\n  border-bottom: 1px solid #ddd;\n  font-weight: bold;\n  font-size: 10px;\n  width: 100%;\n  text-align: right;\n}\n.text-headcustomer{\n  font-size: 16px;\n  font-weight: bold;\n  color: #333;\n  text-align: right;\n  }\n.invoice-box {\n  max-width: 800px;\n  margin: auto;\n  padding: 30px;\n  border: 1px solid #eee;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.15);\n  font-size: 14px;\n  line-height: 24px;\n  font-family: 'Helvetica Neue', 'Helvetica', Helvetica, Arial, sans-serif;\n  color: #555;\n}\n\n.invoice-box table {\n  width: 100%;\n  line-height: inherit;\n  text-align: left;\n}\n\n.invoice-box table td {\n  padding: 5px;\n  vertical-align: top;\n}\n\n.invoice-box table tr td:nth-child(2) {\n  text-align: right;\n}\n\n.invoice-box table tr.top table td {\n  padding-bottom: 20px;\n}\n\n.invoice-box table tr.top table td.title {\n  font-size: 45px;\n  line-height: 45px;\n  color: #333;\n}\n\n.invoice-box table tr.information table td {\n  padding-bottom: 40px;\n}\n\n.invoice-box table tr.heading td {\n  background: #eee;\n  border-bottom: 1px solid #ddd;\n  font-weight: bold;\t\n  text-align: right;\t\t\t\n}\n\n.invoice-box table tr.details td {\n  padding-bottom: 20px;\n  border-bottom: 1px solid #eee;\n}\n\n.invoice-box table tr.item td {\n  border-bottom: 1px solid #eee;\n}\n\n.invoice-box table tr.item.last td {\n  border-bottom: none;\n}\n\n.invoice-box table tr.total td:nth-child(2) {\n  border-top: 2px solid #111;\n  font-weight: bold;\n  font-size: 20px;\n}\n\n@media only screen and (max-width: 600px) {\n  .invoice-box table tr.top table td {\n      width: 100%;\n      display: block;\n      text-align: center;\n  }\n\n  .invoice-box table tr.information table td {\n      width: 100%;\n      display: block;\n      text-align: center;\n  }\n}\n\n/** RTL **/\n.invoice-box.rtl {\n  direction: rtl;\n  font-family: Tahoma, 'Helvetica Neue', 'Helvetica', Helvetica, Arial, sans-serif;\n}\n\n.invoice-box.rtl table {\n  text-align: right;\n}\n\n.invoice-box.rtl table tr td:nth-child(2) {\n  text-align: left;\n}\n  \n          </style>\n          <script>\n            var global = global || window;\n          <\/script>\n\n        </head>\n    <body onload="window.print();window.close()">${t}</body>\n      </html>`),i.document.close()}}w.\u0275fac=function(t){return new(t||w)(e.Y36(O.y),e.Y36(E.d),e.Y36(u.uU),e.Y36(ne.eN),e.Y36(Qe.q),e.Y36(ze.H7),e.Y36(R.g))},w.\u0275cmp=e.Xpm({type:w,selectors:[["app-print-receivable-doc"]],features:[e._Bn([u.uU])],decls:69,vars:13,consts:[[1,"container"],[1,"actions"],[1,"btn","btn-secondary",3,"disabled","click"],["width","16","height","16","fill","currentColor","viewBox","0 0 16 16"],["d","M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"],["d","M9 4a1 1 0 0 1 1-1h1.5L10 1.5A1 1 0 0 1 9 2.5V4z"],["id","contentToConvert","dir","rtl",1,"receipt-container"],[1,"watermark"],[1,"logo-wrapper"],["alt","\u0634\u0639\u0627\u0631 \u0627\u0644\u062a\u0627\u062c\u0631",1,"merchant-logo",3,"src"],[1,"receipt-header"],[1,"receipt-title"],[1,"receipt-subtitle"],[1,"receipt-info"],[1,"info-item"],[1,"info-label"],[1,"info-value"],[1,"amount-section"],[1,"amount-label"],[1,"amount-value"],[1,"signature-section"],[1,"signature"],[1,"signature-line"],[1,"signature-label"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return i.downloadPDF()}),e.O4$(),e.TgZ(3,"svg",3),e._UZ(4,"path",4)(5,"path",5),e.qZA(),e._uU(6),e.qZA()(),e.kcU(),e._UZ(7,"mat-divider"),e.TgZ(8,"div",6)(9,"div",7),e._uU(10,"\u0633\u0646\u062f \u0642\u0628\u0636"),e.qZA(),e.TgZ(11,"div",8),e._UZ(12,"img",9),e.qZA(),e.TgZ(13,"div",10)(14,"div",11),e._uU(15),e.qZA(),e.TgZ(16,"div",12),e._uU(17),e.qZA()(),e.TgZ(18,"div",13)(19,"div",14)(20,"div",15),e._uU(21,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e"),e.qZA(),e.TgZ(22,"div",16),e._uU(23),e.qZA()(),e.TgZ(24,"div",14)(25,"div",15),e._uU(26,"\u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064a\u0644"),e.qZA(),e.TgZ(27,"div",16),e._uU(28),e.qZA()(),e.TgZ(29,"div",14)(30,"div",15),e._uU(31,"\u0631\u0642\u0645 \u0627\u0644\u062d\u0633\u0627\u0628"),e.qZA(),e.TgZ(32,"div",16),e._uU(33),e.qZA()(),e.TgZ(34,"div",14)(35,"div",15),e._uU(36,"\u0637\u0631\u064a\u0642\u0629 \u0627\u0644\u062f\u0641\u0639"),e.qZA(),e.TgZ(37,"div",16),e._uU(38),e.qZA()(),e.TgZ(39,"div",14)(40,"div",15),e._uU(41,"\u0631\u0642\u0645 \u0627\u0644\u0645\u0631\u062c\u0639"),e.qZA(),e.TgZ(42,"div",16),e._uU(43),e.qZA()(),e.TgZ(44,"div",14)(45,"div",15),e._uU(46,"\u0642\u0627\u0645 \u0628\u0627\u0644\u0633\u062f\u0627\u062f"),e.qZA(),e.TgZ(47,"div",16),e._uU(48),e.qZA()()(),e.TgZ(49,"div",13)(50,"div",14)(51,"div",15),e._uU(52,"\u0627\u0644\u0648\u0635\u0641"),e.qZA(),e.TgZ(53,"div",16),e._uU(54),e.qZA()()(),e.TgZ(55,"div",17)(56,"div",18),e._uU(57,"\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0645\u0633\u062a\u0644\u0645"),e.qZA(),e.TgZ(58,"div",19),e._uU(59),e.qZA()(),e.TgZ(60,"div",20)(61,"div",21),e._UZ(62,"div",22),e.TgZ(63,"div",23),e._uU(64,"\u062e\u062a\u0645 \u0648\u062a\u0648\u0642\u064a\u0639 \u0627\u0644\u0645\u062d\u0635\u0644"),e.qZA()(),e.TgZ(65,"div",21),e._UZ(66,"div",22),e.TgZ(67,"div",23),e._uU(68,"\u062a\u0648\u0642\u064a\u0639 \u0627\u0644\u0639\u0645\u064a\u0644"),e.qZA()()()()()),2&t&&(e.xp6(2),e.Q6J("disabled",i.isGeneratingPdf),e.xp6(4),e.hij(" ",i.isGeneratingPdf?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644...":"\u062d\u0641\u0638 \u0643\u0640 PDF"," "),e.xp6(6),e.Q6J("src",i.sanitize(i.ownerLogoBase64),e.LSH),e.xp6(3),e.Oqu(i.docType),e.xp6(2),e.hij("\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f: ",i.docNumber,""),e.xp6(6),e.Oqu(i.docDate),e.xp6(5),e.Oqu(i.tenantName),e.xp6(5),e.Oqu(i.accountNumber),e.xp6(5),e.Oqu(i.paymentMethod),e.xp6(5),e.Oqu(i.docReference),e.xp6(5),e.Oqu(i.otherPerson),e.xp6(6),e.Oqu(i.docNotes),e.xp6(5),e.Oqu(i.docValue))},dependencies:[Ge.Lv,J.d],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;display:flex;justify-content:center;align-items:center;padding:20px}.container[_ngcontent-%COMP%]{max-width:800px;width:100%}.actions[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;display:flex;gap:15px;justify-content:center}.btn[_ngcontent-%COMP%]{padding:12px 24px;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease;display:inline-flex;align-items:center;gap:8px}.btn-primary[_ngcontent-%COMP%]{background:#4CAF50;color:#fff}.btn-secondary[_ngcontent-%COMP%]{background:#2196F3;color:#fff}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0003}.receipt-container[_ngcontent-%COMP%]{background:white;border-radius:12px;padding:30px;box-shadow:0 10px 30px #0003;position:relative}.logo-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}#contentToConvert[_ngcontent-%COMP%]{font-family:Arial,sans-serif;direction:rtl}.logo-wrapper[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:0 auto 20px}.merchant-logo[_ngcontent-%COMP%]{width:100%;height:auto;max-height:150px;object-fit:contain;border-radius:8px;background:#f8f9fa;padding:10px;border:2px solid #e9ecef;display:block;margin:0 auto 20px}.merchant-name[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#2c3e50;margin-top:10px;font-family:Tajawal,Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.receipt-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:25px;padding-bottom:15px;border-bottom:3px solid #667eea}.receipt-title[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#2c3e50;margin-bottom:10px}.receipt-subtitle[_ngcontent-%COMP%]{font-size:16px;color:#7f8c8d}.receipt-info[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-bottom:25px}.info-item[_ngcontent-%COMP%]{margin-bottom:15px}.info-label[_ngcontent-%COMP%]{font-weight:700;color:#34495e;margin-bottom:5px;font-size:14px}.info-value[_ngcontent-%COMP%]{font-size:16px;color:#2c3e50;padding:8px 12px;background:#f8f9fa;border-radius:6px;border-left:3px solid #667eea}.amount-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;padding:20px;border-radius:8px;text-align:center;margin:25px 0}.amount-label[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.amount-value[_ngcontent-%COMP%]{font-size:32px;font-weight:700;font-family:Courier New,monospace}.signature-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:40px;padding-top:20px;border-top:2px solid #ecf0f1}.signature[_ngcontent-%COMP%]{text-align:center;flex:1}.signature-line[_ngcontent-%COMP%]{height:1px;background:#bdc3c7;margin:40px auto 10px;width:80%}.signature-label[_ngcontent-%COMP%]{color:#7f8c8d;font-size:14px}.watermark[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) rotate(-45deg);opacity:.05;font-size:120px;font-weight:700;color:#2c3e50;pointer-events:none;z-index:0}@media print{.actions[_ngcontent-%COMP%]{display:none}body[_ngcontent-%COMP%]{background:white;padding:0}.receipt-container[_ngcontent-%COMP%]{box-shadow:none;border-radius:0}}"]});const re=[{path:"",redirectTo:"receivable-list",pathMatch:"full"},{path:"receivable-list",component:A,data:{breadcrumb:"ReceiptVouchers"}},{path:"receivable-add/:id",component:T,data:{breadcrumb:"EditReceiptVoucher"}},{path:"receivable-add",component:T,data:{breadcrumb:"AddReceiptVoucher"}},{path:"payable-list",component:S,data:{breadcrumb:"PaymentVouchers"}},{path:"payable-add/:id",component:C,data:{breadcrumb:"EditPaymentVoucher"}},{path:"payable-add",component:C,data:{breadcrumb:"AddPaymentVoucher"}},{path:"print-receivable-doc",component:w,data:{breadcrumb:"PrintReceiptVoucher"}}];class F{}F.\u0275fac=function(t){return new(t||F)},F.\u0275mod=e.oAB({type:F}),F.\u0275inj=e.cJS({imports:[ne.JF,d.u5,v.JX,Se.D,u.ez,D.Bz.forChild(re),d.UX,Ze.m,v.JX,Z.A0]})}}]);