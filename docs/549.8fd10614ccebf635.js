"use strict";(self.webpackChunkemporium=self.webpackChunkemporium||[]).push([[549],{3549:(Oe,ot,r)=>{r.r(ot),r.d(ot,{UnitsModule:()=>F,routes:()=>lt});var c=r(6895);class j{}var b=r(2340),C=r(5783),N=r(3705),d=r(4459),t=r(4650),Y=r(1182),f=r(9132),q=r(7465),L=r(5298),h=r(3081),x=r(7009),s=r(4006),_=r(4333),u=r(1576),Z=r(4859),k=r(811),D=r(3546),M=r(7392),y=r(4144),g=r(9549),E=r(4850),X=r(8255),G=r(1572),B=r(266),nt=r(1419);function ut(a,e){if(1&a){const i=t.EpF();t.TgZ(0,"mat-button-toggle",21),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.gotoNewBuild())}),t.TgZ(1,"mat-icon"),t._uU(2,"add_circle_outline"),t.qZA()()}}const ct=function(a){return["/units/building-add/",a]};function pt(a,e){if(1&a&&(t.TgZ(0,"a",34),t.ALo(1,"translate"),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA()()),2&a){const i=t.oxw().$implicit;t.s9C("matTooltip",t.lcZ(1,2,"BTN.EDIT")),t.Q6J("routerLink",t.VKq(4,ct,i.id))}}function mt(a,e){if(1&a){const i=t.EpF();t.TgZ(0,"button",35),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,l=t.oxw();return t.KtG(l.removeBuild(n.id))}),t.ALo(1,"translate"),t.TgZ(2,"mat-icon"),t._uU(3,"delete"),t.qZA()()}2&a&&t.s9C("matTooltip",t.lcZ(1,1,"BTN.REMOVE"))}function dt(a,e){if(1&a){const i=t.EpF();t.TgZ(0,"button",36),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,l=t.oxw();return t.KtG(l.customerDebt(n.id))}),t.TgZ(1,"mat-icon"),t._uU(2,"request_quote"),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"translate"),t.qZA()()}2&a&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"MENU.CUSTOMERDEBT")))}function gt(a,e){if(1&a){const i=t.EpF();t.TgZ(0,"div",22),t.NdJ("click",function(){const l=t.CHM(i).$implicit,m=t.oxw();return t.KtG(m.clickedRows.add(l))}),t.TgZ(1,"div",23),t._uU(2),t.qZA(),t.TgZ(3,"div",23),t._uU(4),t.qZA(),t.TgZ(5,"div",23),t._uU(6),t.qZA(),t.TgZ(7,"div",23),t._uU(8),t.qZA(),t.TgZ(9,"div",23),t._uU(10),t.qZA(),t.TgZ(11,"div",23)(12,"mat-icon",24),t._uU(13),t.qZA()(),t.TgZ(14,"div",23)(15,"div",25),t.YNc(16,pt,4,6,"a",26),t.YNc(17,mt,4,3,"button",27),t.TgZ(18,"button",28,29)(20,"mat-icon"),t._uU(21,"more_vert"),t.qZA()()(),t.TgZ(22,"mat-menu",30,31)(24,"span",32),t.NdJ("mouseleave",function(){t.CHM(i);const n=t.MAs(19);return t.KtG(n.closeMenu())}),t.YNc(25,dt,6,3,"button",33),t.qZA()()()()}if(2&a){const i=e.$implicit,o=t.MAs(23),n=t.oxw();t.ekj("row-is-clicked",n.clickedRows.has(i)),t.xp6(2),t.Oqu(i.BUIName),t.xp6(2),t.Oqu(i.branch_ArbName),t.xp6(2),t.Oqu(i.owner_FullName),t.xp6(2),t.hij(" ",i.BUIPropertyTypeDisplay," "),t.xp6(2),t.hij(" ",i.BUIPropertyUsageTypeDisplay," "),t.xp6(3),t.Oqu("T"==i.BUIActive?"check_box":"check_box_outline_blank"),t.xp6(3),t.Q6J("ngIf",n.can("view_onebuilding")),t.xp6(1),t.Q6J("ngIf",n.can("delete_building")),t.xp6(1),t.Q6J("matMenuTriggerFor",o),t.xp6(7),t.Q6J("ngIf",n.can("view_buildCustomerDept"))}}function ht(a,e){if(1&a){const i=t.EpF();t.TgZ(0,"div",37)(1,"div",38)(2,"mat-card",39)(3,"pagination-controls",40),t.NdJ("pageChange",function(n){t.CHM(i);const l=t.oxw();return t.KtG(l.onPageChanged(n))}),t.qZA()()()()}}function Tt(a,e){1&a&&(t.TgZ(0,"div",41),t._UZ(1,"mat-spinner",42),t.qZA())}const Ut=function(a,e){return{itemsPerPage:a,currentPage:e}};class w{constructor(e,i,o,n,l,m,T){this.appSettings=e,this.unitsService=i,this.router=o,this.global=n,this.localStore=l,this.translateService=m,this.snackBar=T,this.clickedRows=new Set,this.curBuild=new j,this.curCOMId=b.N.comid,this.account=new C.n,this.count=8,this.userPerm=[],this.settings=this.appSettings.settings}ngOnInit(){if(this.securityForApp=(new d.$).getSecurityType(),this.userSUb=this.global.user.subscribe(e=>{this.account=e}),this.localStore.getItem("token")&&this.localStore.getItem("account")){this.curUserData=JSON.parse(this.localStore.getItem("account")),this.curUserPermissions=JSON.parse(this.localStore.getItem("permissions"));for(let e=0;e<this.curUserPermissions.length;e++)this.userPerm[e]=this.curUserPermissions[e].codename;this.prepareMsgLanguage(),this.getBuildings()}else this.router.navigate(["/sign-in"])}can(e){return!(!this.curUserData.is_superuser&&!this.userPerm.includes(e))}getBuildings(){this.buildings=null,this.curUserData.is_superuser?this.unitsService.getAllBuilding(this.curCOMId,this.account.periorty).subscribe(e=>this.buildings=e):1==this.curUserData.periorty&&("N"==this.securityForApp&&this.unitsService.getBuildingsPerBranch(this.curCOMId,this.account.periorty,this.curUserData.branch_KeyField).subscribe(e=>this.buildings=e),"D"==this.securityForApp&&this.unitsService.getBuildingsPerEmployee(this.curCOMId,this.account.periorty,this.curUserData.id).subscribe(e=>this.buildings=e))}removeBuild(e){confirm(this.askToDeletedMsg)&&this.unitsService.deleteBuilding(e).subscribe(i=>this.getBuildings())}featuresBuild(e){}onPageChanged(e){this.page=e,this.getBuildings(),window.scrollTo(0,0)}gotoNewBuild(){this.router.navigate(["/units/building-add/"])}customerDebt(e){this.router.navigate(["/units/customerdebt-rpt/"+e+"/"])}prepareMsgLanguage(){this.translateService.get("MESSAGE.RETRIEVE_ERROR").subscribe(e=>{this.errorRetrieveMsg=e}),this.translateService.get("MESSAGE.SURE_DELETE").subscribe(e=>{this.askToDeletedMsg=e}),this.translateService.get("MESSAGE.DELETED").subscribe(e=>{this.deletedMsg=e})}}w.\u0275fac=function(e){return new(e||w)(t.Y36(Y.d),t.Y36(N.X),t.Y36(f.F0),t.Y36(q.U),t.Y36(L.C),t.Y36(h.sK),t.Y36(x.ux))},w.\u0275cmp=t.Xpm({type:w,selectors:[["app-building-list"]],features:[t._Bn([N.X])],decls:60,vars:40,consts:[["fxLayout","row","fxLayoutAlign","space-between center",1,"p-2"],["fxLayout","row"],["appearance","legacy"],["controls","matButtonToggleGroup"],["value","add",3,"click",4,"ngIf"],["value","search"],[1,"user-search"],[1,"user-search-input"],["matInput","","name","search","autocomplete","off",3,"placeholder","ngModel","ngModelChange"],["fxLayout","row","fxLayoutAlign","space-between center"],["appearance","legacy","value","list"],["viewType","matButtonToggleGroup"],["value","list"],["value","grid"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"w-100","p-3"],[1,"mat-mdc-table","admin-table"],[1,"mat-mdc-header-row"],[1,"mat-mdc-header-cell"],["class","mat-mdc-row",3,"row-is-clicked","click",4,"ngFor","ngForOf"],["fxLayout","row wrap",4,"ngIf"],["fxLayout","column","fxLayoutAlign","center center","class","user-spinner",4,"ngIf"],["value","add",3,"click"],[1,"mat-mdc-row",3,"click"],[1,"mat-mdc-cell"],[1,"text-muted"],[1,"p-2","actions"],["mat-mini-fab","","color","primary",3,"routerLink","matTooltip",4,"ngIf"],["mat-mini-fab","","color","warn",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor"],["menuTrigger","matMenuTrigger"],["xPosition","before","overlapTrigger","true"],["menu","matMenu"],[3,"mouseleave"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-mini-fab","","color","primary",3,"routerLink","matTooltip"],["mat-mini-fab","","color","warn",3,"matTooltip","click"],["mat-menu-item","",3,"click"],["fxLayout","row wrap"],["fxFlex","100",1,"p-2"],[1,"text-center"],["autoHide","true","maxSize","5",1,"product-pagination",3,"pageChange"],["fxLayout","column","fxLayoutAlign","center center",1,"user-spinner"],["color","primary"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-button-toggle-group",2,3),t.YNc(4,ut,3,0,"mat-button-toggle",4),t.TgZ(5,"mat-button-toggle",5)(6,"mat-icon"),t._uU(7,"search"),t.qZA()()()(),t.TgZ(8,"form",6)(9,"mat-form-field",7)(10,"input",8),t.NdJ("ngModelChange",function(n){return i.searchText=n}),t.ALo(11,"translate"),t.qZA()()(),t.TgZ(12,"div",9)(13,"mat-button-toggle-group",10,11)(15,"mat-button-toggle",12)(16,"mat-icon"),t._uU(17,"view_list"),t.qZA()(),t.TgZ(18,"mat-button-toggle",13)(19,"mat-icon"),t._uU(20,"view_module"),t.qZA()()()()(),t._UZ(21,"mat-divider"),t.TgZ(22,"mat-card")(23,"div",14)(24,"h2"),t._uU(25),t.ALo(26,"translate"),t.qZA()(),t._UZ(27,"mat-divider"),t.TgZ(28,"div",15)(29,"div",16)(30,"div",17)(31,"h2"),t._uU(32),t.ALo(33,"translate"),t.qZA()(),t.TgZ(34,"div",17)(35,"h2"),t._uU(36),t.ALo(37,"translate"),t.qZA()(),t.TgZ(38,"div",17)(39,"h2"),t._uU(40),t.ALo(41,"translate"),t.qZA()(),t.TgZ(42,"div",17)(43,"h2"),t._uU(44),t.ALo(45,"translate"),t.qZA()(),t.TgZ(46,"div",17)(47,"h2"),t._uU(48),t.ALo(49,"translate"),t.qZA()(),t.TgZ(50,"div",17)(51,"h2"),t._uU(52),t.ALo(53,"translate"),t.qZA()(),t._UZ(54,"div",17),t.qZA(),t.YNc(55,gt,26,12,"div",18),t.ALo(56,"paginate"),t.ALo(57,"BuildingSearchPipe"),t.qZA()(),t.YNc(58,ht,4,0,"div",19),t.YNc(59,Tt,2,0,"div",20)),2&e){const o=t.MAs(3);t.xp6(4),t.Q6J("ngIf",i.can("add_building")),t.xp6(4),t.ekj("show","search"==o.value),t.xp6(2),t.s9C("placeholder",t.lcZ(11,15,"HTML.SEARCH_BUILDING")),t.Q6J("ngModel",i.searchText),t.xp6(15),t.Oqu(t.lcZ(26,17,"HTML.BUILDING_LIST")),t.xp6(7),t.hij(" ",t.lcZ(33,19,"FIELD.NAME")," "),t.xp6(4),t.hij(" ",t.lcZ(37,21,"HTML.BRANCH")," "),t.xp6(4),t.hij(" ",t.lcZ(41,23,"HTML.OWNER")," "),t.xp6(4),t.hij(" ",t.lcZ(45,25,"HTML.PROPERTY_TYPE")," "),t.xp6(4),t.hij(" ",t.lcZ(49,27,"HTML.PROPERTY_USAGE_TYPE")," "),t.xp6(4),t.hij(" ",t.lcZ(53,29,"HTML.ACTIVATED")," "),t.xp6(3),t.Q6J("ngForOf",t.xi3(56,31,t.xi3(57,34,i.buildings,i.searchText),t.WLB(37,Ut,i.count,i.page))),t.xp6(3),t.Q6J("ngIf",i.buildings),t.xp6(1),t.Q6J("ngIf",!i.buildings)}},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.On,s.F,_.LS,c.sg,c.O5,f.rH,u.xw,u.Wh,u.yH,Z.RK,Z.Tq,Z.nh,k.A9,k.Yi,D.a8,M.Hw,y.Nt,g.KE,E.d,X.VK,X.OP,X.p6,G.Ou,B.gM,_._s,nt.G2,h.X$],styles:[".user-name{padding:0 12px;font-weight:400}.user-content{padding:10px}.user-content .user-img{position:relative}.user-content .user-img img{border-radius:50%;width:80px;height:80px}.user-content .user-img img.blocked{opacity:.5}.user-content .user-img .mat-icon{position:absolute;top:-8px;left:-8px;font-size:96px;height:96px;width:96px}.user-content .mat-mdc-slide-toggle{margin-top:15px}.user-content .user-details span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.user-content .user-details .mat-icon{padding:2px 10px}.user-content .user-details.blocked{opacity:.5}.user-search{width:0;overflow:hidden;transition:.3s}.user-search .mat-mdc-form-field{width:100%!important;text-align:center!important}.user-search .mat-mdc-form-field .mat-mdc-form-field-infix{min-height:36px;padding:8px 0!important}.user-search .mat-mdc-form-field .mat-mdc-form-field-subscript-wrapper{display:none}.user-search .mat-mdc-input-element{text-align:center}.user-search.show{width:100%;overflow:visible}.user-spinner{position:absolute;inset:0}.mat-mdc-card{overflow:hidden}.demo-table{width:100%}.mat-mdc-row .mat-mdc-cell{border-bottom:1px solid transparent;border-top:1px solid transparent;cursor:pointer}.mat-mdc-row:hover .mat-mdc-cell{border-color:currentColor}.row-is-clicked{font-weight:700}\n"],encapsulation:2});var V=r(5521),ft=r(4870),Zt=r(7288),K=r(6838),$=r(8959),z=r(6002),tt=r(3238),st=r(6709),A=r(9602),p=r(5412),et=r(4385),W=r(3848);function _t(a,e){1&a&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"BTN.ADD")))}function Nt(a,e){1&a&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"BTN.EDIT")))}function At(a,e){1&a&&(t.TgZ(0,"mat-error"),t._uU(1,"Code is required"),t.qZA())}function vt(a,e){if(1&a&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&a){const i=e.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij(" ",i.BRAArbName," ")}}function bt(a,e){1&a&&(t.TgZ(0,"mat-error"),t._uU(1,"Building name is required"),t.qZA())}function xt(a,e){1&a&&(t.TgZ(0,"mat-error"),t._uU(1,"Property description is required"),t.qZA())}function Ct(a,e){if(1&a&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&a){const i=e.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij(" ",i.OWNName," ")}}function Lt(a,e){if(1&a&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&a){const i=e.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij(" ",i.CTTSubjectName," ")}}function yt(a,e){if(1&a&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&a){const i=e.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij(" ",i.CTTSubjectName," ")}}function Ot(a,e){if(1&a&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&a){const i=e.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij(" ",i.CTTSubjectName," ")}}function qt(a,e){1&a&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"BTN.SAVE")))}function It(a,e){1&a&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"BTN.EDIT")))}function St(a,e){if(1&a){const i=t.EpF();t.TgZ(0,"div",7)(1,"button",67),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.saveUpdate(n.buildForDisplay.id))}),t.YNc(2,qt,3,3,"span",1),t.YNc(3,It,3,3,"span",1),t.qZA()()}if(2&a){const i=t.oxw();t.xp6(1),t.Q6J("mat-dialog-close",i.form.value)("disabled",!i.form.valid),t.xp6(1),t.Q6J("ngIf",!i.buildForDisplay.id),t.xp6(1),t.Q6J("ngIf",i.buildForDisplay.id)}}class I{constructor(e,i,o,n,l,m,T,U,v,O,at){this.activatedRoute=e,this.codesService=i,this.unitsService=o,this.contractService=n,this.fb=l,this.localStore=m,this.router=T,this.global=U,this.translateService=v,this.atlasService=O,this.snackBar=at,this.curCOMId=b.N.comid,this.account=new C.n,this.docType_const=(new d.I).OwnershipDocTypes,this.country_const=(new d.I).Countries,this.governorate_const=(new d.I).Governorates,this.city_const=(new d.I).City,this.region_const=(new d.I).Regions,this.buildingFeatures_const=(new d.I).BuildingFeatures,this.passwordHide=!0,this.tenant=new j,this.userPerm=[],this.defaultCusImage=(new V.P).noImage,this.CusImageToUpload=null,this.DocTypes=[],this.Countries=[],this.Governorates=[],this.AllBranches=[],this.AllOwners=[]}ngOnInit(){if(this.userSUb=this.global.user.subscribe(e=>{this.account=e}),this.localStore.getItem("token")&&this.localStore.getItem("account")){this.curUserData=JSON.parse(this.localStore.getItem("account")),this.curUserPermissions=JSON.parse(this.localStore.getItem("permissions"));for(let e=0;e<this.curUserPermissions.length;e++)this.userPerm[e]=this.curUserPermissions[e].codename;this.form=this.fb.group({id:null,code:[null,s.kI.required],branchKey:null,name:[null,s.kI.compose([s.kI.required,s.kI.minLength(3)])],description:[null,s.kI.compose([s.kI.required,s.kI.minLength(3)])],image:null,owner:this.fb.group({recievedate:null,docType:null,ownerKey:null,docNumber:null}),build_address:this.fb.group({streetName:null,buildNumber:null,zibCode:null,address:null,addressDescription:null,countryKey:null,governorateKey:null,cityKey:null,areaKey:null,langtitude:null,altitude:null}),build_desc:this.fb.group({housingStatus:"E",constructionStatus:"E",propertyType:"B",propertyUsageType:"F",floorsNumber:null,flatsNumber:null,shopsNumber:null,storesNumber:null,numberOfElevators:null,numberOfParkingLots:null,enteringGate:null,buildingArea:null,measuringUnit:"M",BUIElectricityCountersNumber:1,BUIElectricityCountersWrittenCode:null,BUIWaterCountersNumber:1,BUIWaterCountersWrittenCode:null,BUIGasCountersNumber:1,BUIGasCountersWrittenCode:null}),settings:this.fb.group({isActive:null,isDeleted:null})}),this.getCountries(this.curCOMId,this.account.periorty),this.getAllBranches(this.curCOMId,this.account.periorty),this.getAllOwnerss(this.curCOMId,this.account.periorty),this.getOwnershipDocType(this.curCOMId,this.account.periorty),this.sub=this.activatedRoute.params.subscribe(e=>{e.id?(this.id=+e.id,this.getBuildById(this.id)):this.buildForDisplay=new j})}else this.router.navigate(["/sign-in"]);this.Builds=new ft.x,this.EmpBuilds=new Zt.j}can(e){return!(!this.curUserData.is_superuser&&!this.userPerm.includes(e))}handelCUSImgInput(e){this.CusImageToUpload=e.item(0);var i=new FileReader;i.onload=o=>{this.defaultCusImage=o.target.result},i.readAsDataURL(this.CusImageToUpload)}mapFormvalue_to_BuildingClass(){const e=new c.uU("en-GB").transform(this.form.value.owner.recievedate,"dd/MM/yyyy");this.tenActive=this.form.value.settings.isActive?"T":"F",this.tenDeleted=this.form.value.settings.isDeleted?1:0,this.buildForDisplay.id=this.form.value.id,this.buildForDisplay.branch_KeyField=this.form.value.branchKey,this.buildForDisplay.BUICode=this.form.value.code,this.buildForDisplay.BUIName=this.form.value.name,this.buildForDisplay.BUIDescription=this.form.value.description,this.buildForDisplay.BUIPic=this.form.value.image,null!=this.form.value.owner.recievedate&&(this.buildForDisplay.BUIRecieveDate=e),this.buildForDisplay.owner_KeyField=this.form.value.owner.ownerKey,this.buildForDisplay.ownershipDocType_CTTKeyField=this.form.value.owner.docType,this.buildForDisplay.ownershipDocNumber=this.form.value.owner.docNumber,this.buildForDisplay.Country_CTTKeyField=this.form.value.build_address.countryKey,this.buildForDisplay.Governorate_CTTKeyField=this.form.value.build_address.governorateKey,this.buildForDisplay.City_CTTKeyField=this.form.value.build_address.cityKey,this.buildForDisplay.Area_CTTKeyField=this.form.value.build_address.areaKey,this.buildForDisplay.BUIStreetName=this.form.value.build_address.streetName,this.buildForDisplay.BUIBuildingNumber=this.form.value.build_address.buildNumber,this.buildForDisplay.BUIZibCode=this.form.value.build_address.zibCode,this.buildForDisplay.BUIAddress=this.form.value.build_address.address,this.buildForDisplay.BUIAddressDescription=this.form.value.build_address.addressDescription,this.buildForDisplay.BUILangtitude=this.form.value.build_address.langtitude,this.buildForDisplay.BUIAltitude=this.form.value.build_address.altitude,this.buildForDisplay.BUIHousingStatus=this.form.value.build_desc.housingStatus,this.buildForDisplay.BUIConstructionStatus=this.form.value.build_desc.constructionStatus,this.buildForDisplay.BUIPropertyType=this.form.value.build_desc.propertyType,this.buildForDisplay.BUIPropertyUsageType=this.form.value.build_desc.propertyUsageType,this.buildForDisplay.BUIFloorsNumber=this.form.value.build_desc.floorsNumber,this.buildForDisplay.BUIFlatsNumber=this.form.value.build_desc.flatsNumber,this.buildForDisplay.BUIShopsNumber=this.form.value.build_desc.shopsNumber,this.buildForDisplay.BUIStoresNumber=this.form.value.build_desc.storesNumber,this.buildForDisplay.BUINumberOfElevators=this.form.value.build_desc.numberOfElevators,this.buildForDisplay.BUINumberOfParkingLots=this.form.value.build_desc.numberOfParkingLots,this.buildForDisplay.BUIBuildingArea=this.form.value.build_desc.buildingArea,this.buildForDisplay.BUIMeasuringUnit=this.form.value.build_desc.measuringUnit,this.buildForDisplay.BUIEnteringGate=this.form.value.build_desc.enteringGate,this.buildForDisplay.BUIElectricityCountersNumber=this.form.value.build_desc.BUIElectricityCountersNumber,this.buildForDisplay.BUIElectricityCountersWrittenCode=this.form.value.build_desc.BUIElectricityCountersWrittenCode,this.buildForDisplay.BUIWaterCountersNumber=this.form.value.build_desc.BUIWaterCountersNumber,this.buildForDisplay.BUIWaterCountersWrittenCode=this.form.value.build_desc.BUIWaterCountersWrittenCode,this.buildForDisplay.BUIGasCountersNumber=this.form.value.build_desc.BUIGasCountersNumber,this.buildForDisplay.BUIGasCountersWrittenCode=this.form.value.build_desc.BUIGasCountersWrittenCode,this.buildForDisplay.BUIActive=this.tenActive,this.buildForDisplay.RowDelete=this.tenDeleted}getBuildById(e){this.unitsService.getOneBuilding(e).subscribe(i=>{this.fillForm(i),this.buildForDisplay=i})}fillForm(e){this.is_active="T"==e.BUIActive,null!=e.Country_CTTKeyField&&this.getGovernoratePerCountry(this.curCOMId,this.account.periorty,e.Country_CTTKeyField),this.defaultCusImage=null!=e.BUIPic?e.BUIPic:(new V.P).noImage,this.is_delete=1==e.RowDelete,console.log("==****tent.BUIRecieveDate****=="+e.BUIRecieveDate),this.form.patchValue({id:e.id,code:e.BUICode,branchKey:e.branch_KeyField,name:e.BUIName,description:e.BUIDescription,image:e.BUIPic,owner:{recievedate:e.BUIRecieveDate,ownerKey:e.owner_KeyField,docType:e.ownershipDocType_CTTKeyField,docNumber:e.ownershipDocNumber},build_address:{streetName:e.BUIStreetName,buildNumber:e.BUIBuildingNumber,zibCode:e.BUIZibCode,address:e.BUIAddress,addressDescription:e.BUIAddressDescription,countryKey:e.Country_CTTKeyField,governorateKey:e.Governorate_CTTKeyField,cityKey:e.City_CTTKeyField,areaKey:e.Area_CTTKeyField,langtitude:e.BUILangtitude,altitude:e.BUIAltitude},build_desc:{housingStatus:e.BUIHousingStatus,constructionStatus:e.BUIConstructionStatus,propertyType:e.BUIPropertyType,propertyUsageType:e.BUIPropertyUsageType,floorsNumber:e.BUIFloorsNumber,flatsNumber:e.BUIFlatsNumber,shopsNumber:e.BUIShopsNumber,storesNumber:e.BUIStoresNumber,numberOfElevators:e.BUINumberOfElevators,numberOfParkingLots:e.BUINumberOfParkingLots,buildingArea:e.BUIBuildingArea,measuringUnit:e.BUIMeasuringUnit,enteringGate:e.BUIEnteringGate,BUIElectricityCountersNumber:e.BUIElectricityCountersNumber,BUIElectricityCountersWrittenCode:e.BUIElectricityCountersWrittenCode,BUIWaterCountersNumber:e.BUIWaterCountersNumber,BUIWaterCountersWrittenCode:e.BUIWaterCountersWrittenCode,BUIGasCountersNumber:e.BUIGasCountersNumber,BUIGasCountersWrittenCode:e.BUIGasCountersWrittenCode},settings:{isActive:this.is_active,isDeleted:this.is_delete}})}saveUpdate(e){console.log("=============saveUpdate()==============="),this.mapFormvalue_to_BuildingClass(),e?this.unitsService.editBuild(this.buildForDisplay,this.CusImageToUpload).subscribe(i=>{console.log("yes updated",i),this.unitsService.getOriginalOwnerForBuilding(i.COMId,0,i.id).subscribe(o=>{this.unitsService.deleteBuildingForOwner(o[0].id).subscribe(()=>{this.mapValues_toTable(i),this.unitsService.addBuildForOwner(this.Builds).subscribe(()=>{})})}),this.unitsService.getEmpBuildingForBuilding(i.COMId,0,i.id).subscribe(o=>{this.mapValues_toEmpBuild(i,o[0].id),this.unitsService.editOneEmpBuilding(this.EmpBuilds).subscribe(()=>{})}),this.snackBar.open("\u062a\u0645 \u062a\u0639\u062f\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0639\u0642\u0627\u0631","\xd7",{panelClass:"success",verticalPosition:"top",duration:3e3}),this.router.navigate(["units/building"])},i=>{this.snackBar.open(" \u062e\u0637\u0623 \u0641\u064a \u062a\u0639\u062f\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0639\u0642\u0627\u0631","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})}):(console.log(this.buildForDisplay),this.unitsService.addBuild(this.buildForDisplay,this.CusImageToUpload).subscribe(i=>{console.log("yes Added",i),this.snackBar.open("\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0639\u0642\u0627\u0631","\xd7",{panelClass:"success",verticalPosition:"top",duration:3e3}),this.router.navigate(["units/building"])},i=>{this.snackBar.open(" \u062e\u0637\u0623 \u0641\u064a \u0627\u0636\u0627\u0641\u0647 \u0627\u0644\u0639\u0642\u0627\u0631","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})}))}mapValues_toTable(e){this.Builds.owner_KeyField=e.owner_KeyField,this.Builds.build_KeyField=e.id,this.Builds.branch_KeyField=e.branch_KeyField,this.Builds.BUOPortion=100,this.Builds.BUOOwnerOriginal="T"}mapValues_toEmpBuild(e,i){this.EmpBuilds.id=i,this.EmpBuilds.owner_KeyField=e.owner_KeyField}close(){}compareFunction(e,i){return e.username==i.username&&e.code==i.code}getOwnershipDocType(e,i){this.codesService.getSubForParent(e,i,this.docType_const).subscribe(o=>{this.DocTypes=o},o=>{this.snackBar.open("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0627\u0646\u0648\u0627\u0639 \u0645\u0633\u062a\u0646\u062f\u0627\u062a \u0627\u0644\u0645\u0644\u0643\u064a\u0629","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})}getCountries(e,i){this.codesService.getSubForParent(e,i,this.country_const).subscribe(o=>{this.Countries=o},o=>{this.snackBar.open("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0627\u0644\u062f\u0648\u0644","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})}getGovernorate(e){this.getGovernoratePerCountry(this.curCOMId,this.account.periorty,e.value)}getGovernoratePerCountry(e,i,o){this.codesService.getSubForParentAndRelated(e,i,this.governorate_const,o).subscribe(n=>{this.Governorates=n},n=>{this.snackBar.open("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0627\u0644\u0645\u062d\u0627\u0641\u0638\u0627\u062a","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})}getAllBranches(e,i){this.atlasService.getAllBranch(e,i).subscribe(o=>{this.AllBranches=o},o=>{this.snackBar.open("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0627\u0644\u0641\u0631\u0648\u0639","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})}getAllOwnerss(e,i){this.contractService.getAllOwners(e,i).subscribe(o=>{this.AllOwners=o},o=>{this.snackBar.open("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0627\u0644\u0645\u0644\u0627\u0643","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})}prepareMsgLanguage(){this.translateService.get("MESSAGE.RETRIEVE_ERROR").subscribe(e=>{this.errorRetrieveMsg=e}),this.translateService.get("MESSAGE.SURE_DELETE").subscribe(e=>{this.askToDeletedMsg=e}),this.translateService.get("MESSAGE.DELETED").subscribe(e=>{this.deletedMsg=e})}}I.\u0275fac=function(e){return new(e||I)(t.Y36(f.gz),t.Y36(K.d),t.Y36(N.X),t.Y36($.W),t.Y36(s.QS),t.Y36(L.C),t.Y36(f.F0),t.Y36(q.U),t.Y36(h.sK),t.Y36(z.Z),t.Y36(x.ux))},I.\u0275cmp=t.Xpm({type:I,selectors:[["app-building-dialog"]],decls:351,vars:273,consts:[["mat-dialog-title",""],[4,"ngIf"],[1,"user-form",3,"formGroup"],[1,"vertical-tabs","tab-content-wrapped",3,"backgroundColor","color"],[3,"label"],["fxLayout","column",1,"form-field-outer"],["fxLayout","column","fxLayoutGap","10px grid"],["fxLayout","row","fxLayoutAlign","space-between center",1,"w-100"],[1,"w-25"],["matInput","","formControlName","code","required",""],["appearance","outline",1,"w-70"],["formControlName","branchKey","id","branchOpSel",3,"placeholder"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"w-100"],["matInput","","formControlName","name","required",""],["matInput","","formControlName","description","required",""],[1,"p-2"],[2,"width","150px","height","200px",3,"src"],["formControlName","image","name","image","id","upload","type","file","accept","image/*",1,"user-img",3,"change"],["formGroupName","owner",3,"label"],[1,"w-50"],["matInput","","formControlName","recievedate",3,"matDatepicker"],["matSuffix","",3,"for"],["recievedate",""],["appearance","outline",1,"w-100"],["formControlName","ownerKey","id","ownerOpSel",3,"placeholder"],["appearance","outline",1,"w-50"],["formControlName","docType","id","doctypeOpSel",3,"placeholder"],[1,"w-45"],["matInput","","formControlName","docNumber"],["formGroupName","build_address",3,"label"],["matInput","","formControlName","streetName"],["matInput","","formControlName","buildNumber"],["matInput","","formControlName","zibCode"],["matInput","","formControlName","address"],["matInput","","formControlName","addressDescription"],["formControlName","countryKey","id","countrOpSel",3,"placeholder","selectionChange"],["appearance","outline",1,"w-45"],["formControlName","governorateKey","id","governoOpSel",3,"placeholder"],["formGroupName","build_desc",3,"label"],["formControlName","housingStatus","id","housingstatOpSel",3,"placeholder"],["formControlName","constructionStatus","id","constructstatOpSel",3,"placeholder"],["formControlName","propertyType","id","propertyTypeOpSel",3,"placeholder"],["formControlName","propertyUsageType","id","usagetypeOpSel",3,"placeholder"],["fxFlex","100","fxFlex.gt-sm","33.3",1,"px-1"],["matInput","","formControlName","floorsNumber"],["matInput","","formControlName","flatsNumber"],["matInput","","formControlName","shopsNumber"],["matInput","","formControlName","storesNumber"],["matInput","","formControlName","numberOfElevators"],["matInput","","formControlName","numberOfParkingLots"],["matInput","","formControlName","enteringGate"],["matInput","","formControlName","buildingArea"],["formControlName","measuringUnit","id","measureUnitOpSel",3,"placeholder"],["matInput","","formControlName","BUIElectricityCountersNumber"],["fxFlex","100","fxFlex.gt-sm","66.6",1,"px-1"],["matInput","","formControlName","BUIElectricityCountersWrittenCode"],["matInput","","formControlName","BUIWaterCountersNumber"],["matInput","","formControlName","BUIWaterCountersWrittenCode"],["matInput","","formControlName","BUIGasCountersNumber"],["matInput","","formControlName","BUIGasCountersWrittenCode"],["formGroupName","settings",3,"label"],["formControlName","isActive"],["formControlName","isDeleted"],["mat-dialog-actions",""],["fxLayout","row","fxLayoutAlign","space-between center","class","w-100",4,"ngIf"],["mat-raised-button","","color","primary",3,"mat-dialog-close","disabled","click"]],template:function(e,i){if(1&e&&(t.TgZ(0,"h1",0),t.YNc(1,_t,3,3,"span",1),t.YNc(2,Nt,3,3,"span",1),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"form",2)(6,"mat-tab-group",3)(7,"mat-tab",4),t.ALo(8,"translate"),t.TgZ(9,"div",5)(10,"div",6),t._UZ(11,"mat-label"),t.TgZ(12,"div",7)(13,"mat-form-field",8)(14,"mat-label"),t._uU(15),t.ALo(16,"translate"),t.qZA(),t._UZ(17,"input",9),t.YNc(18,At,2,0,"mat-error",1),t.qZA(),t.TgZ(19,"mat-form-field",10)(20,"mat-label"),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"mat-select",11),t.ALo(24,"translate"),t.TgZ(25,"mat-option",12),t._uU(26,"-"),t.qZA(),t.YNc(27,vt,2,2,"mat-option",13),t.qZA()()()(),t.TgZ(28,"mat-form-field",14)(29,"mat-label"),t._uU(30),t.ALo(31,"translate"),t.qZA(),t._UZ(32,"input",15),t.YNc(33,bt,2,0,"mat-error",1),t.qZA(),t.TgZ(34,"mat-form-field",14)(35,"mat-label"),t._uU(36),t.ALo(37,"translate"),t.qZA(),t._UZ(38,"input",16),t.YNc(39,xt,2,0,"mat-error",1),t.qZA(),t.TgZ(40,"div",17),t._UZ(41,"img",18),t.TgZ(42,"input",19),t.NdJ("change",function(n){return i.handelCUSImgInput(n.target.files)}),t.qZA()()()(),t.TgZ(43,"mat-tab",20),t.ALo(44,"translate"),t.TgZ(45,"div",5)(46,"mat-form-field",21)(47,"mat-label"),t._uU(48),t.ALo(49,"translate"),t.qZA(),t._UZ(50,"input",22)(51,"mat-datepicker-toggle",23)(52,"mat-datepicker",null,24),t.qZA(),t.TgZ(54,"mat-form-field",25)(55,"mat-label"),t._uU(56),t.ALo(57,"translate"),t.qZA(),t.TgZ(58,"mat-select",26),t.ALo(59,"translate"),t.TgZ(60,"mat-option",12),t._uU(61,"-"),t.qZA(),t.YNc(62,Ct,2,2,"mat-option",13),t.qZA()(),t.TgZ(63,"div",7)(64,"mat-form-field",27)(65,"mat-label"),t._uU(66),t.ALo(67,"translate"),t.qZA(),t.TgZ(68,"mat-select",28),t.ALo(69,"translate"),t.TgZ(70,"mat-option",12),t._uU(71,"-"),t.qZA(),t.YNc(72,Lt,2,2,"mat-option",13),t.qZA()(),t.TgZ(73,"mat-form-field",29)(74,"mat-label"),t._uU(75),t.ALo(76,"translate"),t.qZA(),t._UZ(77,"input",30),t.qZA()()()(),t.TgZ(78,"mat-tab",31),t.ALo(79,"translate"),t.TgZ(80,"div",5)(81,"mat-form-field",14)(82,"mat-label"),t._uU(83),t.ALo(84,"translate"),t.qZA(),t._UZ(85,"input",32),t.qZA(),t.TgZ(86,"div",7)(87,"mat-form-field",21)(88,"mat-label"),t._uU(89),t.ALo(90,"translate"),t.qZA(),t._UZ(91,"input",33),t.qZA(),t.TgZ(92,"mat-form-field",29)(93,"mat-label"),t._uU(94),t.ALo(95,"translate"),t.qZA(),t._UZ(96,"input",34),t.qZA()(),t.TgZ(97,"mat-form-field",14)(98,"mat-label"),t._uU(99),t.ALo(100,"translate"),t.qZA(),t._UZ(101,"input",35),t.qZA(),t.TgZ(102,"mat-form-field",14)(103,"mat-label"),t._uU(104),t.ALo(105,"translate"),t.qZA(),t._UZ(106,"input",36),t.qZA(),t.TgZ(107,"div",7)(108,"mat-form-field",27)(109,"mat-label"),t._uU(110),t.ALo(111,"translate"),t.qZA(),t.TgZ(112,"mat-select",37),t.NdJ("selectionChange",function(n){return i.getGovernorate(n)}),t.ALo(113,"translate"),t.TgZ(114,"mat-option",12),t._uU(115,"-"),t.qZA(),t.YNc(116,yt,2,2,"mat-option",13),t.qZA()(),t.TgZ(117,"mat-form-field",38)(118,"mat-label"),t._uU(119),t.ALo(120,"translate"),t.qZA(),t.TgZ(121,"mat-select",39),t.ALo(122,"translate"),t.TgZ(123,"mat-option",12),t._uU(124,"-"),t.qZA(),t.YNc(125,Ot,2,2,"mat-option",13),t.qZA()()()()(),t.TgZ(126,"mat-tab",40),t.ALo(127,"translate"),t.TgZ(128,"div",5)(129,"div",6),t._UZ(130,"mat-label"),t.TgZ(131,"div",7)(132,"mat-form-field",27)(133,"mat-label"),t._uU(134),t.ALo(135,"translate"),t.qZA(),t.TgZ(136,"mat-select",41),t.ALo(137,"translate"),t.TgZ(138,"mat-option",12),t._uU(139,"-"),t.qZA(),t.TgZ(140,"mat-option",12),t._uU(141),t.ALo(142,"translate"),t.qZA(),t.TgZ(143,"mat-option",12),t._uU(144),t.ALo(145,"translate"),t.qZA(),t.TgZ(146,"mat-option",12),t._uU(147),t.ALo(148,"translate"),t.qZA(),t.TgZ(149,"mat-option",12),t._uU(150),t.ALo(151,"translate"),t.qZA(),t.TgZ(152,"mat-option",12),t._uU(153),t.ALo(154,"translate"),t.qZA()()(),t.TgZ(155,"mat-form-field",38)(156,"mat-label"),t._uU(157),t.ALo(158,"translate"),t.qZA(),t.TgZ(159,"mat-select",42),t.ALo(160,"translate"),t.TgZ(161,"mat-option",12),t._uU(162,"-"),t.qZA(),t.TgZ(163,"mat-option",12),t._uU(164),t.ALo(165,"translate"),t.qZA(),t.TgZ(166,"mat-option",12),t._uU(167),t.ALo(168,"translate"),t.qZA(),t.TgZ(169,"mat-option",12),t._uU(170),t.ALo(171,"translate"),t.qZA(),t.TgZ(172,"mat-option",12),t._uU(173),t.ALo(174,"translate"),t.qZA(),t.TgZ(175,"mat-option",12),t._uU(176),t.ALo(177,"translate"),t.qZA()()()()(),t.TgZ(178,"div",7)(179,"mat-form-field",27)(180,"mat-label"),t._uU(181),t.ALo(182,"translate"),t.qZA(),t.TgZ(183,"mat-select",43),t.ALo(184,"translate"),t.TgZ(185,"mat-option",12),t._uU(186,"-"),t.qZA(),t.TgZ(187,"mat-option",12),t._uU(188),t.ALo(189,"translate"),t.qZA(),t.TgZ(190,"mat-option",12),t._uU(191),t.ALo(192,"translate"),t.qZA(),t.TgZ(193,"mat-option",12),t._uU(194),t.ALo(195,"translate"),t.qZA(),t.TgZ(196,"mat-option",12),t._uU(197),t.ALo(198,"translate"),t.qZA(),t.TgZ(199,"mat-option",12),t._uU(200),t.ALo(201,"translate"),t.qZA()()(),t.TgZ(202,"mat-form-field",38)(203,"mat-label"),t._uU(204),t.ALo(205,"translate"),t.qZA(),t.TgZ(206,"mat-select",44),t.ALo(207,"translate"),t.TgZ(208,"mat-option",12),t._uU(209,"-"),t.qZA(),t.TgZ(210,"mat-option",12),t._uU(211),t.ALo(212,"translate"),t.qZA(),t.TgZ(213,"mat-option",12),t._uU(214),t.ALo(215,"translate"),t.qZA(),t.TgZ(216,"mat-option",12),t._uU(217),t.ALo(218,"translate"),t.qZA(),t.TgZ(219,"mat-option",12),t._uU(220),t.ALo(221,"translate"),t.qZA(),t.TgZ(222,"mat-option",12),t._uU(223),t.ALo(224,"translate"),t.qZA()()()(),t.TgZ(225,"div",7)(226,"div",45)(227,"mat-form-field",25)(228,"mat-label"),t._uU(229),t.ALo(230,"translate"),t.qZA(),t._UZ(231,"input",46),t.qZA()(),t.TgZ(232,"div",45)(233,"mat-form-field",25)(234,"mat-label"),t._uU(235),t.ALo(236,"translate"),t.qZA(),t._UZ(237,"input",47),t.qZA()(),t.TgZ(238,"div",45)(239,"mat-form-field",25)(240,"mat-label"),t._uU(241),t.ALo(242,"translate"),t.qZA(),t._UZ(243,"input",48),t.qZA()()(),t.TgZ(244,"div",7)(245,"div",45)(246,"mat-form-field",25)(247,"mat-label"),t._uU(248),t.ALo(249,"translate"),t.qZA(),t._UZ(250,"input",49),t.qZA()(),t.TgZ(251,"div",45)(252,"mat-form-field",25)(253,"mat-label"),t._uU(254),t.ALo(255,"translate"),t.qZA(),t._UZ(256,"input",50),t.qZA()(),t.TgZ(257,"div",45)(258,"mat-form-field",25)(259,"mat-label"),t._uU(260),t.ALo(261,"translate"),t.qZA(),t._UZ(262,"input",51),t.qZA()()(),t.TgZ(263,"div",7)(264,"div",45)(265,"mat-form-field",25)(266,"mat-label"),t._uU(267),t.ALo(268,"translate"),t.qZA(),t._UZ(269,"input",52),t.qZA()(),t.TgZ(270,"div",45)(271,"mat-form-field",25)(272,"mat-label"),t._uU(273),t.ALo(274,"translate"),t.qZA(),t._UZ(275,"input",53),t.qZA()(),t.TgZ(276,"div",45)(277,"mat-form-field",25)(278,"mat-label"),t._uU(279),t.ALo(280,"translate"),t.qZA(),t.TgZ(281,"mat-select",54),t.ALo(282,"translate"),t.TgZ(283,"mat-option",12),t._uU(284,"-"),t.qZA(),t.TgZ(285,"mat-option",12),t._uU(286),t.ALo(287,"translate"),t.qZA(),t.TgZ(288,"mat-option",12),t._uU(289),t.ALo(290,"translate"),t.qZA(),t.TgZ(291,"mat-option",12),t._uU(292),t.ALo(293,"translate"),t.qZA(),t.TgZ(294,"mat-option",12),t._uU(295),t.ALo(296,"translate"),t.qZA(),t.TgZ(297,"mat-option",12),t._uU(298),t.ALo(299,"translate"),t.qZA()()()()(),t.TgZ(300,"div",7)(301,"div",45)(302,"mat-form-field",25)(303,"mat-label"),t._uU(304),t.ALo(305,"translate"),t.qZA(),t._UZ(306,"input",55),t.qZA()(),t.TgZ(307,"div",56)(308,"mat-form-field",25)(309,"mat-label"),t._uU(310),t.ALo(311,"translate"),t.qZA(),t._UZ(312,"input",57),t.qZA()()(),t.TgZ(313,"div",7)(314,"div",45)(315,"mat-form-field",25)(316,"mat-label"),t._uU(317),t.ALo(318,"translate"),t.qZA(),t._UZ(319,"input",58),t.qZA()(),t.TgZ(320,"div",56)(321,"mat-form-field",25)(322,"mat-label"),t._uU(323),t.ALo(324,"translate"),t.qZA(),t._UZ(325,"input",59),t.qZA()()(),t.TgZ(326,"div",7)(327,"div",45)(328,"mat-form-field",25)(329,"mat-label"),t._uU(330),t.ALo(331,"translate"),t.qZA(),t._UZ(332,"input",60),t.qZA()(),t.TgZ(333,"div",56)(334,"mat-form-field",25)(335,"mat-label"),t._uU(336),t.ALo(337,"translate"),t.qZA(),t._UZ(338,"input",61),t.qZA()()()()(),t.TgZ(339,"mat-tab",62),t.ALo(340,"translate"),t.TgZ(341,"div",5)(342,"mat-checkbox",63),t._uU(343),t.ALo(344,"translate"),t.qZA(),t.TgZ(345,"mat-checkbox",64),t._uU(346),t.ALo(347,"translate"),t.qZA()()()()(),t._UZ(348,"br"),t.TgZ(349,"div",65),t.YNc(350,St,4,4,"div",66),t.qZA()),2&e){const o=t.MAs(53);t.xp6(1),t.Q6J("ngIf",!i.buildForDisplay.id),t.xp6(1),t.Q6J("ngIf",i.buildForDisplay.id),t.xp6(1),t.hij(" ",t.lcZ(4,119,"HTML.BUILDING"),""),t.xp6(2),t.Q6J("formGroup",i.form),t.xp6(1),t.Q6J("backgroundColor","primary")("color","warn"),t.xp6(1),t.s9C("label",t.lcZ(8,121,"HTML.TAB_BASIC")),t.xp6(8),t.hij(" ",t.lcZ(16,123,"HTML.CODE"),""),t.xp6(3),t.Q6J("ngIf",null==i.form.controls.code.errors?null:i.form.controls.code.errors.required),t.xp6(3),t.hij(" ",t.lcZ(22,125,"HTML.BRANCH"),""),t.xp6(2),t.s9C("placeholder",t.lcZ(24,127,"HTML.BRANCH")),t.xp6(4),t.Q6J("ngForOf",i.AllBranches),t.xp6(3),t.hij(" ",t.lcZ(31,129,"FIELD.NAME"),""),t.xp6(3),t.Q6J("ngIf",null==i.form.controls.name.errors?null:i.form.controls.name.errors.required),t.xp6(3),t.hij(" ",t.lcZ(37,131,"HTML.PROPERTY_DESC"),""),t.xp6(3),t.Q6J("ngIf",null==i.form.controls.description.errors?null:i.form.controls.description.errors.required),t.xp6(2),t.Q6J("src",i.defaultCusImage,t.LSH),t.xp6(2),t.s9C("label",t.lcZ(44,133,"HTML.TAB_OWNER")),t.xp6(5),t.Oqu(t.lcZ(49,135,"HTML.RECIEVE_DATE")),t.xp6(2),t.Q6J("matDatepicker",o),t.xp6(1),t.Q6J("for",o),t.xp6(5),t.Oqu(t.lcZ(57,137,"HTML.OWNER")),t.xp6(2),t.s9C("placeholder",t.lcZ(59,139,"HTML.OWNER")),t.xp6(4),t.Q6J("ngForOf",i.AllOwners),t.xp6(4),t.Oqu(t.lcZ(67,141,"HTML.OWNERSHIP_DOC_TYPE")),t.xp6(2),t.s9C("placeholder",t.lcZ(69,143,"HTML.OWNERSHIP_DOC_TYPE")),t.xp6(4),t.Q6J("ngForOf",i.DocTypes),t.xp6(3),t.hij(" ",t.lcZ(76,145,"HTML.DOC_NUMBER"),""),t.xp6(3),t.s9C("label",t.lcZ(79,147,"HTML.TAB_ADDRESS")),t.xp6(5),t.Oqu(t.lcZ(84,149,"HTML.STREET_NAME")),t.xp6(6),t.Oqu(t.lcZ(90,151,"HTML.BUILDING_NUMBER")),t.xp6(5),t.Oqu(t.lcZ(95,153,"HTML.ZIP")),t.xp6(5),t.Oqu(t.lcZ(100,155,"HTML.ADDRESS")),t.xp6(5),t.Oqu(t.lcZ(105,157,"HTML.ADDRESS_DESC")),t.xp6(6),t.Oqu(t.lcZ(111,159,"HTML.COUNTRY")),t.xp6(2),t.s9C("placeholder",t.lcZ(113,161,"HTML.COUNTRY")),t.xp6(4),t.Q6J("ngForOf",i.Countries),t.xp6(3),t.Oqu(t.lcZ(120,163,"HTML.GOVERN")),t.xp6(2),t.s9C("placeholder",t.lcZ(122,165,"HTML.GOVERN")),t.xp6(4),t.Q6J("ngForOf",i.Governorates),t.xp6(1),t.s9C("label",t.lcZ(127,167,"HTML.TAB_BUILDING_DESCRIPTION")),t.xp6(8),t.Oqu(t.lcZ(135,169,"HTML.HOUSING_STATUS")),t.xp6(2),t.s9C("placeholder",t.lcZ(137,171,"HTML.HOUSING_STATUS")),t.xp6(4),t.Q6J("value","E"),t.xp6(1),t.Oqu(t.lcZ(142,173,"OPTIONS.EMPTY")),t.xp6(2),t.Q6J("value","R"),t.xp6(1),t.Oqu(t.lcZ(145,175,"OPTIONS.RENTED")),t.xp6(2),t.Q6J("value","S"),t.xp6(1),t.Oqu(t.lcZ(148,177,"OPTIONS.SOLD")),t.xp6(2),t.Q6J("value","V"),t.xp6(1),t.Oqu(t.lcZ(151,179,"OPTIONS.VACANT_UNITS")),t.xp6(2),t.Q6J("value","M"),t.xp6(1),t.Oqu(t.lcZ(154,181,"OPTIONS.UNDER_MAINTENANCE")),t.xp6(4),t.Oqu(t.lcZ(158,183,"HTML.CONSTRUCTION_STATUS")),t.xp6(2),t.s9C("placeholder",t.lcZ(160,185,"HTML.CONSTRUCTION_STATUS")),t.xp6(4),t.Q6J("value","E"),t.xp6(1),t.Oqu(t.lcZ(165,187,"OPTIONS.EXCELLENT")),t.xp6(2),t.Q6J("value","V"),t.xp6(1),t.Oqu(t.lcZ(168,189,"OPTIONS.VERY_GOOD")),t.xp6(2),t.Q6J("value","G"),t.xp6(1),t.Oqu(t.lcZ(171,191,"OPTIONS.GOOD")),t.xp6(2),t.Q6J("value","A"),t.xp6(1),t.Oqu(t.lcZ(174,193,"OPTIONS.ACCEPTED")),t.xp6(2),t.Q6J("value","B"),t.xp6(1),t.Oqu(t.lcZ(177,195,"OPTIONS.BAD")),t.xp6(5),t.Oqu(t.lcZ(182,197,"HTML.PROPERTY_TYPE")),t.xp6(2),t.s9C("placeholder",t.lcZ(184,199,"HTML.PROPERTY_TYPE")),t.xp6(4),t.Q6J("value","B"),t.xp6(1),t.Oqu(t.lcZ(189,201,"OPTIONS.BUILDING")),t.xp6(2),t.Q6J("value","P"),t.xp6(1),t.Oqu(t.lcZ(192,203,"OPTIONS.PLAZA")),t.xp6(2),t.Q6J("value","V"),t.xp6(1),t.Oqu(t.lcZ(195,205,"OPTIONS.Villa")),t.xp6(2),t.Q6J("value","W"),t.xp6(1),t.Oqu(t.lcZ(198,207,"OPTIONS.Warehouse")),t.xp6(2),t.Q6J("value","H"),t.xp6(1),t.Oqu(t.lcZ(201,209,"OPTIONS.House")),t.xp6(4),t.Oqu(t.lcZ(205,211,"HTML.PROPERTY_USAGE_TYPE")),t.xp6(2),t.s9C("placeholder",t.lcZ(207,213,"HTML.PROPERTY_USAGE_TYPE")),t.xp6(4),t.Q6J("value","F"),t.xp6(1),t.Oqu(t.lcZ(212,215,"OPTIONS.Family_Residential")),t.xp6(2),t.Q6J("value","P"),t.xp6(1),t.Oqu(t.lcZ(215,217,"OPTIONS.Personel_Residential")),t.xp6(2),t.Q6J("value","A"),t.xp6(1),t.Oqu(t.lcZ(218,219,"OPTIONS.Administrative")),t.xp6(2),t.Q6J("value","C"),t.xp6(1),t.Oqu(t.lcZ(221,221,"OPTIONS.Commercial")),t.xp6(2),t.Q6J("value","M"),t.xp6(1),t.Oqu(t.lcZ(224,223,"OPTIONS.Mix")),t.xp6(6),t.Oqu(t.lcZ(230,225,"HTML.FLOORS_NUMBER")),t.xp6(6),t.Oqu(t.lcZ(236,227,"HTML.FLATS_NUMBER")),t.xp6(6),t.Oqu(t.lcZ(242,229,"HTML.SHOPS_NUMBER")),t.xp6(7),t.Oqu(t.lcZ(249,231,"HTML.STORES_NUMBER")),t.xp6(6),t.Oqu(t.lcZ(255,233,"HTML.ELEVATORS_NUMBER")),t.xp6(6),t.Oqu(t.lcZ(261,235,"HTML.PARKINGLOTS_NUMBER")),t.xp6(7),t.Oqu(t.lcZ(268,237,"HTML.ENTERINGGATE_NUMBER")),t.xp6(6),t.Oqu(t.lcZ(274,239,"HTML.PROPERTY_AREA")),t.xp6(6),t.Oqu(t.lcZ(280,241,"HTML.MEASURING_UNIT")),t.xp6(2),t.s9C("placeholder",t.lcZ(282,243,"HTML.MEASURING_UNIT")),t.xp6(4),t.Q6J("value","M"),t.xp6(1),t.Oqu(t.lcZ(287,245,"OPTIONS.Meter")),t.xp6(2),t.Q6J("value","C"),t.xp6(1),t.Oqu(t.lcZ(290,247,"OPTIONS.Carat")),t.xp6(2),t.Q6J("value","A"),t.xp6(1),t.Oqu(t.lcZ(293,249,"OPTIONS.Acre")),t.xp6(2),t.Q6J("value","K"),t.xp6(1),t.Oqu(t.lcZ(296,251,"OPTIONS.KiloMeter")),t.xp6(2),t.Q6J("value","F"),t.xp6(1),t.Oqu(t.lcZ(299,253,"OPTIONS.Foot")),t.xp6(6),t.Oqu(t.lcZ(305,255,"HTML.ElectricityCountersNumber")),t.xp6(6),t.Oqu(t.lcZ(311,257,"HTML.ElectricityCountersCodes")),t.xp6(7),t.Oqu(t.lcZ(318,259,"HTML.WaterCountersNumber")),t.xp6(6),t.Oqu(t.lcZ(324,261,"HTML.WaterCountersCodes")),t.xp6(7),t.Oqu(t.lcZ(331,263,"HTML.GasCountersNumber")),t.xp6(6),t.Oqu(t.lcZ(337,265,"HTML.GasCountersCodes")),t.xp6(3),t.s9C("label",t.lcZ(340,267,"HTML.TAB_SETTINGS")),t.xp6(4),t.Oqu(t.lcZ(344,269,"HTML.ACTIVE")),t.xp6(3),t.Oqu(t.lcZ(347,271,"HTML.BLOCKED")),t.xp6(4),t.Q6J("ngIf",i.can("change_building"))}},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.Q7,c.sg,c.O5,s.sg,s.u,s.x0,u.xw,u.SQ,u.Wh,u.yH,tt.ey,Z.lW,st.oG,A.Mq,A.hl,A.nW,p.ZT,p.uh,p.H8,y.Nt,g.KE,g.hX,g.TO,g.R9,et.gD,W.uX,W.SP,h.X$],styles:[".user-form .form-field-outer{width:480px}.user-form .mat-mdc-radio-button{margin-right:12px}\n"],encapsulation:2});var it=r(2887);class Ft{}function Dt(a,e){if(1&a&&(t.TgZ(0,"mat-option",7),t._uU(1),t.qZA()),2&a){const i=e.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij(" ",i.CTTSubjectName," ")}}function Mt(a,e){if(1&a){const i=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.onSave())}),t.TgZ(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&a){const i=t.oxw();t.Q6J("disabled",!i.dataForm.valid),t.xp6(2),t.Oqu(t.lcZ(3,2,"BTN.SAVE"))}}function Et(a,e){if(1&a){const i=t.EpF();t.TgZ(0,"div",30)(1,"button",31),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,l=t.oxw();return t.KtG(l.remove(n.id))}),t.ALo(2,"translate"),t.TgZ(3,"mat-icon"),t._uU(4,"delete"),t.qZA()()()}2&a&&(t.xp6(1),t.s9C("matTooltip",t.lcZ(2,1,"BTN.REMOVE")))}function Bt(a,e){if(1&a&&(t.TgZ(0,"div",27)(1,"div",28),t._uU(2),t.qZA(),t.TgZ(3,"div",28),t._uU(4),t.qZA(),t.TgZ(5,"div",28),t._uU(6),t.qZA(),t.TgZ(7,"div",28),t._uU(8),t.qZA(),t.TgZ(9,"div",28),t.YNc(10,Et,5,3,"div",29),t.qZA()()),2&a){const i=e.$implicit,o=t.oxw();t.xp6(2),t.Oqu(i.expense_Name),t.xp6(2),t.Oqu(i.UEXExpenseValue),t.xp6(2),t.hij("",i.UEXDate," "),t.xp6(2),t.hij("",i.UEXNotes," "),t.xp6(2),t.Q6J("ngIf",o.can("view_deleteunitexpenses"))}}class P{constructor(e,i,o,n,l,m,T,U,v,O){this.dialogRef=e,this.unitInjected=i,this.atlasService=o,this.unitsService=n,this.translateService=l,this._codesService=m,this.localStore=T,this.dialog=U,this.snackBar=v,this.fb=O,this.passwordHide=!0,this.curCOMId=b.N.comid,this.userPerm=[],this.AllExpences=[]}ngOnInit(){this.parentExpenseCTT=(new d.I).Expenses,this.curUserData=JSON.parse(this.localStore.getItem("account")),this.curUserPermissions=JSON.parse(this.localStore.getItem("permissions"));for(let e=0;e<this.curUserPermissions.length;e++)this.userPerm[e]=this.curUserPermissions[e].codename;this.dataForm=this.fb.group({unit_KeyField:[null,s.kI.required],expense_CTTKeyField:[null,s.kI.required],UEXDate:null,UEXExpenseValue:0,UEXNotes:null}),this.dataForm.patchValue({unit_KeyField:this.unitInjected.unitRow.id}),this.Expenses=new Ft,this.curPeriority=this.unitInjected.periorty,this.action="Patch",this.getAllExpenses(this.curCOMId,this.curPeriority),this.getUnitExpense(),this.prepareMsgLanguage()}can(e){return!(!this.curUserData.is_superuser&&!this.userPerm.includes(e))}getUnitExpense(){this.unitsExpenses=null,this.unitsService.getAllExpensesForUnit(this.curCOMId,this.curPeriority,this.unitInjected.unitRow.id).subscribe(e=>this.unitsExpenses=e)}getAllExpenses(e,i){this._codesService.getSubForParent(e,i,this.parentExpenseCTT).subscribe(o=>{this.AllExpences=o,console.log("---this.AllExpences:: "+this.AllExpences)},o=>{this.snackBar.open("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0627\u0644\u0645\u0635\u0627\u0631\u064a\u0641","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})}mapFormValue_toTable(){const e=new c.uU("en-GB").transform(this.dataForm.value.UEXDate,"dd/MM/yyyy");this.Expenses.unit_KeyField=this.unitInjected.unitRow.id,this.Expenses.expense_CTTKeyField=this.dataForm.value.expense_CTTKeyField,this.Expenses.UEXDate=this.dataForm.value.UEXDate,this.Expenses.UEXNotes=this.dataForm.value.UEXNotes,this.Expenses.UEXExpenseValue=this.dataForm.value.UEXExpenseValue,null!=this.dataForm.value.UEXDate&&(this.Expenses.UEXDate=e)}onSave(){this.mapFormValue_toTable(),this.unitsService.addExpensesForUnits(this.Expenses).subscribe(()=>{this.snackBar.open(this.dataSavedMsg,"\xd7",{panelClass:"success",verticalPosition:"top",duration:3e3}),this.getUnitExpense()})}close(){this.action="Cancel",console.log("===***Press Close button***==="),this.dialogRef.close({event:this.action})}remove(e){this.dialog.open(it.$,{maxWidth:"400px",data:{title:this.deletedTitleMsg,message:this.askToDeletedMsg}}).afterClosed().subscribe(o=>{o&&this.unitsService.deleteExpensesForUnit(e).subscribe(()=>{this.snackBar.open(this.deletedMsg,"\xd7",{panelClass:"success",verticalPosition:"top",duration:3e3}),this.getUnitExpense()})})}prepareMsgLanguage(){this.translateService.get("MESSAGE.DataSaved").subscribe(e=>{this.dataSavedMsg=e}),this.translateService.get("MESSAGE.SURE_DELETE").subscribe(e=>{this.askToDeletedMsg=e}),this.translateService.get("MESSAGE.DELETED").subscribe(e=>{this.deletedMsg=e}),this.translateService.get("MESSAGE.ConfirmAction").subscribe(e=>{this.deletedTitleMsg=e})}}function wt(a,e){if(1&a){const i=t.EpF();t.TgZ(0,"mat-button-toggle",21),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.gotoNewUnit())}),t.TgZ(1,"mat-icon"),t._uU(2,"add_circle_outline"),t.qZA()()}}P.\u0275fac=function(e){return new(e||P)(t.Y36(p.so),t.Y36(p.WI),t.Y36(z.Z),t.Y36(N.X),t.Y36(h.sK),t.Y36(K.d),t.Y36(L.C),t.Y36(p.uw),t.Y36(x.ux),t.Y36(s.QS))},P.\u0275cmp=t.Xpm({type:P,selectors:[["app-unit-expenses"]],decls:70,vars:39,consts:[["autocomplete","off",3,"formGroup"],["mat-dialog-content",""],["fxLayout","row wrap"],["fxLayout","row","fxLayoutAlign","space-between center",1,"w-100"],["fxFlex","100","fxFlex.gt-sm","35.0",1,"px-1"],["appearance","outline",1,"w-100"],["formControlName","expense_CTTKeyField","id","expenseContOpSel",3,"placeholder"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","100","fxFlex.gt-sm","34.6",1,"px-1"],["matInput","","formControlName","UEXExpenseValue"],["fxFlex","100","fxFlex.gt-sm","30.0",1,"px-1"],["matInput","","formControlName","UEXDate","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["UEXDate",""],["fxFlex","100","fxFlex.gt-sm","100",1,"px-1"],["matInput","","formControlName","UEXNotes","rows","3"],["mat-dialog-actions",""],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click"],[1,"p-2"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"w-100","p-3"],[1,"mat-mdc-table","admin-table"],[1,"mat-mdc-header-row"],[1,"mat-mdc-header-cell"],["class","mat-mdc-row",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"mat-mdc-row"],[1,"mat-mdc-cell"],["class","p-2 actions",4,"ngIf"],[1,"p-2","actions"],["mat-mini-fab","","color","warn",1,"mx-1",3,"matTooltip","click"]],template:function(e,i){if(1&e&&(t.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"mat-form-field",5)(6,"mat-label"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"mat-select",6),t.ALo(10,"translate"),t.TgZ(11,"mat-option",7),t._uU(12,"-"),t.qZA(),t.YNc(13,Dt,2,2,"mat-option",8),t.qZA()()(),t.TgZ(14,"div",9)(15,"mat-form-field",5)(16,"mat-label"),t._uU(17),t.ALo(18,"translate"),t.qZA(),t._UZ(19,"input",10),t.qZA()(),t.TgZ(20,"div",11)(21,"mat-form-field",5)(22,"mat-label"),t._uU(23),t.ALo(24,"translate"),t.qZA(),t._UZ(25,"input",12)(26,"mat-datepicker-toggle",13)(27,"mat-datepicker",null,14),t.qZA()()(),t.TgZ(29,"div",3)(30,"div",15)(31,"mat-form-field",5)(32,"mat-label"),t._uU(33),t.ALo(34,"translate"),t.qZA(),t._UZ(35,"textarea",16),t.qZA()()()()(),t.TgZ(36,"div",17)(37,"div",3),t.YNc(38,Mt,4,4,"button",18),t.TgZ(39,"button",19),t.NdJ("click",function(){return i.close()}),t._uU(40),t.ALo(41,"translate"),t.qZA()()(),t._UZ(42,"mat-divider"),t.TgZ(43,"div",20)(44,"mat-card")(45,"div",21)(46,"h2"),t._uU(47),t.ALo(48,"translate"),t.qZA()(),t._UZ(49,"mat-divider"),t.TgZ(50,"div",22)(51,"div",23)(52,"div",24)(53,"h2"),t._uU(54),t.ALo(55,"translate"),t.qZA()(),t.TgZ(56,"div",24)(57,"h2"),t._uU(58),t.ALo(59,"translate"),t.qZA()(),t.TgZ(60,"div",24)(61,"h2"),t._uU(62),t.ALo(63,"translate"),t.qZA()(),t.TgZ(64,"div",24)(65,"h2"),t._uU(66),t.ALo(67,"translate"),t.qZA()(),t._UZ(68,"div",24),t.qZA(),t.YNc(69,Bt,11,5,"div",25),t.qZA()()()()),2&e){const o=t.MAs(28);t.Q6J("formGroup",i.dataForm),t.xp6(7),t.hij(" ",t.lcZ(8,17,"HTML.Expenses"),""),t.xp6(2),t.s9C("placeholder",t.lcZ(10,19,"HTML.Expenses")),t.xp6(4),t.Q6J("ngForOf",i.AllExpences),t.xp6(4),t.Oqu(t.lcZ(18,21,"HTML.ExpenseValue")),t.xp6(6),t.Oqu(t.lcZ(24,23,"HTML.Date")),t.xp6(2),t.Q6J("matDatepicker",o),t.xp6(1),t.Q6J("for",o),t.xp6(7),t.Oqu(t.lcZ(34,25,"HTML.Notes")),t.xp6(5),t.Q6J("ngIf",i.can("view_addunitexpenses")),t.xp6(2),t.Oqu(t.lcZ(41,27,"BTN.CANCEL")),t.xp6(7),t.Oqu(t.lcZ(48,29,"HTML.UnitExpenses")),t.xp6(7),t.hij(" ",t.lcZ(55,31,"HTML.Expenses")," "),t.xp6(4),t.hij(" ",t.lcZ(59,33,"HTML.ExpenseValue")," "),t.xp6(4),t.hij(" ",t.lcZ(63,35,"HTML.Date")," "),t.xp6(4),t.hij(" ",t.lcZ(67,37,"HTML.Notes")," "),t.xp6(3),t.Q6J("ngForOf",i.unitsExpenses)}},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.Q7,c.sg,c.O5,s.sg,s.u,u.xw,u.Wh,u.yH,tt.ey,Z.lW,Z.nh,D.a8,A.Mq,A.hl,A.nW,p.xY,p.H8,M.Hw,y.Nt,g.KE,g.hX,g.R9,E.d,et.gD,B.gM,h.X$],styles:[".user-form[_ngcontent-%COMP%]   .form-field-outer[_ngcontent-%COMP%]{width:680px}.user-form[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]{margin-right:12px}.auth[_ngcontent-%COMP%]{white-space:nowrap;padding:7px 14px;font-weight:500}"]});const Pt=function(a){return["/units/unit-add/",a]};function Rt(a,e){if(1&a&&(t.TgZ(0,"a",29),t.ALo(1,"translate"),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA()()),2&a){const i=t.oxw().$implicit;t.s9C("matTooltip",t.lcZ(1,2,"BTN.EDIT")),t.Q6J("routerLink",t.VKq(4,Pt,i.id))}}function Ht(a,e){if(1&a){const i=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,l=t.oxw();return t.KtG(l.removeUnit(n.id))}),t.ALo(1,"translate"),t.TgZ(2,"mat-icon"),t._uU(3,"delete"),t.qZA()()}2&a&&t.s9C("matTooltip",t.lcZ(1,1,"BTN.REMOVE"))}function Jt(a,e){if(1&a){const i=t.EpF();t.TgZ(0,"button",31),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,l=t.oxw();return t.KtG(l.openExpensesDialog(n))}),t.ALo(1,"translate"),t.TgZ(2,"mat-icon"),t._uU(3,"build"),t.qZA()()}2&a&&t.s9C("matTooltip",t.lcZ(1,1,"ADMIN_NAV.Expenses"))}function Qt(a,e){if(1&a&&(t.TgZ(0,"div",22)(1,"div",23),t._uU(2),t.qZA(),t.TgZ(3,"div",23),t._uU(4),t.qZA(),t.TgZ(5,"div",23),t._uU(6),t.qZA(),t.TgZ(7,"div",23),t._uU(8),t.qZA(),t.TgZ(9,"div",23),t._uU(10),t.qZA(),t.TgZ(11,"div",23),t._uU(12),t.qZA(),t.TgZ(13,"div",23)(14,"mat-icon",24),t._uU(15),t.qZA()(),t.TgZ(16,"div",23)(17,"div",25),t.YNc(18,Rt,4,6,"a",26),t.YNc(19,Ht,4,3,"button",27),t.YNc(20,Jt,4,3,"button",28),t.qZA()()()),2&a){const i=e.$implicit,o=t.oxw();t.xp6(2),t.Oqu(i.branch_ArbName),t.xp6(2),t.Oqu(i.build_Name),t.xp6(2),t.hij(" ",i.UNTFloorNumber," "),t.xp6(2),t.hij(" ",i.UNTUnitNumber," "),t.xp6(2),t.hij(" ",i.UNTHousingStatusDisplay," "),t.xp6(2),t.hij(" ",i.UNTUnitTypeDisplay," "),t.xp6(3),t.Oqu("T"==i.UNTActive?"check_box":"check_box_outline_blank"),t.xp6(3),t.Q6J("ngIf",o.can("view_oneunit")),t.xp6(1),t.Q6J("ngIf",o.can("delete_units")),t.xp6(1),t.Q6J("ngIf",o.can("view_unititemexpenses"))}}function Yt(a,e){if(1&a){const i=t.EpF();t.TgZ(0,"div",32)(1,"div",33)(2,"mat-card",34)(3,"pagination-controls",35),t.NdJ("pageChange",function(n){t.CHM(i);const l=t.oxw();return t.KtG(l.onPageChanged(n))}),t.qZA()()()()}}function kt(a,e){1&a&&(t.TgZ(0,"div",36),t._UZ(1,"mat-spinner",37),t.qZA())}const Gt=function(a,e){return{itemsPerPage:a,currentPage:e}};class R{constructor(e,i,o,n,l,m,T,U){this.appSettings=e,this.dialog=i,this.unitsService=o,this.router=n,this.global=l,this.localStore=m,this.translateService=T,this.snackBar=U,this.curCOMId=b.N.comid,this.account=new C.n,this.count=6,this.userPerm=[],this.settings=this.appSettings.settings}ngOnInit(){if(this.securityForApp=(new d.$).getSecurityType(),this.userSUb=this.global.user.subscribe(e=>{this.account=e}),this.localStore.getItem("token")&&this.localStore.getItem("account")){this.curUserData=JSON.parse(this.localStore.getItem("account")),this.curUserPermissions=JSON.parse(this.localStore.getItem("permissions"));for(let e=0;e<this.curUserPermissions.length;e++)this.userPerm[e]=this.curUserPermissions[e].codename;this.prepareMsgLanguage(),this.getUnits()}else this.router.navigate(["/sign-in"])}can(e){return!(!this.curUserData.is_superuser&&!this.userPerm.includes(e))}getUnits(){this.unitsAll=null,this.curUserData.is_superuser?this.unitsService.getAllUnits(this.curCOMId,this.account.periorty).subscribe(e=>this.unitsAll=e):1==this.curUserData.periorty&&("N"==this.securityForApp&&this.unitsService.getUnitsPerBranch(this.curCOMId,this.account.periorty,this.curUserData.branch_KeyField).subscribe(e=>this.unitsAll=e),"D"==this.securityForApp&&this.unitsService.getUnitsPerEmployee(this.curCOMId,this.account.periorty,this.curUserData.id).subscribe(e=>this.unitsAll=e))}openExpensesDialog(e){this.dialog.open(P,{data:{unitRow:e,periorty:this.account.periorty},panelClass:["theme-dialog"],autoFocus:!1,direction:this.settings.rtl?"rtl":"ltr"}).afterClosed().subscribe(o=>{})}removeUnit(e){confirm(this.askToDeletedMsg)&&this.unitsService.deleteUnit(e).subscribe(i=>this.getUnits())}onPageChanged(e){this.page=e,this.getUnits(),window.scrollTo(0,0)}gotoNewUnit(){this.router.navigate(["/units/unit-add/"])}prepareMsgLanguage(){this.translateService.get("MESSAGE.RETRIEVE_ERROR").subscribe(e=>{this.errorRetrieveMsg=e}),this.translateService.get("MESSAGE.SURE_DELETE").subscribe(e=>{this.askToDeletedMsg=e}),this.translateService.get("MESSAGE.DELETED").subscribe(e=>{this.deletedMsg=e})}}R.\u0275fac=function(e){return new(e||R)(t.Y36(Y.d),t.Y36(p.uw),t.Y36(N.X),t.Y36(f.F0),t.Y36(q.U),t.Y36(L.C),t.Y36(h.sK),t.Y36(x.ux))},R.\u0275cmp=t.Xpm({type:R,selectors:[["app-unit-list"]],features:[t._Bn([N.X])],decls:64,vars:43,consts:[["fxLayout","row","fxLayoutAlign","space-between center",1,"p-2"],["fxLayout","row"],["appearance","legacy"],["controls","matButtonToggleGroup"],["value","add",3,"click",4,"ngIf"],["value","search"],[1,"user-search"],[1,"user-search-input"],["matInput","","name","search","autocomplete","off",3,"placeholder","ngModel","ngModelChange"],["fxLayout","row","fxLayoutAlign","space-between center"],["appearance","legacy","value","list"],["viewType","matButtonToggleGroup"],["value","list"],["value","grid"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"w-100","p-3"],[1,"mat-mdc-table","admin-table"],[1,"mat-mdc-header-row"],[1,"mat-mdc-header-cell"],["class","mat-mdc-row",4,"ngFor","ngForOf"],["fxLayout","row wrap",4,"ngIf"],["fxLayout","column","fxLayoutAlign","center center","class","user-spinner",4,"ngIf"],["value","add",3,"click"],[1,"mat-mdc-row"],[1,"mat-mdc-cell"],[1,"text-muted"],[1,"p-2","actions"],["mat-mini-fab","","color","primary",3,"routerLink","matTooltip",4,"ngIf"],["mat-mini-fab","","color","warn",3,"matTooltip","click",4,"ngIf"],["mat-mini-fab","","color","primary",3,"matTooltip","click",4,"ngIf"],["mat-mini-fab","","color","primary",3,"routerLink","matTooltip"],["mat-mini-fab","","color","warn",3,"matTooltip","click"],["mat-mini-fab","","color","primary",3,"matTooltip","click"],["fxLayout","row wrap"],["fxFlex","100",1,"p-2"],[1,"text-center"],["autoHide","true","maxSize","5",1,"product-pagination",3,"pageChange"],["fxLayout","column","fxLayoutAlign","center center",1,"user-spinner"],["color","primary"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-button-toggle-group",2,3),t.YNc(4,wt,3,0,"mat-button-toggle",4),t.TgZ(5,"mat-button-toggle",5)(6,"mat-icon"),t._uU(7,"search"),t.qZA()()()(),t.TgZ(8,"form",6)(9,"mat-form-field",7)(10,"input",8),t.NdJ("ngModelChange",function(n){return i.searchText=n}),t.ALo(11,"translate"),t.qZA()()(),t.TgZ(12,"div",9)(13,"mat-button-toggle-group",10,11)(15,"mat-button-toggle",12)(16,"mat-icon"),t._uU(17,"view_list"),t.qZA()(),t.TgZ(18,"mat-button-toggle",13)(19,"mat-icon"),t._uU(20,"view_module"),t.qZA()()()()(),t._UZ(21,"mat-divider"),t.TgZ(22,"mat-card")(23,"div",14)(24,"h2"),t._uU(25),t.ALo(26,"translate"),t.qZA()(),t._UZ(27,"mat-divider"),t.TgZ(28,"div",15)(29,"div",16)(30,"div",17)(31,"h2"),t._uU(32),t.ALo(33,"translate"),t.qZA()(),t.TgZ(34,"div",17)(35,"h2"),t._uU(36),t.ALo(37,"translate"),t.qZA()(),t.TgZ(38,"div",17)(39,"h2"),t._uU(40),t.ALo(41,"translate"),t.qZA()(),t.TgZ(42,"div",17)(43,"h2"),t._uU(44),t.ALo(45,"translate"),t.qZA()(),t.TgZ(46,"div",17)(47,"h2"),t._uU(48),t.ALo(49,"translate"),t.qZA()(),t.TgZ(50,"div",17)(51,"h2"),t._uU(52),t.ALo(53,"translate"),t.qZA()(),t.TgZ(54,"div",17)(55,"h2"),t._uU(56),t.ALo(57,"translate"),t.qZA()(),t._UZ(58,"div",17),t.qZA(),t.YNc(59,Qt,21,10,"div",18),t.ALo(60,"paginate"),t.ALo(61,"UnitsSearchPipe"),t.qZA()(),t.YNc(62,Yt,4,0,"div",19),t.YNc(63,kt,2,0,"div",20)),2&e){const o=t.MAs(3);t.xp6(4),t.Q6J("ngIf",i.can("add_units")),t.xp6(4),t.ekj("show","search"==o.value),t.xp6(2),t.s9C("placeholder",t.lcZ(11,16,"HTML.SEARCH_UNITS")),t.Q6J("ngModel",i.searchText),t.xp6(15),t.Oqu(t.lcZ(26,18,"HTML.UNIT_LIST")),t.xp6(7),t.hij(" ",t.lcZ(33,20,"HTML.BRANCH")," "),t.xp6(4),t.hij(" ",t.lcZ(37,22,"HTML.BUILDING")," "),t.xp6(4),t.hij(" ",t.lcZ(41,24,"HTML.FloorNumber")," "),t.xp6(4),t.hij(" ",t.lcZ(45,26,"HTML.UnitNumber")," "),t.xp6(4),t.hij(" ",t.lcZ(49,28,"HTML.HOUSING_STATUS")," "),t.xp6(4),t.hij(" ",t.lcZ(53,30,"HTML.UnitType")," "),t.xp6(4),t.hij(" ",t.lcZ(57,32,"HTML.ACTIVATED")," "),t.xp6(3),t.Q6J("ngForOf",t.xi3(60,34,t.xi3(61,37,i.unitsAll,i.searchText),t.WLB(40,Gt,i.count,i.page))),t.xp6(3),t.Q6J("ngIf",i.unitsAll),t.xp6(1),t.Q6J("ngIf",!i.unitsAll)}},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.On,s.F,_.LS,c.sg,c.O5,f.rH,u.xw,u.Wh,u.yH,Z.Tq,Z.nh,k.A9,k.Yi,D.a8,M.Hw,y.Nt,g.KE,E.d,G.Ou,B.gM,_._s,nt.pL,h.X$],styles:[".user-name{padding:0 12px;font-weight:400}.user-content{padding:10px}.user-content .user-img{position:relative}.user-content .user-img img{border-radius:50%;width:80px;height:80px}.user-content .user-img img.blocked{opacity:.5}.user-content .user-img .mat-icon{position:absolute;top:-8px;left:-8px;font-size:96px;height:96px;width:96px}.user-content .mat-mdc-slide-toggle{margin-top:15px}.user-content .user-details span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.user-content .user-details .mat-icon{padding:2px 10px}.user-content .user-details.blocked{opacity:.5}.user-search{width:0;overflow:hidden;transition:.3s}.user-search .mat-mdc-form-field{width:100%!important;text-align:center!important}.user-search .mat-mdc-form-field .mat-mdc-form-field-infix{min-height:36px;padding:8px 0!important}.user-search .mat-mdc-form-field .mat-mdc-form-field-subscript-wrapper{display:none}.user-search .mat-mdc-input-element{text-align:center}.user-search.show{width:100%;overflow:visible}.user-spinner{position:absolute;inset:0}.mat-mdc-card{overflow:hidden}\n"],encapsulation:2});class rt{}function Vt(a,e){1&a&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"BTN.ADD")))}function Kt(a,e){1&a&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"BTN.EDIT")))}function Wt(a,e){if(1&a&&(t.TgZ(0,"mat-option",11),t._uU(1),t.qZA()),2&a){const i=e.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij(" ",i.BRAArbName," ")}}function jt(a,e){if(1&a&&(t.TgZ(0,"mat-option",11),t._uU(1),t.qZA()),2&a){const i=e.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij(" ",i.BUIName," ")}}function Xt(a,e){if(1&a&&(t.TgZ(0,"mat-option",11),t._uU(1),t.qZA()),2&a){const i=e.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij(" ",i.OWNName," ")}}function $t(a,e){1&a&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"BTN.SAVE")))}function zt(a,e){1&a&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"BTN.EDIT")))}function te(a,e){if(1&a){const i=t.EpF();t.TgZ(0,"button",82),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.saveUpdate(n.unitForDisplay.id))}),t.YNc(1,$t,3,3,"span",1),t.YNc(2,zt,3,3,"span",1),t.qZA()}if(2&a){const i=t.oxw();t.Q6J("mat-dialog-close",i.form.value)("disabled",!i.form.valid),t.xp6(1),t.Q6J("ngIf",!i.unitForDisplay.id),t.xp6(1),t.Q6J("ngIf",i.unitForDisplay.id)}}class S{constructor(e,i,o,n,l,m,T,U,v,O,at){this.activatedRoute=e,this.codesService=i,this.unitsService=o,this.contractService=n,this.fb=l,this.localStore=m,this.router=T,this.global=U,this.translateService=v,this.atlasService=O,this.snackBar=at,this.curCOMId=b.N.comid,this.account=new C.n,this.docType_const=(new d.I).OwnershipDocTypes,this.country_const=(new d.I).Countries,this.governorate_const=(new d.I).Governorates,this.city_const=(new d.I).City,this.region_const=(new d.I).Regions,this.buildingFeatures_const=(new d.I).BuildingFeatures,this.passwordHide=!0,this.tenant=new rt,this.userPerm=[],this.defaultCusImage=(new V.P).noImage,this.CusImageToUpload=null,this.DocTypes=[],this.Countries=[],this.Governorates=[],this.AllBuilding=[],this.AllBranches=[],this.AllOwners=[]}readContractValue(e){let i=e.target.value;i>0&&this.form.patchValue({rentValues:{UNTMonthlyRentValue:i/12}})}readMonthes(e){let i=e.target.value;i>0&&this.form.patchValue({rentValues:{UNTNumberOfInstallments:12/i}})}readElectricity(e){console.log(e.target.value)}readWater(e){console.log(e.target.value)}readGas(e){console.log(e.target.value)}ngOnInit(){if(this.userSUb=this.global.user.subscribe(e=>{this.account=e}),this.localStore.getItem("token")&&this.localStore.getItem("account")){this.curUserData=JSON.parse(this.localStore.getItem("account")),this.curUserPermissions=JSON.parse(this.localStore.getItem("permissions"));for(let e=0;e<this.curUserPermissions.length;e++)this.userPerm[e]=this.curUserPermissions[e].codename;this.form=this.fb.group({id:null,UNTCode:null,branch_KeyField:null,owner_KeyField:null,build_KeyField:null,UNTUnitFileNumber:null,UNTDescription:null,UNTPic:null,UNTFloorNumber:null,UNTUnitNumber:null,UNTUnitArea:null,UNTMeasuringUnit:"M",UNTUnitType:"F",UNTUnitForSale:!1,UNTUnitForRent:!0,generalDescription:this.fb.group({uNTCreationDate:null,UNTHousingStatus:"E",UNTConstructionStatus:"E",UNTPropertyUsageType:"F",UNTPropertyType:"B",UNTUnitFacing:"F",UNTUnitDirection:"N"}),rentValues:this.fb.group({UNTRentalCycle:"M",UNTMonthlyRentValue:null,UNTWeeklyRentValue:null,UNTDailyRentValue:null,UNTPayInstallmentEveryMonths:1,UNTNumberOfInstallments:[{value:12,disabled:!0}],UNTMonthlyElectricityFee:0,UNTMonthlyWaterFee:0,UNTMonthlyGasFee:0,UNTNumberOfParkingLots:0,UNTMonthlyParkingFee:0,UNTLastElectricityReading:0,UNTLastWaterReading:0,UNTLastGasReading:0,UNTElectricityNumber:null,UNTWaterNumber:null,UNTGasNumber:null,UNTUnitNoFees:"F",UNTUnitHotOffer:"F",UNTUnitSold:"F",UNTSoldValue:null,UNTContractValue:0,UNTInsuranceValue:0,UNTSeekingValue:0,UNTMonthlyExpense:0,UNTOtherValue:0,UNTExpenseDesc:null}),unitDescription:this.fb.group({UNTIsFurnitured:!1,UNTFurnitureStatus:"F",UNTKitchenCabinets:!1,UNTNumberOfBedRooms:null,UNTNumberOfBathRooms:null,UNTUnitKitchen:null,UNTUnitHall:null,UNTUnitBalacona:null,UNTUnitElevator:!1,UNTUnitAirCondition:!1,UNTUnitMainRoad:!1}),settings:this.fb.group({isActive:null,isDeleted:null})}),this.getCountries(this.curCOMId,this.account.periorty),this.getAllBranches(this.curCOMId,this.account.periorty),this.getAllOwnerss(this.curCOMId,this.account.periorty),this.getOwnershipDocType(this.curCOMId,this.account.periorty),this.sub=this.activatedRoute.params.subscribe(e=>{e.id?(this.id=+e.id,this.getUnitById(this.id)):this.unitForDisplay=new rt})}else this.router.navigate(["/sign-in"])}can(e){return!(!this.curUserData.is_superuser&&!this.userPerm.includes(e))}handelCUSImgInput(e){this.CusImageToUpload=e.item(0);var i=new FileReader;i.onload=o=>{this.defaultCusImage=o.target.result},i.readAsDataURL(this.CusImageToUpload)}mapFormvalue_to_UnitClass(){this.form.enable();const e=new c.uU("en-GB").transform(this.form.value.generalDescription.uNTCreationDate,"dd/MM/yyyy");this.unitForSale=this.form.value.UNTUnitForSale?"T":"F",this.unitForRent=this.form.value.UNTUnitForRent?"T":"F",this.tenActive=this.form.value.settings.isActive?"T":"F",this.tenDeleted=this.form.value.settings.isDeleted?1:0,this.unitFurniture=this.form.value.unitDescription.UNTIsFurnitured?"T":"F",this.unitKitchenCabinets=this.form.value.unitDescription.UNTKitchenCabinets?"T":"F",this.unitElevator=this.form.value.unitDescription.UNTUnitElevator?"T":"F",this.unitAirCodition=this.form.value.unitDescription.UNTUnitAirCondition?"T":"F",this.unitMainRoad=this.form.value.unitDescription.UNTUnitMainRoad?"T":"F",this.unitForDisplay.id=this.form.value.id,this.unitForDisplay.branch_KeyField=this.form.value.branch_KeyField,this.unitForDisplay.owner_KeyField=this.form.value.owner_KeyField,this.unitForDisplay.build_KeyField=this.form.value.build_KeyField,this.unitForDisplay.UNTCode=this.form.value.UNTCode,this.unitForDisplay.UNTPic=this.form.value.UNTPic,this.unitForDisplay.UNTUnitFileNumber=this.form.value.UNTUnitFileNumber,this.unitForDisplay.UNTDescription=this.form.value.UNTDescription,this.unitForDisplay.UNTFloorNumber=this.form.value.UNTFloorNumber,this.unitForDisplay.UNTUnitNumber=this.form.value.UNTUnitNumber,this.unitForDisplay.UNTUnitArea=this.form.value.UNTUnitArea,this.unitForDisplay.UNTMeasuringUnit=this.form.value.UNTMeasuringUnit,this.unitForDisplay.UNTUnitType=this.form.value.UNTUnitType,this.unitForDisplay.UNTUnitForSale=this.unitForSale,this.unitForDisplay.UNTUnitForRent=this.unitForRent,null!=this.form.value.generalDescription.uNTCreationDate&&(this.unitForDisplay.UNTCreationDate=e),this.unitForDisplay.UNTHousingStatus=this.form.value.generalDescription.UNTHousingStatus,this.unitForDisplay.UNTConstructionStatus=this.form.value.generalDescription.UNTConstructionStatus,this.unitForDisplay.UNTPropertyUsageType=this.form.value.generalDescription.UNTPropertyUsageType,this.unitForDisplay.UNTPropertyType=this.form.value.generalDescription.UNTPropertyType,this.unitForDisplay.UNTUnitFacing=this.form.value.generalDescription.UNTUnitFacing,this.unitForDisplay.UNTUnitDirection=this.form.value.generalDescription.UNTUnitDirection,this.unitForDisplay.UNTRentalCycle=this.form.value.rentValues.UNTRentalCycle,this.unitForDisplay.UNTMonthlyRentValue=this.form.value.rentValues.UNTMonthlyRentValue,this.unitForDisplay.UNTWeeklyRentValue=this.form.value.rentValues.UNTWeeklyRentValue,this.unitForDisplay.UNTDailyRentValue=this.form.value.rentValues.UNTDailyRentValue,this.unitForDisplay.UNTPayInstallmentEveryMonths=this.form.value.rentValues.UNTPayInstallmentEveryMonths,this.unitForDisplay.UNTNumberOfInstallments=this.form.value.rentValues.UNTNumberOfInstallments,this.unitForDisplay.UNTMonthlyElectricityFee=this.form.value.rentValues.UNTMonthlyElectricityFee,this.unitForDisplay.UNTMonthlyWaterFee=this.form.value.rentValues.UNTMonthlyWaterFee,this.unitForDisplay.UNTMonthlyGasFee=this.form.value.rentValues.UNTMonthlyGasFee,this.unitForDisplay.UNTNumberOfParkingLots=this.form.value.rentValues.UNTNumberOfParkingLots,this.unitForDisplay.UNTMonthlyParkingFee=this.form.value.rentValues.UNTMonthlyParkingFee,this.unitForDisplay.UNTLastElectricityReading=this.form.value.rentValues.UNTLastElectricityReading,this.unitForDisplay.UNTLastWaterReading=this.form.value.rentValues.UNTLastWaterReading,this.unitForDisplay.UNTLastGasReading=this.form.value.rentValues.UNTLastGasReading,this.unitForDisplay.UNTElectricityNumber=this.form.value.rentValues.UNTElectricityNumber,this.unitForDisplay.UNTWaterNumber=this.form.value.rentValues.UNTWaterNumber,this.unitForDisplay.UNTGasNumber=this.form.value.rentValues.UNTGasNumber,this.unitForDisplay.UNTUnitNoFees=this.form.value.rentValues.UNTUnitNoFees,this.unitForDisplay.UNTUnitHotOffer=this.form.value.rentValues.UNTUnitHotOffer,this.unitForDisplay.UNTUnitSold=this.form.value.rentValues.UNTUnitSold,this.unitForDisplay.UNTSoldValue=this.form.value.rentValues.UNTSoldValue,this.unitForDisplay.UNTContractValue=this.form.value.rentValues.UNTContractValue,this.unitForDisplay.UNTInsuranceValue=this.form.value.rentValues.UNTInsuranceValue,this.unitForDisplay.UNTSeekingValue=this.form.value.rentValues.UNTSeekingValue,this.unitForDisplay.UNTMonthlyExpense=this.form.value.rentValues.UNTMonthlyExpense,this.unitForDisplay.UNTOtherValue=this.form.value.rentValues.UNTOtherValue,this.unitForDisplay.UNTExpenseDesc=this.form.value.rentValues.UNTExpenseDesc,this.unitForDisplay.UNTIsFurnitured=this.unitFurniture,this.unitForDisplay.UNTFurnitureStatus=this.form.value.unitDescription.UNTFurnitureStatus,this.unitForDisplay.UNTKitchenCabinets=this.unitKitchenCabinets,this.unitForDisplay.UNTNumberOfBedRooms=this.form.value.unitDescription.UNTNumberOfBedRooms,this.unitForDisplay.UNTNumberOfBathRooms=this.form.value.unitDescription.UNTNumberOfBathRooms,this.unitForDisplay.UNTUnitKitchen=this.form.value.unitDescription.UNTUnitKitchen,this.unitForDisplay.UNTUnitHall=this.form.value.unitDescription.UNTUnitHall,this.unitForDisplay.UNTUnitBalacona=this.form.value.unitDescription.UNTUnitBalacona,this.unitForDisplay.UNTUnitElevator=this.unitElevator,this.unitForDisplay.UNTUnitAirCondition=this.unitAirCodition,this.unitForDisplay.UNTUnitMainRoad=this.unitMainRoad,this.unitForDisplay.UNTActive=this.tenActive,this.unitForDisplay.RowDelete=this.tenDeleted,this.form.disable()}getUnitById(e){this.unitsService.getOneUnit(e).subscribe(i=>{this.fillForm(i),this.unitForDisplay=i})}fillForm(e){this.is_active="T"==e.UNTActive,this.is_Furniture="T"==e.UNTIsFurnitured,this.is_KitchenCabinet="T"==e.UNTKitchenCabinets,this.is_Elevator="T"==e.UNTUnitElevator,this.is_AirCondition="T"==e.UNTUnitAirCondition,this.is_MainRoad="T"==e.UNTUnitMainRoad,null!=e.branch_KeyField&&this.getBuildingPerBranch(this.curCOMId,this.account.periorty,e.branch_KeyField),this.defaultCusImage=null!=e.UNTPic?e.UNTPic:(new V.P).noImage,this.is_delete=1==e.RowDelete,this.is_ForRent="T"==e.UNTUnitForRent,this.is_ForSale="T"==e.UNTUnitForSale,this.form.patchValue({id:e.id,branch_KeyField:e.branch_KeyField,owner_KeyField:e.owner_KeyField,build_KeyField:e.build_KeyField,UNTCode:e.UNTCode,UNTPic:e.UNTPic,UNTUnitFileNumber:e.UNTUnitFileNumber,UNTDescription:e.UNTDescription,UNTFloorNumber:e.UNTFloorNumber,UNTUnitNumber:e.UNTUnitNumber,UNTUnitArea:e.UNTUnitArea,UNTMeasuringUnit:e.UNTMeasuringUnit,UNTUnitType:e.UNTUnitType,UNTUnitForSale:this.is_ForSale,UNTUnitForRent:this.is_ForRent,generalDescription:{uNTCreationDate:e.UNTCreationDate,UNTHousingStatus:e.UNTHousingStatus,UNTConstructionStatus:e.UNTConstructionStatus,UNTPropertyUsageType:e.UNTPropertyUsageType,UNTPropertyType:e.UNTPropertyType,UNTUnitFacing:e.UNTUnitFacing,UNTUnitDirection:e.UNTUnitDirection},rentValues:{UNTRentalCycle:e.UNTRentalCycle,UNTMonthlyRentValue:e.UNTMonthlyRentValue,UNTWeeklyRentValue:e.UNTWeeklyRentValue,UNTDailyRentValue:e.UNTDailyRentValue,UNTPayInstallmentEveryMonths:e.UNTPayInstallmentEveryMonths,UNTNumberOfInstallments:e.UNTNumberOfInstallments,UNTMonthlyElectricityFee:e.UNTMonthlyElectricityFee,UNTMonthlyWaterFee:e.UNTMonthlyWaterFee,UNTMonthlyGasFee:e.UNTMonthlyGasFee,UNTNumberOfParkingLots:e.UNTNumberOfParkingLots,UNTMonthlyParkingFee:e.UNTMonthlyParkingFee,UNTLastElectricityReading:e.UNTLastElectricityReading,UNTLastWaterReading:e.UNTLastWaterReading,UNTLastGasReading:e.UNTLastGasReading,UNTElectricityNumber:e.UNTElectricityNumber,UNTWaterNumber:e.UNTWaterNumber,UNTGasNumber:e.UNTGasNumber,UNTUnitNoFees:e.UNTUnitNoFees,UNTUnitHotOffer:e.UNTUnitHotOffer,UNTUnitSold:e.UNTUnitSold,UNTSoldValue:e.UNTSoldValue,UNTContractValue:e.UNTContractValue,UNTInsuranceValue:e.UNTInsuranceValue,UNTSeekingValue:e.UNTSeekingValue,UNTMonthlyExpense:e.UNTMonthlyExpense,UNTOtherValue:e.UNTOtherValue,UNTExpenseDesc:e.UNTExpenseDesc},unitDescription:{UNTIsFurnitured:this.is_Furniture,UNTFurnitureStatus:e.UNTFurnitureStatus,UNTKitchenCabinets:this.is_KitchenCabinet,UNTNumberOfBedRooms:e.UNTNumberOfBedRooms,UNTNumberOfBathRooms:e.UNTNumberOfBathRooms,UNTUnitKitchen:e.UNTUnitKitchen,UNTUnitHall:e.UNTUnitHall,UNTUnitBalacona:e.UNTUnitBalacona,UNTUnitElevator:this.is_Elevator,UNTUnitAirCondition:this.is_AirCondition,UNTUnitMainRoad:this.is_MainRoad},settings:{isActive:this.is_active,isDeleted:this.is_delete}})}saveUpdate(e){console.log("=============saveUpdate()==============="),this.mapFormvalue_to_UnitClass(),e?this.unitsService.editUnit(this.unitForDisplay,this.CusImageToUpload).subscribe(i=>{this.snackBar.open("\u062a\u0645 \u062a\u0639\u062f\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0648\u062d\u062f\u0629","\xd7",{panelClass:"success",verticalPosition:"top",duration:3e3}),this.router.navigate(["units/unit"])},i=>{this.snackBar.open(" \u062e\u0637\u0623 \u0641\u064a \u062a\u0639\u062f\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0648\u062d\u062f\u0629","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})}):this.unitsService.addUnit(this.unitForDisplay,this.CusImageToUpload).subscribe(i=>{this.snackBar.open("\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0648\u062d\u062f\u0629","\xd7",{panelClass:"success",verticalPosition:"top",duration:3e3}),this.router.navigate(["units/unit"])},i=>{this.snackBar.open(" \u062e\u0637\u0623 \u0641\u064a \u0627\u0636\u0627\u0641\u0647 \u0627\u0644\u0648\u062d\u062f\u0629","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})}close(){}compareFunction(e,i){return e.username==i.username&&e.code==i.code}getOwnershipDocType(e,i){this.codesService.getSubForParent(e,i,this.docType_const).subscribe(o=>{this.DocTypes=o},o=>{this.snackBar.open("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0627\u0646\u0648\u0627\u0639 \u0645\u0633\u062a\u0646\u062f\u0627\u062a \u0627\u0644\u0645\u0644\u0643\u064a\u0629","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})}getCountries(e,i){this.codesService.getSubForParent(e,i,this.country_const).subscribe(o=>{this.Countries=o},o=>{this.snackBar.open("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0627\u0644\u062f\u0648\u0644","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})}getBuildings(e){this.getBuildingPerBranch(this.curCOMId,this.account.periorty,e.value)}getBuildingPerBranch(e,i,o){this.unitsService.getBuildingsPerBranch(e,i,o).subscribe(n=>{this.AllBuilding=n},n=>{this.snackBar.open("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0627\u0644\u0639\u0642\u0627\u0631\u0627\u062a \u0644\u0644\u0641\u0631\u0639","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})}readBuilding(e){console.log("====Selected Build:: "+e.value),this.unitsService.getOneBuilding(e.value).subscribe(i=>{this.curOwnerId=i.owner_KeyField,console.log("====Cur Owner:: "+this.curOwnerId+"  "+i.owner_FullName),this.form.controls.owner_KeyField.setValue(this.curOwnerId)},i=>{this.snackBar.open("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0639\u0642\u0627\u0631","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})}getAllBranches(e,i){this.atlasService.getAllBranch(e,i).subscribe(o=>{this.AllBranches=o},o=>{this.snackBar.open("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0627\u0644\u0641\u0631\u0648\u0639","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})}getAllOwnerss(e,i){this.contractService.getAllOwners(e,i).subscribe(o=>{this.AllOwners=o},o=>{this.snackBar.open("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0627\u0644\u0645\u0644\u0627\u0643","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})}prepareMsgLanguage(){this.translateService.get("MESSAGE.RETRIEVE_ERROR").subscribe(e=>{this.errorRetrieveMsg=e}),this.translateService.get("MESSAGE.SURE_DELETE").subscribe(e=>{this.askToDeletedMsg=e}),this.translateService.get("MESSAGE.DELETED").subscribe(e=>{this.deletedMsg=e})}}S.\u0275fac=function(e){return new(e||S)(t.Y36(f.gz),t.Y36(K.d),t.Y36(N.X),t.Y36($.W),t.Y36(s.QS),t.Y36(L.C),t.Y36(f.F0),t.Y36(q.U),t.Y36(h.sK),t.Y36(z.Z),t.Y36(x.ux))},S.\u0275cmp=t.Xpm({type:S,selectors:[["app-unit-dialog"]],decls:549,vars:424,consts:[["mat-dialog-title",""],[4,"ngIf"],[1,"user-form",3,"formGroup"],[1,"vertical-tabs","tab-content-wrapped",3,"backgroundColor","color"],[3,"label"],["fxLayout","column",1,"form-field-outer"],["fxLayout","column","fxLayoutGap","10px grid"],["fxLayout","row","fxLayoutAlign","space-between center",1,"w-100"],["fxFlex","100","fxFlex.gt-sm","49.8",1,"px-1"],["appearance","outline",1,"w-100"],["formControlName","branch_KeyField","id","branchOpSel",3,"placeholder","selectionChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["formControlName","UNTUnitType","id","unitTypeOpSel",3,"placeholder"],["formControlName","build_KeyField","id","buildOneOpSel",3,"placeholder","selectionChange"],["formControlName","owner_KeyField","id","oneOwnerOpSel",3,"placeholder"],["fxFlex","100","fxFlex.gt-sm","33.3",1,"px-1"],["matInput","","formControlName","UNTFloorNumber"],["matInput","","formControlName","UNTUnitNumber"],["matInput","","formControlName","UNTUnitFileNumber"],["matInput","","formControlName","UNTDescription"],["fxFlex","100","fxFlex.gt-sm","24.8",1,"px-1"],["matInput","","formControlName","UNTUnitArea"],["formControlName","UNTMeasuringUnit","id","untmeasureUnitOpSel",3,"placeholder"],["formControlName","UNTUnitForSale"],["formControlName","UNTUnitForRent"],[1,"p-2"],[2,"width","150px","height","200px",3,"src"],["formControlName","UNTPic","name","UNTPic","id","uploadunit","type","file","accept","image/*",1,"user-img",3,"change"],["formGroupName","generalDescription",3,"label"],["matInput","","formControlName","uNTCreationDate",3,"matDatepicker"],["matSuffix","",3,"for"],["uNTCreationDate",""],["formControlName","UNTHousingStatus","id","untHousStatOpSel",3,"placeholder"],["formControlName","UNTUnitFacing","id","untFaceOpSel",3,"placeholder"],["formControlName","UNTConstructionStatus","id","untConstrucStatOpSel",3,"placeholder"],["formControlName","UNTPropertyUsageType","id","untPropUsageOpSel",3,"placeholder"],["formControlName","UNTPropertyType","id","PropTypOpSel",3,"placeholder"],["formGroupName","rentValues",3,"label"],["fxFlex","100","fxFlex.gt-sm","50",1,"px-1"],["formControlName","UNTRentalCycle","id","rentCyclOpSel",3,"placeholder"],["matInput","","formControlName","UNTContractValue",3,"change"],["matInput","","formControlName","UNTInsuranceValue"],["matInput","","formControlName","UNTSeekingValue"],["matInput","","formControlName","UNTMonthlyRentValue"],["matInput","","formControlName","UNTWeeklyRentValue"],["matInput","","formControlName","UNTDailyRentValue"],["matInput","","formControlName","UNTPayInstallmentEveryMonths",3,"change"],["matInput","","formControlName","UNTNumberOfInstallments"],["matInput","","formControlName","UNTMonthlyExpense"],["matInput","","formControlName","UNTOtherValue"],["fxFlex","100","fxFlex.gt-sm","100",1,"px-1"],["matInput","","formControlName","UNTExpenseDesc"],["matInput","","formControlName","UNTMonthlyElectricityFee"],["matInput","","formControlName","UNTMonthlyWaterFee"],["matInput","","formControlName","UNTMonthlyGasFee"],["matInput","","formControlName","UNTNumberOfParkingLots"],["matInput","","formControlName","UNTMonthlyParkingFee"],["matInput","","formControlName","UNTLastElectricityReading"],["matInput","","formControlName","UNTLastWaterReading"],["matInput","","formControlName","UNTLastGasReading"],["matInput","","formControlName","UNTElectricityNumber",3,"change"],["matInput","","formControlName","UNTWaterNumber",3,"change"],["matInput","","formControlName","UNTGasNumber",3,"change"],["formGroupName","unitDescription",3,"label"],["matInput","","formControlName","UNTNumberOfBedRooms"],["matInput","","formControlName","UNTNumberOfBathRooms"],["matInput","","formControlName","UNTUnitKitchen"],["matInput","","formControlName","UNTUnitHall"],["matInput","","formControlName","UNTUnitBalacona"],["formControlName","UNTKitchenCabinets"],["formControlName","UNTIsFurnitured"],["formControlName","UNTFurnitureStatus","id","furnStOpSel",3,"placeholder"],["fxFlex","100","fxFlex.gt-sm","39.8",1,"px-1"],["formControlName","UNTUnitElevator"],["formControlName","UNTUnitAirCondition"],["formControlName","UNTUnitMainRoad"],["formGroupName","settings",3,"label"],["formControlName","isActive"],["formControlName","isDeleted"],["mat-dialog-actions",""],["mat-raised-button","","color","primary",3,"mat-dialog-close","disabled","click",4,"ngIf"],["mat-raised-button","","color","primary",3,"mat-dialog-close","disabled","click"]],template:function(e,i){if(1&e&&(t.TgZ(0,"h1",0),t.YNc(1,Vt,3,3,"span",1),t.YNc(2,Kt,3,3,"span",1),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"form",2)(6,"mat-tab-group",3)(7,"mat-tab",4),t.ALo(8,"translate"),t.TgZ(9,"div",5)(10,"div",6),t._UZ(11,"mat-label"),t.TgZ(12,"div",7)(13,"div",8)(14,"mat-form-field",9)(15,"mat-label"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"mat-select",10),t.NdJ("selectionChange",function(n){return i.getBuildings(n)}),t.ALo(19,"translate"),t.TgZ(20,"mat-option",11),t._uU(21,"-"),t.qZA(),t.YNc(22,Wt,2,2,"mat-option",12),t.qZA()()(),t.TgZ(23,"div",8)(24,"mat-form-field",9)(25,"mat-label"),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"mat-select",13),t.ALo(29,"translate"),t.TgZ(30,"mat-option",11),t._uU(31,"-"),t.qZA(),t.TgZ(32,"mat-option",11),t._uU(33),t.ALo(34,"translate"),t.qZA(),t.TgZ(35,"mat-option",11),t._uU(36),t.ALo(37,"translate"),t.qZA(),t.TgZ(38,"mat-option",11),t._uU(39),t.ALo(40,"translate"),t.qZA(),t.TgZ(41,"mat-option",11),t._uU(42),t.ALo(43,"translate"),t.qZA(),t.TgZ(44,"mat-option",11),t._uU(45),t.ALo(46,"translate"),t.qZA(),t.TgZ(47,"mat-option",11),t._uU(48),t.ALo(49,"translate"),t.qZA(),t.TgZ(50,"mat-option",11),t._uU(51),t.ALo(52,"translate"),t.qZA(),t.TgZ(53,"mat-option",11),t._uU(54),t.ALo(55,"translate"),t.qZA(),t.TgZ(56,"mat-option",11),t._uU(57),t.ALo(58,"translate"),t.qZA(),t.TgZ(59,"mat-option",11),t._uU(60),t.ALo(61,"translate"),t.qZA()()()()()(),t.TgZ(62,"div",7)(63,"div",8)(64,"mat-form-field",9)(65,"mat-label"),t._uU(66),t.ALo(67,"translate"),t.qZA(),t.TgZ(68,"mat-select",14),t.NdJ("selectionChange",function(n){return i.readBuilding(n)}),t.ALo(69,"translate"),t.TgZ(70,"mat-option",11),t._uU(71,"-"),t.qZA(),t.YNc(72,jt,2,2,"mat-option",12),t.qZA()()(),t.TgZ(73,"div",8)(74,"mat-form-field",9)(75,"mat-label"),t._uU(76),t.ALo(77,"translate"),t.qZA(),t.TgZ(78,"mat-select",15),t.ALo(79,"translate"),t.TgZ(80,"mat-option",11),t._uU(81,"-"),t.qZA(),t.YNc(82,Xt,2,2,"mat-option",12),t.qZA()()()(),t.TgZ(83,"div",7)(84,"div",16)(85,"mat-form-field",9)(86,"mat-label"),t._uU(87),t.ALo(88,"translate"),t.qZA(),t._UZ(89,"input",17),t.qZA()(),t.TgZ(90,"div",16)(91,"mat-form-field",9)(92,"mat-label"),t._uU(93),t.ALo(94,"translate"),t.qZA(),t._UZ(95,"input",18),t.qZA()(),t.TgZ(96,"div",16)(97,"mat-form-field",9)(98,"mat-label"),t._uU(99),t.ALo(100,"translate"),t.qZA(),t._UZ(101,"input",19),t.qZA()()(),t.TgZ(102,"mat-form-field",9)(103,"mat-label"),t._uU(104),t.ALo(105,"translate"),t.qZA(),t._UZ(106,"input",20),t.qZA(),t.TgZ(107,"div",7)(108,"div",21)(109,"mat-form-field",9)(110,"mat-label"),t._uU(111),t.ALo(112,"translate"),t.qZA(),t._UZ(113,"input",22),t.qZA()(),t.TgZ(114,"div",21)(115,"mat-form-field",9)(116,"mat-label"),t._uU(117),t.ALo(118,"translate"),t.qZA(),t.TgZ(119,"mat-select",23),t.ALo(120,"translate"),t.TgZ(121,"mat-option",11),t._uU(122,"-"),t.qZA(),t.TgZ(123,"mat-option",11),t._uU(124),t.ALo(125,"translate"),t.qZA(),t.TgZ(126,"mat-option",11),t._uU(127),t.ALo(128,"translate"),t.qZA(),t.TgZ(129,"mat-option",11),t._uU(130),t.ALo(131,"translate"),t.qZA(),t.TgZ(132,"mat-option",11),t._uU(133),t.ALo(134,"translate"),t.qZA(),t.TgZ(135,"mat-option",11),t._uU(136),t.ALo(137,"translate"),t.qZA()()()(),t.TgZ(138,"div",21)(139,"mat-checkbox",24),t._uU(140),t.ALo(141,"translate"),t.qZA()(),t.TgZ(142,"div",21)(143,"mat-checkbox",25),t._uU(144),t.ALo(145,"translate"),t.qZA()()(),t.TgZ(146,"div",26),t._UZ(147,"img",27),t.TgZ(148,"input",28),t.NdJ("change",function(n){return i.handelCUSImgInput(n.target.files)}),t.qZA()()()(),t.TgZ(149,"mat-tab",29),t.ALo(150,"translate"),t.TgZ(151,"div",5)(152,"div",6),t._UZ(153,"mat-label"),t.TgZ(154,"div",7)(155,"div",16)(156,"mat-form-field",9)(157,"mat-label"),t._uU(158),t.ALo(159,"translate"),t.qZA(),t._UZ(160,"input",30)(161,"mat-datepicker-toggle",31)(162,"mat-datepicker",null,32),t.qZA()(),t.TgZ(164,"div",16)(165,"mat-form-field",9)(166,"mat-label"),t._uU(167),t.ALo(168,"translate"),t.qZA(),t.TgZ(169,"mat-select",33),t.ALo(170,"translate"),t.TgZ(171,"mat-option",11),t._uU(172,"-"),t.qZA(),t.TgZ(173,"mat-option",11),t._uU(174),t.ALo(175,"translate"),t.qZA(),t.TgZ(176,"mat-option",11),t._uU(177),t.ALo(178,"translate"),t.qZA(),t.TgZ(179,"mat-option",11),t._uU(180),t.ALo(181,"translate"),t.qZA(),t.TgZ(182,"mat-option",11),t._uU(183),t.ALo(184,"translate"),t.qZA(),t.TgZ(185,"mat-option",11),t._uU(186),t.ALo(187,"translate"),t.qZA(),t.TgZ(188,"mat-option",11),t._uU(189),t.ALo(190,"translate"),t.qZA()()()(),t.TgZ(191,"div",16)(192,"mat-form-field",9)(193,"mat-label"),t._uU(194),t.ALo(195,"translate"),t.qZA(),t.TgZ(196,"mat-select",34),t.ALo(197,"translate"),t.TgZ(198,"mat-option",11),t._uU(199,"-"),t.qZA(),t.TgZ(200,"mat-option",11),t._uU(201),t.ALo(202,"translate"),t.qZA(),t.TgZ(203,"mat-option",11),t._uU(204),t.ALo(205,"translate"),t.qZA(),t.TgZ(206,"mat-option",11),t._uU(207),t.ALo(208,"translate"),t.qZA(),t.TgZ(209,"mat-option",11),t._uU(210),t.ALo(211,"translate"),t.qZA(),t.TgZ(212,"mat-option",11),t._uU(213),t.ALo(214,"translate"),t.qZA()()()()(),t.TgZ(215,"div",7)(216,"div",16)(217,"mat-form-field",9)(218,"mat-label"),t._uU(219),t.ALo(220,"translate"),t.qZA(),t.TgZ(221,"mat-select",35),t.ALo(222,"translate"),t.TgZ(223,"mat-option",11),t._uU(224,"-"),t.qZA(),t.TgZ(225,"mat-option",11),t._uU(226),t.ALo(227,"translate"),t.qZA(),t.TgZ(228,"mat-option",11),t._uU(229),t.ALo(230,"translate"),t.qZA(),t.TgZ(231,"mat-option",11),t._uU(232),t.ALo(233,"translate"),t.qZA(),t.TgZ(234,"mat-option",11),t._uU(235),t.ALo(236,"translate"),t.qZA(),t.TgZ(237,"mat-option",11),t._uU(238),t.ALo(239,"translate"),t.qZA()()()(),t.TgZ(240,"div",16)(241,"mat-form-field",9)(242,"mat-label"),t._uU(243),t.ALo(244,"translate"),t.qZA(),t.TgZ(245,"mat-select",36),t.ALo(246,"translate"),t.TgZ(247,"mat-option",11),t._uU(248,"-"),t.qZA(),t.TgZ(249,"mat-option",11),t._uU(250),t.ALo(251,"translate"),t.qZA(),t.TgZ(252,"mat-option",11),t._uU(253),t.ALo(254,"translate"),t.qZA(),t.TgZ(255,"mat-option",11),t._uU(256),t.ALo(257,"translate"),t.qZA(),t.TgZ(258,"mat-option",11),t._uU(259),t.ALo(260,"translate"),t.qZA(),t.TgZ(261,"mat-option",11),t._uU(262),t.ALo(263,"translate"),t.qZA()()()(),t.TgZ(264,"div",16)(265,"mat-form-field",9)(266,"mat-label"),t._uU(267),t.ALo(268,"translate"),t.qZA(),t.TgZ(269,"mat-select",37),t.ALo(270,"translate"),t.TgZ(271,"mat-option",11),t._uU(272,"-"),t.qZA(),t.TgZ(273,"mat-option",11),t._uU(274),t.ALo(275,"translate"),t.qZA(),t.TgZ(276,"mat-option",11),t._uU(277),t.ALo(278,"translate"),t.qZA(),t.TgZ(279,"mat-option",11),t._uU(280),t.ALo(281,"translate"),t.qZA(),t.TgZ(282,"mat-option",11),t._uU(283),t.ALo(284,"translate"),t.qZA(),t.TgZ(285,"mat-option",11),t._uU(286),t.ALo(287,"translate"),t.qZA()()()()()()()(),t.TgZ(288,"mat-tab",38),t.ALo(289,"translate"),t.TgZ(290,"div",5)(291,"div",6),t._UZ(292,"mat-label"),t.TgZ(293,"div",7)(294,"div",39)(295,"mat-form-field",9)(296,"mat-label"),t._uU(297),t.ALo(298,"translate"),t.qZA(),t.TgZ(299,"mat-select",40),t.ALo(300,"translate"),t.TgZ(301,"mat-option",11),t._uU(302,"-"),t.qZA(),t.TgZ(303,"mat-option",11),t._uU(304),t.ALo(305,"translate"),t.qZA(),t.TgZ(306,"mat-option",11),t._uU(307),t.ALo(308,"translate"),t.qZA(),t.TgZ(309,"mat-option",11),t._uU(310),t.ALo(311,"translate"),t.qZA(),t.TgZ(312,"mat-option",11),t._uU(313),t.ALo(314,"translate"),t.qZA(),t.TgZ(315,"mat-option",11),t._uU(316),t.ALo(317,"translate"),t.qZA()()()()()(),t.TgZ(318,"div",7)(319,"div",16)(320,"mat-form-field",9)(321,"mat-label"),t._uU(322),t.ALo(323,"translate"),t.qZA(),t.TgZ(324,"input",41),t.NdJ("change",function(n){return i.readContractValue(n)}),t.qZA()()(),t.TgZ(325,"div",16)(326,"mat-form-field",9)(327,"mat-label"),t._uU(328),t.ALo(329,"translate"),t.qZA(),t._UZ(330,"input",42),t.qZA()(),t.TgZ(331,"div",16)(332,"mat-form-field",9)(333,"mat-label"),t._uU(334),t.ALo(335,"translate"),t.qZA(),t._UZ(336,"input",43),t.qZA()()(),t.TgZ(337,"div",7)(338,"div",16)(339,"mat-form-field",9)(340,"mat-label"),t._uU(341),t.ALo(342,"translate"),t.qZA(),t._UZ(343,"input",44),t.qZA()(),t.TgZ(344,"div",16)(345,"mat-form-field",9)(346,"mat-label"),t._uU(347),t.ALo(348,"translate"),t.qZA(),t._UZ(349,"input",45),t.qZA()(),t.TgZ(350,"div",16)(351,"mat-form-field",9)(352,"mat-label"),t._uU(353),t.ALo(354,"translate"),t.qZA(),t._UZ(355,"input",46),t.qZA()()(),t.TgZ(356,"div",7)(357,"div",8)(358,"mat-form-field",9)(359,"mat-label"),t._uU(360),t.ALo(361,"translate"),t.qZA(),t.TgZ(362,"input",47),t.NdJ("change",function(n){return i.readMonthes(n)}),t.qZA()()(),t.TgZ(363,"div",8)(364,"mat-form-field",9)(365,"mat-label"),t._uU(366),t.ALo(367,"translate"),t.qZA(),t._UZ(368,"input",48),t.qZA()()(),t.TgZ(369,"div",7)(370,"div",8)(371,"mat-form-field",9)(372,"mat-label"),t._uU(373),t.ALo(374,"translate"),t.qZA(),t._UZ(375,"input",49),t.qZA()(),t.TgZ(376,"div",8)(377,"mat-form-field",9)(378,"mat-label"),t._uU(379),t.ALo(380,"translate"),t.qZA(),t._UZ(381,"input",50),t.qZA()()(),t.TgZ(382,"div",7)(383,"div",51)(384,"mat-form-field",9)(385,"mat-label"),t._uU(386),t.ALo(387,"translate"),t.qZA(),t._UZ(388,"input",52),t.qZA()()(),t.TgZ(389,"div",7)(390,"div",16)(391,"mat-form-field",9)(392,"mat-label"),t._uU(393),t.ALo(394,"translate"),t.qZA(),t._UZ(395,"input",53),t.qZA()(),t.TgZ(396,"div",16)(397,"mat-form-field",9)(398,"mat-label"),t._uU(399),t.ALo(400,"translate"),t.qZA(),t._UZ(401,"input",54),t.qZA()(),t.TgZ(402,"div",16)(403,"mat-form-field",9)(404,"mat-label"),t._uU(405),t.ALo(406,"translate"),t.qZA(),t._UZ(407,"input",55),t.qZA()()(),t.TgZ(408,"div",7)(409,"div",8)(410,"mat-form-field",9)(411,"mat-label"),t._uU(412),t.ALo(413,"translate"),t.qZA(),t._UZ(414,"input",56),t.qZA()(),t.TgZ(415,"div",8)(416,"mat-form-field",9)(417,"mat-label"),t._uU(418),t.ALo(419,"translate"),t.qZA(),t._UZ(420,"input",57),t.qZA()()(),t.TgZ(421,"div",7)(422,"div",16)(423,"mat-form-field",9)(424,"mat-label"),t._uU(425),t.ALo(426,"translate"),t.qZA(),t._UZ(427,"input",58),t.qZA()(),t.TgZ(428,"div",16)(429,"mat-form-field",9)(430,"mat-label"),t._uU(431),t.ALo(432,"translate"),t.qZA(),t._UZ(433,"input",59),t.qZA()(),t.TgZ(434,"div",16)(435,"mat-form-field",9)(436,"mat-label"),t._uU(437),t.ALo(438,"translate"),t.qZA(),t._UZ(439,"input",60),t.qZA()()(),t.TgZ(440,"div",7)(441,"div",16)(442,"mat-form-field",9)(443,"mat-label"),t._uU(444),t.ALo(445,"translate"),t.qZA(),t.TgZ(446,"input",61),t.NdJ("change",function(n){return i.readElectricity(n)}),t.qZA()()(),t.TgZ(447,"div",16)(448,"mat-form-field",9)(449,"mat-label"),t._uU(450),t.ALo(451,"translate"),t.qZA(),t.TgZ(452,"input",62),t.NdJ("change",function(n){return i.readWater(n)}),t.qZA()()(),t.TgZ(453,"div",16)(454,"mat-form-field",9)(455,"mat-label"),t._uU(456),t.ALo(457,"translate"),t.qZA(),t.TgZ(458,"input",63),t.NdJ("change",function(n){return i.readGas(n)}),t.qZA()()()()()(),t.TgZ(459,"mat-tab",64),t.ALo(460,"translate"),t.TgZ(461,"div",5)(462,"div",6),t._UZ(463,"mat-label"),t.TgZ(464,"div",7)(465,"div",8)(466,"mat-form-field",9)(467,"mat-label"),t._uU(468),t.ALo(469,"translate"),t.qZA(),t._UZ(470,"input",65),t.qZA()(),t.TgZ(471,"div",8)(472,"mat-form-field",9)(473,"mat-label"),t._uU(474),t.ALo(475,"translate"),t.qZA(),t._UZ(476,"input",66),t.qZA()()()(),t.TgZ(477,"div",7)(478,"div",16)(479,"mat-form-field",9)(480,"mat-label"),t._uU(481),t.ALo(482,"translate"),t.qZA(),t._UZ(483,"input",67),t.qZA()(),t.TgZ(484,"div",16)(485,"mat-form-field",9)(486,"mat-label"),t._uU(487),t.ALo(488,"translate"),t.qZA(),t._UZ(489,"input",68),t.qZA()(),t.TgZ(490,"div",16)(491,"mat-form-field",9)(492,"mat-label"),t._uU(493),t.ALo(494,"translate"),t.qZA(),t._UZ(495,"input",69),t.qZA()()(),t.TgZ(496,"div",7)(497,"div",16)(498,"mat-checkbox",70),t._uU(499),t.ALo(500,"translate"),t.qZA()(),t.TgZ(501,"div",16)(502,"mat-checkbox",71),t._uU(503),t.ALo(504,"translate"),t.qZA()(),t.TgZ(505,"div",16)(506,"mat-form-field",9)(507,"mat-label"),t._uU(508),t.ALo(509,"translate"),t.qZA(),t.TgZ(510,"mat-select",72),t.ALo(511,"translate"),t.TgZ(512,"mat-option",11),t._uU(513,"-"),t.qZA(),t.TgZ(514,"mat-option",11),t._uU(515),t.ALo(516,"translate"),t.qZA(),t.TgZ(517,"mat-option",11),t._uU(518),t.ALo(519,"translate"),t.qZA(),t.TgZ(520,"mat-option",11),t._uU(521),t.ALo(522,"translate"),t.qZA()()()()(),t.TgZ(523,"div",7)(524,"div",73)(525,"mat-checkbox",74),t._uU(526),t.ALo(527,"translate"),t.qZA()(),t.TgZ(528,"div",73)(529,"mat-checkbox",75),t._uU(530),t.ALo(531,"translate"),t.qZA()(),t.TgZ(532,"div",73)(533,"mat-checkbox",76),t._uU(534),t.ALo(535,"translate"),t.qZA()()()()(),t.TgZ(536,"mat-tab",77),t.ALo(537,"translate"),t.TgZ(538,"div",5)(539,"mat-checkbox",78),t._uU(540),t.ALo(541,"translate"),t.qZA(),t.TgZ(542,"mat-checkbox",79),t._uU(543),t.ALo(544,"translate"),t.qZA()()()()(),t._UZ(545,"br"),t.TgZ(546,"div",80)(547,"div",7),t.YNc(548,te,3,4,"button",81),t.qZA()()),2&e){const o=t.MAs(163);t.xp6(1),t.Q6J("ngIf",!i.unitForDisplay.id),t.xp6(1),t.Q6J("ngIf",i.unitForDisplay.id),t.xp6(1),t.hij(" ",t.lcZ(4,182,"HTML.UNIT"),""),t.xp6(2),t.Q6J("formGroup",i.form),t.xp6(1),t.Q6J("backgroundColor","primary")("color","warn"),t.xp6(1),t.s9C("label",t.lcZ(8,184,"HTML.TAB_BASIC")),t.xp6(9),t.hij(" ",t.lcZ(17,186,"HTML.BRANCH"),""),t.xp6(2),t.s9C("placeholder",t.lcZ(19,188,"HTML.BRANCH")),t.xp6(4),t.Q6J("ngForOf",i.AllBranches),t.xp6(4),t.Oqu(t.lcZ(27,190,"HTML.UnitType")),t.xp6(2),t.s9C("placeholder",t.lcZ(29,192,"HTML.UnitType")),t.xp6(4),t.Q6J("value","F"),t.xp6(1),t.Oqu(t.lcZ(34,194,"OPTIONS.Flat")),t.xp6(2),t.Q6J("value","D"),t.xp6(1),t.Oqu(t.lcZ(37,196,"OPTIONS.Duplex")),t.xp6(2),t.Q6J("value","T"),t.xp6(1),t.Oqu(t.lcZ(40,198,"OPTIONS.Studio")),t.xp6(2),t.Q6J("value","R"),t.xp6(1),t.Oqu(t.lcZ(43,200,"OPTIONS.RelativeFlat")),t.xp6(2),t.Q6J("value","V"),t.xp6(1),t.Oqu(t.lcZ(46,202,"OPTIONS.Villa")),t.xp6(2),t.Q6J("value","W"),t.xp6(1),t.Oqu(t.lcZ(49,204,"OPTIONS.Warehouse")),t.xp6(2),t.Q6J("value","S"),t.xp6(1),t.Oqu(t.lcZ(52,206,"OPTIONS.Shop")),t.xp6(2),t.Q6J("value","P"),t.xp6(1),t.Oqu(t.lcZ(55,208,"OPTIONS.Palace")),t.xp6(2),t.Q6J("value","O"),t.xp6(1),t.Oqu(t.lcZ(58,210,"OPTIONS.Office")),t.xp6(2),t.Q6J("value","H"),t.xp6(1),t.Oqu(t.lcZ(61,212,"OPTIONS.House")),t.xp6(6),t.hij(" ",t.lcZ(67,214,"HTML.BUILDING"),""),t.xp6(2),t.s9C("placeholder",t.lcZ(69,216,"HTML.BUILDING")),t.xp6(4),t.Q6J("ngForOf",i.AllBuilding),t.xp6(4),t.hij(" ",t.lcZ(77,218,"HTML.OWNER"),""),t.xp6(2),t.s9C("placeholder",t.lcZ(79,220,"HTML.OWNER")),t.xp6(4),t.Q6J("ngForOf",i.AllOwners),t.xp6(5),t.Oqu(t.lcZ(88,222,"HTML.FloorNumber")),t.xp6(6),t.Oqu(t.lcZ(94,224,"HTML.UnitNumber")),t.xp6(6),t.Oqu(t.lcZ(100,226,"HTML.FileNumber")),t.xp6(5),t.hij(" ",t.lcZ(105,228,"HTML.UnitDescription"),""),t.xp6(7),t.Oqu(t.lcZ(112,230,"HTML.UnitArea")),t.xp6(6),t.Oqu(t.lcZ(118,232,"HTML.MEASURING_UNIT")),t.xp6(2),t.s9C("placeholder",t.lcZ(120,234,"HTML.MEASURING_UNIT")),t.xp6(4),t.Q6J("value","M"),t.xp6(1),t.Oqu(t.lcZ(125,236,"OPTIONS.Meter")),t.xp6(2),t.Q6J("value","C"),t.xp6(1),t.Oqu(t.lcZ(128,238,"OPTIONS.Carat")),t.xp6(2),t.Q6J("value","A"),t.xp6(1),t.Oqu(t.lcZ(131,240,"OPTIONS.Acre")),t.xp6(2),t.Q6J("value","K"),t.xp6(1),t.Oqu(t.lcZ(134,242,"OPTIONS.KiloMeter")),t.xp6(2),t.Q6J("value","F"),t.xp6(1),t.Oqu(t.lcZ(137,244,"OPTIONS.Foot")),t.xp6(4),t.Oqu(t.lcZ(141,246,"HTML.UnitForSale")),t.xp6(4),t.Oqu(t.lcZ(145,248,"HTML.UnitForRent")),t.xp6(3),t.Q6J("src",i.defaultCusImage,t.LSH),t.xp6(2),t.s9C("label",t.lcZ(150,250,"HTML.TAB_GeneralDescription")),t.xp6(9),t.Oqu(t.lcZ(159,252,"HTML.RECIEVE_DATE")),t.xp6(2),t.Q6J("matDatepicker",o),t.xp6(1),t.Q6J("for",o),t.xp6(6),t.Oqu(t.lcZ(168,254,"HTML.HOUSING_STATUS")),t.xp6(2),t.s9C("placeholder",t.lcZ(170,256,"HTML.HOUSING_STATUS")),t.xp6(4),t.Q6J("value","E"),t.xp6(1),t.Oqu(t.lcZ(175,258,"OPTIONS.EMPTY")),t.xp6(2),t.Q6J("value","R"),t.xp6(1),t.Oqu(t.lcZ(178,260,"OPTIONS.RENTED")),t.xp6(2),t.Q6J("value","S"),t.xp6(1),t.Oqu(t.lcZ(181,262,"OPTIONS.SOLD")),t.xp6(2),t.Q6J("value","M"),t.xp6(1),t.Oqu(t.lcZ(184,264,"OPTIONS.UNDER_MAINTENANCE")),t.xp6(2),t.Q6J("value","C"),t.xp6(1),t.Oqu(t.lcZ(187,266,"OPTIONS.Closed")),t.xp6(2),t.Q6J("value","B"),t.xp6(1),t.Oqu(t.lcZ(190,268,"OPTIONS.BookedUp")),t.xp6(5),t.Oqu(t.lcZ(195,270,"HTML.UnitFacing")),t.xp6(2),t.s9C("placeholder",t.lcZ(197,272,"HTML.UnitFacing")),t.xp6(4),t.Q6J("value","C"),t.xp6(1),t.Oqu(t.lcZ(202,274,"OPTIONS.Corner")),t.xp6(2),t.Q6J("value","F"),t.xp6(1),t.Oqu(t.lcZ(205,276,"OPTIONS.Front")),t.xp6(2),t.Q6J("value","I"),t.xp6(1),t.Oqu(t.lcZ(208,278,"OPTIONS.Internal")),t.xp6(2),t.Q6J("value","T"),t.xp6(1),t.Oqu(t.lcZ(211,280,"OPTIONS.ThreeStreets")),t.xp6(2),t.Q6J("value","D"),t.xp6(1),t.Oqu(t.lcZ(214,282,"OPTIONS.FourStreets")),t.xp6(6),t.Oqu(t.lcZ(220,284,"HTML.CONSTRUCTION_STATUS")),t.xp6(2),t.s9C("placeholder",t.lcZ(222,286,"HTML.CONSTRUCTION_STATUS")),t.xp6(4),t.Q6J("value","E"),t.xp6(1),t.Oqu(t.lcZ(227,288,"OPTIONS.EXCELLENT")),t.xp6(2),t.Q6J("value","V"),t.xp6(1),t.Oqu(t.lcZ(230,290,"OPTIONS.VERY_GOOD")),t.xp6(2),t.Q6J("value","G"),t.xp6(1),t.Oqu(t.lcZ(233,292,"OPTIONS.GOOD")),t.xp6(2),t.Q6J("value","A"),t.xp6(1),t.Oqu(t.lcZ(236,294,"OPTIONS.ACCEPTED")),t.xp6(2),t.Q6J("value","B"),t.xp6(1),t.Oqu(t.lcZ(239,296,"OPTIONS.BAD")),t.xp6(5),t.Oqu(t.lcZ(244,298,"HTML.PROPERTY_USAGE_TYPE")),t.xp6(2),t.s9C("placeholder",t.lcZ(246,300,"HTML.PROPERTY_USAGE_TYPE")),t.xp6(4),t.Q6J("value","F"),t.xp6(1),t.Oqu(t.lcZ(251,302,"OPTIONS.Family_Residential")),t.xp6(2),t.Q6J("value","P"),t.xp6(1),t.Oqu(t.lcZ(254,304,"OPTIONS.Personel_Residential")),t.xp6(2),t.Q6J("value","A"),t.xp6(1),t.Oqu(t.lcZ(257,306,"OPTIONS.Administrative")),t.xp6(2),t.Q6J("value","C"),t.xp6(1),t.Oqu(t.lcZ(260,308,"OPTIONS.Commercial")),t.xp6(2),t.Q6J("value","M"),t.xp6(1),t.Oqu(t.lcZ(263,310,"OPTIONS.Mix")),t.xp6(5),t.Oqu(t.lcZ(268,312,"HTML.PROPERTY_TYPE")),t.xp6(2),t.s9C("placeholder",t.lcZ(270,314,"HTML.PROPERTY_TYPE")),t.xp6(4),t.Q6J("value","B"),t.xp6(1),t.Oqu(t.lcZ(275,316,"OPTIONS.BUILDING")),t.xp6(2),t.Q6J("value","P"),t.xp6(1),t.Oqu(t.lcZ(278,318,"OPTIONS.PLAZA")),t.xp6(2),t.Q6J("value","V"),t.xp6(1),t.Oqu(t.lcZ(281,320,"OPTIONS.Villa")),t.xp6(2),t.Q6J("value","W"),t.xp6(1),t.Oqu(t.lcZ(284,322,"OPTIONS.Warehouse")),t.xp6(2),t.Q6J("value","H"),t.xp6(1),t.Oqu(t.lcZ(287,324,"OPTIONS.House")),t.xp6(2),t.s9C("label",t.lcZ(289,326,"HTML.TAB_RentValues")),t.xp6(9),t.Oqu(t.lcZ(298,328,"HTML.RentalCycle")),t.xp6(2),t.s9C("placeholder",t.lcZ(300,330,"HTML.RentalCycle")),t.xp6(4),t.Q6J("value","D"),t.xp6(1),t.Oqu(t.lcZ(305,332,"OPTIONS.Daily")),t.xp6(2),t.Q6J("value","M"),t.xp6(1),t.Oqu(t.lcZ(308,334,"OPTIONS.Monthly")),t.xp6(2),t.Q6J("value","Q"),t.xp6(1),t.Oqu(t.lcZ(311,336,"OPTIONS.Every3Monthes")),t.xp6(2),t.Q6J("value","H"),t.xp6(1),t.Oqu(t.lcZ(314,338,"OPTIONS.Every6Monthes")),t.xp6(2),t.Q6J("value","Y"),t.xp6(1),t.Oqu(t.lcZ(317,340,"OPTIONS.Yearly")),t.xp6(6),t.Oqu(t.lcZ(323,342,"HTML.ContractValue")),t.xp6(6),t.Oqu(t.lcZ(329,344,"HTML.InsuranceValue")),t.xp6(6),t.Oqu(t.lcZ(335,346,"HTML.SeekingValue")),t.xp6(7),t.Oqu(t.lcZ(342,348,"HTML.MonthlyRentValue")),t.xp6(6),t.Oqu(t.lcZ(348,350,"HTML.WeeklyRentValue")),t.xp6(6),t.Oqu(t.lcZ(354,352,"HTML.DailyRentValue")),t.xp6(7),t.Oqu(t.lcZ(361,354,"HTML.PayInstallmentEveryMonths")),t.xp6(6),t.Oqu(t.lcZ(367,356,"HTML.NumberOfInstallments")),t.xp6(7),t.Oqu(t.lcZ(374,358,"HTML.MonthlyExpense")),t.xp6(6),t.Oqu(t.lcZ(380,360,"HTML.OtherValue")),t.xp6(7),t.Oqu(t.lcZ(387,362,"HTML.ExpenseDesc")),t.xp6(7),t.Oqu(t.lcZ(394,364,"HTML.MonthlyElectricityFee")),t.xp6(6),t.Oqu(t.lcZ(400,366,"HTML.MonthlyWaterFee")),t.xp6(6),t.Oqu(t.lcZ(406,368,"HTML.MonthlyGasFee")),t.xp6(7),t.Oqu(t.lcZ(413,370,"HTML.NumberOfParkingLots")),t.xp6(6),t.Oqu(t.lcZ(419,372,"HTML.MonthlyParkingFee")),t.xp6(7),t.Oqu(t.lcZ(426,374,"HTML.LastElectricityReading")),t.xp6(6),t.Oqu(t.lcZ(432,376,"HTML.LastWaterReading")),t.xp6(6),t.Oqu(t.lcZ(438,378,"HTML.LastGasReading")),t.xp6(7),t.Oqu(t.lcZ(445,380,"HTML.ElectricityCounterNumber")),t.xp6(6),t.Oqu(t.lcZ(451,382,"HTML.WaterCounterNumber")),t.xp6(6),t.Oqu(t.lcZ(457,384,"HTML.GasCounterNumber")),t.xp6(3),t.s9C("label",t.lcZ(460,386,"HTML.TAB_UnitDescription")),t.xp6(9),t.Oqu(t.lcZ(469,388,"HTML.NumberOfBedRooms")),t.xp6(6),t.Oqu(t.lcZ(475,390,"HTML.NumberOfBathRooms")),t.xp6(7),t.Oqu(t.lcZ(482,392,"HTML.UnitKitchen")),t.xp6(6),t.Oqu(t.lcZ(488,394,"HTML.UnitHall")),t.xp6(6),t.Oqu(t.lcZ(494,396,"HTML.UnitBalacona")),t.xp6(6),t.Oqu(t.lcZ(500,398,"HTML.IsKitchenCabinets")),t.xp6(4),t.Oqu(t.lcZ(504,400,"HTML.IsFurnitured")),t.xp6(5),t.Oqu(t.lcZ(509,402,"HTML.FurnitureStatus")),t.xp6(2),t.s9C("placeholder",t.lcZ(511,404,"HTML.FurnitureStatus")),t.xp6(4),t.Q6J("value","N"),t.xp6(1),t.Oqu(t.lcZ(516,406,"OPTIONS.NEW")),t.xp6(2),t.Q6J("value","U"),t.xp6(1),t.Oqu(t.lcZ(519,408,"OPTIONS.USED")),t.xp6(2),t.Q6J("value","F"),t.xp6(1),t.Oqu(t.lcZ(522,410,"OPTIONS.NotFound")),t.xp6(5),t.Oqu(t.lcZ(527,412,"HTML.UNTUnitElevator")),t.xp6(4),t.Oqu(t.lcZ(531,414,"HTML.UNTUnitAirCondition")),t.xp6(4),t.Oqu(t.lcZ(535,416,"HTML.UNTUnitMainRoad")),t.xp6(2),t.s9C("label",t.lcZ(537,418,"HTML.TAB_SETTINGS")),t.xp6(4),t.Oqu(t.lcZ(541,420,"HTML.ACTIVE")),t.xp6(3),t.Oqu(t.lcZ(544,422,"HTML.BLOCKED")),t.xp6(5),t.Q6J("ngIf",i.can("change_units"))}},dependencies:[s._Y,s.Fj,s.JJ,s.JL,c.sg,c.O5,s.sg,s.u,s.x0,u.xw,u.SQ,u.Wh,u.yH,tt.ey,Z.lW,st.oG,A.Mq,A.hl,A.nW,p.ZT,p.uh,p.H8,y.Nt,g.KE,g.hX,g.R9,et.gD,W.uX,W.SP,h.X$],styles:[".user-form .form-field-outer{width:480px}.user-form .mat-mdc-radio-button{margin-right:12px}\n"],encapsulation:2});var ee=r(529),ie=r(589),ae=r(9045),oe=r(3609),ne=r(1596);const se=function(a){return["/contracts/tenant-add/",a]};function re(a,e){if(1&a){const i=t.EpF();t.TgZ(0,"a",11),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.closeForCallingTenant())}),t.ALo(1,"translate"),t.TgZ(2,"mat-icon"),t._uU(3,"person"),t.qZA()()}if(2&a){const i=t.oxw();t.s9C("matTooltip",t.lcZ(1,2,"ADMIN_NAV.TENANT")),t.Q6J("routerLink",t.VKq(4,se,i.data.customerId))}}class H{constructor(e,i,o,n,l){this.dialogRef=e,this.codesService=i,this.snackBar=o,this.data=n,this.fb=l,this.curCOMId=b.N.comid,this.account=new C.n,this.currency_const=(new d.I).Currency}ngOnInit(){this.form=this.fb.group({id:null,UNOTitle:null,UNOText:null,UNOActive:null,RowConfirm:0,RowDelete:0,RowStatus:0,UNOCode:null}),this.data.dataRow?(this.action="Patch",this.form.patchValue(this.data.dataRow)):this.action="Post"}onSave(){this.form.valid&&this.dialogRef.close({event:this.action,data:this.form.value})}close(){this.action="Cancel",this.dialogRef.close({event:this.action})}closeForCallingTenant(){this.action="CallTenant",this.dialogRef.close({event:this.action})}}function le(a,e){if(1&a&&(t.TgZ(0,"div",13),t._uU(1),t.qZA()),2&a){const i=t.oxw().$implicit;t.xp6(1),t.Oqu(i.branch_ArbName)}}function ue(a,e){if(1&a&&(t.TgZ(0,"div",10),t._uU(1),t.qZA()),2&a){const i=t.oxw().$implicit;t.xp6(1),t.Oqu(i.branch_ArbName)}}function ce(a,e){if(1&a&&(t.TgZ(0,"div",13),t._uU(1),t.qZA()),2&a){const i=t.oxw().$implicit;t.xp6(1),t.Oqu(i.build_Name)}}function pe(a,e){if(1&a&&(t.TgZ(0,"div",10),t._uU(1),t.qZA()),2&a){const i=t.oxw().$implicit;t.xp6(1),t.Oqu(i.build_Name)}}function me(a,e){if(1&a&&(t.TgZ(0,"div",13),t._uU(1),t.qZA()),2&a){const i=t.oxw().$implicit;t.xp6(1),t.Oqu(i.unitNumber)}}function de(a,e){if(1&a&&(t.TgZ(0,"div",10),t._uU(1),t.qZA()),2&a){const i=t.oxw().$implicit;t.xp6(1),t.Oqu(i.unitNumber)}}function ge(a,e){if(1&a&&(t.TgZ(0,"div",13),t._uU(1),t.qZA()),2&a){const i=t.oxw().$implicit;t.xp6(1),t.hij(" ",i.customer_Name," ")}}function he(a,e){if(1&a&&(t.TgZ(0,"div",10),t._uU(1),t.qZA()),2&a){const i=t.oxw().$implicit;t.xp6(1),t.hij(" ",i.customer_Name," ")}}function Te(a,e){if(1&a&&(t.TgZ(0,"div",13),t._uU(1),t.qZA()),2&a){const i=t.oxw().$implicit;t.xp6(1),t.hij(" ",i.UNODate," ")}}function Ue(a,e){if(1&a&&(t.TgZ(0,"div",10),t._uU(1),t.qZA()),2&a){const i=t.oxw().$implicit;t.xp6(1),t.hij(" ",i.UNODate," ")}}function fe(a,e){if(1&a){const i=t.EpF();t.TgZ(0,"div",7),t.YNc(1,le,2,1,"div",8),t.YNc(2,ue,2,1,"div",9),t.YNc(3,ce,2,1,"div",8),t.YNc(4,pe,2,1,"div",9),t.YNc(5,me,2,1,"div",8),t.YNc(6,de,2,1,"div",9),t.YNc(7,ge,2,1,"div",8),t.YNc(8,he,2,1,"div",9),t.YNc(9,Te,2,1,"div",8),t.YNc(10,Ue,2,1,"div",9),t.TgZ(11,"div",10)(12,"div",11)(13,"button",12),t.NdJ("click",function(){const l=t.CHM(i).$implicit,m=t.oxw();return t.KtG(m.openNotificationDialog(l))}),t.ALo(14,"translate"),t.TgZ(15,"mat-icon"),t._uU(16,"remove_red_eye"),t.qZA()()()()()}if(2&a){const i=e.$implicit;t.xp6(1),t.Q6J("ngIf","T"==i.UNOActive),t.xp6(1),t.Q6J("ngIf","T"!=i.UNOActive),t.xp6(1),t.Q6J("ngIf","T"==i.UNOActive),t.xp6(1),t.Q6J("ngIf","T"!=i.UNOActive),t.xp6(1),t.Q6J("ngIf","T"==i.UNOActive),t.xp6(1),t.Q6J("ngIf","T"!=i.UNOActive),t.xp6(1),t.Q6J("ngIf","T"==i.UNOActive),t.xp6(1),t.Q6J("ngIf","T"!=i.UNOActive),t.xp6(1),t.Q6J("ngIf","T"==i.UNOActive),t.xp6(1),t.Q6J("ngIf","T"!=i.UNOActive),t.xp6(3),t.s9C("matTooltip",t.lcZ(14,11,"BTN.View"))}}function Ze(a,e){if(1&a){const i=t.EpF();t.TgZ(0,"div",14)(1,"div",15)(2,"mat-card",16)(3,"pagination-controls",17),t.NdJ("pageChange",function(n){t.CHM(i);const l=t.oxw();return t.KtG(l.onPageChanged(n))}),t.qZA()()()()}}function _e(a,e){1&a&&(t.TgZ(0,"div",18),t._UZ(1,"mat-spinner",19),t.qZA())}H.\u0275fac=function(e){return new(e||H)(t.Y36(p.so),t.Y36(K.d),t.Y36(x.ux),t.Y36(p.WI),t.Y36(s.QS))},H.\u0275cmp=t.Xpm({type:H,selectors:[["app-notification-dialog"]],decls:18,vars:9,consts:[["mat-dialog-title",""],[1,"user-form",3,"formGroup"],["mat-dialog-content",""],["fxLayout","row wrap"],["fxLayout","row","fxLayoutAlign","space-between center",1,"w-100"],["fxFlex","100","fxFlex.gt-sm","100",1,"px-1"],["appearance","outline",1,"w-100"],["matInput","","formControlName","UNOText","rows","5"],["mat-dialog-actions",""],["mat-mini-fab","","color","primary",3,"routerLink","matTooltip","click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click"],["mat-mini-fab","","color","primary",3,"routerLink","matTooltip","click"]],template:function(e,i){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.qZA(),t.TgZ(2,"form",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"mat-form-field",6)(8,"mat-label"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t._UZ(11,"textarea",7),t.qZA()()()()(),t.TgZ(12,"div",8)(13,"div",4),t.YNc(14,re,4,6,"a",9),t.TgZ(15,"button",10),t.NdJ("click",function(){return i.close()}),t._uU(16),t.ALo(17,"translate"),t.qZA()()()()),2&e&&(t.xp6(1),t.Oqu(i.data.dataRow.UNOTitle),t.xp6(1),t.Q6J("formGroup",i.form),t.xp6(7),t.Oqu(t.lcZ(10,5,"HTML.Subject")),t.xp6(5),t.Q6J("ngIf",i.data.periorty>0),t.xp6(2),t.Oqu(t.lcZ(17,7,"BTN.CANCEL")))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,c.O5,f.rH,s.sg,s.u,u.xw,u.Wh,u.yH,Z.lW,Z.Tq,p.uh,p.xY,p.H8,M.Hw,y.Nt,g.KE,g.hX,B.gM,h.X$],styles:[".user-form[_ngcontent-%COMP%]   .form-field-outer[_ngcontent-%COMP%]{width:680px}.user-form[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]{margin-right:12px}"]});const Ne=function(a,e){return{itemsPerPage:a,currentPage:e}};class J{constructor(e,i,o,n,l,m,T,U){this.appSettings=e,this.dialog=i,this.unitService=o,this.router=n,this.global=l,this.localStore=m,this.translateService=T,this.snackBar=U,this.notificationsAll=[],this.curCOMId=b.N.comid,this.account=new C.n,this.count=10,this.settings=this.appSettings.settings}ngOnInit(){this.userSUb=this.global.user.subscribe(e=>{this.account=e}),this.localStore.getItem("token")&&this.localStore.getItem("account")?(this.global.me=JSON.parse(this.localStore.getItem("account")),this.curUserData=JSON.parse(this.localStore.getItem("account")),this.prepareMsgLanguage(),this.getNotifications()):this.router.navigate(["/sign-in"])}getNotifications(){this.curUserData.is_superuser?this.unitService.getAllNewNotification(this.curCOMId,this.account.periorty).subscribe(e=>this.notificationsAll=e):"T"==this.curUserData.is_employee?this.unitService.getNotificationPerEmployee(this.curCOMId,this.account.periorty,this.curUserData.id).subscribe(e=>this.notificationsAll=e):"F"==this.curUserData.is_employee&&this.unitService.getNotificationForTenant(this.curCOMId,this.account.periorty,this.account.customer_KeyField).subscribe(e=>this.notificationsAll=e)}openNotificationDialog(e){console.log("openNotificationDialog"),this.unitService.editNotificationActive(e,"F",this.curUserData.id).subscribe(o=>{console.log("----response--::"+o)}),console.log("-----Data:: "+e),this.dialog.open(H,{data:{dataRow:e,periorty:this.account.periorty,customerId:e.customer_KeyField},panelClass:["theme-dialog"],autoFocus:!1,direction:this.settings.rtl?"rtl":"ltr"}).afterClosed().subscribe(o=>{"Cancel"==o.event&&(console.log("=====Close Dialog for notification------"),this.router.navigate(["/units/notifications"]).then(()=>{window.location.reload()}))})}removeNotifiation(e){this.dialog.open(it.$,{maxWidth:"400px",data:{title:this.deletedTitleMsg,message:this.askToDeletedMsg}}).afterClosed().subscribe(o=>{})}onPageChanged(e){this.page=e,this.getNotifications(),window.scrollTo(0,0)}gotoNewNotification(){}prepareMsgLanguage(){this.translateService.get("MESSAGE.RETRIEVE_ERROR").subscribe(e=>{this.errorRetrieveMsg=e}),this.translateService.get("MESSAGE.SURE_DELETE").subscribe(e=>{this.askToDeletedMsg=e}),this.translateService.get("MESSAGE.DELETED").subscribe(e=>{this.deletedMsg=e}),this.translateService.get("MESSAGE.ConfirmAction").subscribe(e=>{this.deletedTitleMsg=e})}}J.\u0275fac=function(e){return new(e||J)(t.Y36(Y.d),t.Y36(p.uw),t.Y36(N.X),t.Y36(f.F0),t.Y36(q.U),t.Y36(L.C),t.Y36(h.sK),t.Y36(x.ux))},J.\u0275cmp=t.Xpm({type:J,selectors:[["app-notification-list"]],features:[t._Bn([N.X])],decls:33,vars:27,consts:[["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"w-100","p-3"],[1,"mat-mdc-table","admin-table"],[1,"mat-mdc-header-row"],[1,"mat-mdc-header-cell"],["class","mat-mdc-row",4,"ngFor","ngForOf"],["fxLayout","row wrap",4,"ngIf"],["fxLayout","column","fxLayoutAlign","center center","class","user-spinner",4,"ngIf"],[1,"mat-mdc-row"],["class","mat-mdc-cell primary-text notifbold",4,"ngIf"],["class","mat-mdc-cell",4,"ngIf"],[1,"mat-mdc-cell"],[1,"p-2","actions"],["mat-mini-fab","","color","warn",3,"matTooltip","click"],[1,"mat-mdc-cell","primary-text","notifbold"],["fxLayout","row wrap"],["fxFlex","100",1,"p-2"],[1,"text-center"],["autoHide","true","maxSize","5",1,"product-pagination",3,"pageChange"],["fxLayout","column","fxLayoutAlign","center center",1,"user-spinner"],["color","primary"]],template:function(e,i){1&e&&(t.TgZ(0,"mat-card")(1,"div",0)(2,"h2"),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t._UZ(5,"mat-divider"),t.TgZ(6,"div",1)(7,"div",2)(8,"div",3)(9,"h2"),t._uU(10),t.ALo(11,"translate"),t.qZA()(),t.TgZ(12,"div",3)(13,"h2"),t._uU(14),t.ALo(15,"translate"),t.qZA()(),t.TgZ(16,"div",3)(17,"h2"),t._uU(18),t.ALo(19,"translate"),t.qZA()(),t.TgZ(20,"div",3)(21,"h2"),t._uU(22),t.ALo(23,"translate"),t.qZA()(),t.TgZ(24,"div",3)(25,"h2"),t._uU(26),t.ALo(27,"translate"),t.qZA()(),t._UZ(28,"div",3),t.qZA(),t.YNc(29,fe,17,13,"div",4),t.ALo(30,"paginate"),t.qZA()(),t.YNc(31,Ze,4,0,"div",5),t.YNc(32,_e,2,0,"div",6)),2&e&&(t.xp6(3),t.Oqu(t.lcZ(4,9,"HTML.Notifications")),t.xp6(7),t.hij(" ",t.lcZ(11,11,"HTML.BRANCH")," "),t.xp6(4),t.hij(" ",t.lcZ(15,13,"HTML.BUILDING")," "),t.xp6(4),t.hij(" ",t.lcZ(19,15,"HTML.UnitNumber")," "),t.xp6(4),t.hij(" ",t.lcZ(23,17,"HTML.TENANT")," "),t.xp6(4),t.hij(" ",t.lcZ(27,19,"HTML.Date")," "),t.xp6(3),t.Q6J("ngForOf",t.xi3(30,21,i.notificationsAll,t.WLB(24,Ne,i.count,i.page))),t.xp6(2),t.Q6J("ngIf",i.notificationsAll),t.xp6(1),t.Q6J("ngIf",!i.notificationsAll))},dependencies:[_.LS,c.sg,c.O5,u.xw,u.Wh,u.yH,Z.nh,D.a8,M.Hw,E.d,G.Ou,B.gM,_._s,h.X$],styles:[".notifbold{font-weight:700}\n"],encapsulation:2});var Ae=r(6166),ve=r(4159),be=r.n(ve);function xe(a,e){if(1&a&&(t.TgZ(0,"div",17)(1,"div",18),t._uU(2),t.qZA(),t.TgZ(3,"div",18),t._uU(4),t.qZA(),t.TgZ(5,"div",18),t._uU(6),t.qZA(),t.TgZ(7,"div",18),t._uU(8),t.qZA(),t.TgZ(9,"div",18),t._uU(10),t.ALo(11,"date"),t.qZA(),t.TgZ(12,"div",18),t._uU(13),t.qZA(),t.TgZ(14,"div",18),t._uU(15),t.qZA(),t.TgZ(16,"div",18),t._uU(17),t.qZA(),t._UZ(18,"div",18),t.qZA()),2&a){const i=e.$implicit;t.xp6(2),t.Oqu(i.branch_ArbName),t.xp6(2),t.Oqu(i.build_Name),t.xp6(2),t.Oqu(i.UnitCode),t.xp6(2),t.hij(" ",i.customer_Name," "),t.xp6(2),t.hij(" ",t.xi3(11,8,i.INSDueDate,"yyyy-MM-dd"),""),t.xp6(3),t.hij(" ",i.INSValue," "),t.xp6(2),t.hij(" ",i.INSPayedValue," "),t.xp6(2),t.hij(" ",i.INSValue-i.INSPayedValue," ")}}function Ce(a,e){if(1&a){const i=t.EpF();t.TgZ(0,"div",19)(1,"div",20)(2,"mat-card",9)(3,"pagination-controls",21),t.NdJ("pageChange",function(n){t.CHM(i);const l=t.oxw();return t.KtG(l.onPageChanged(n))}),t.qZA()()()()}}function Le(a,e){1&a&&(t.TgZ(0,"div",22),t._UZ(1,"mat-spinner",23),t.qZA())}const ye=function(a,e){return{itemsPerPage:a,currentPage:e}};class Q{constructor(e,i,o,n,l,m,T,U,v,O){this.appSettings=e,this.activatedRoute=i,this.dialog=o,this.contractService=n,this.router=l,this.global=m,this.localStore=T,this.translateService=U,this.snackBar=v,this.fb=O,this.installmentAll=[],this.curCOMId=b.N.comid,this.account=new C.n,this.count=6,this.settings=this.appSettings.settings}ngOnInit(){this.todayDate=this.formatDate(),this.dataForm=this.fb.group({noOfDays:1}),this.noOfDays=1,this.securityForApp=(new d.$).getSecurityType(),this.userSUb=this.global.user.subscribe(e=>{this.account=e}),this.localStore.getItem("token")&&this.localStore.getItem("account")?(this.global.me=JSON.parse(this.localStore.getItem("account")),this.curUserData=JSON.parse(this.localStore.getItem("account")),this.prepareMsgLanguage(),this.sub=this.activatedRoute.params.subscribe(e=>{e.id&&(this.buildingID=+e.id,console.log("=====this.buildingID:: "+this.buildingID),this.getInstallments())})):this.router.navigate(["/sign-in"])}formatDate(){const e=new Date;let i=""+(e.getMonth()+1),o=""+e.getDate();const n=e.getFullYear();return i.length<2&&(i="0"+i),o.length<2&&(o="0"+o),console.log([n,i,o].join("-")),[n,i,o].join("-")}getInstallments(){this.installmentAll=null,this.curUserData.periorty>0&&this.contractService.getInstallmentsForCustomerDebt(this.curCOMId,this.account.periorty,this.buildingID,this.noOfDays,this.formatDate()).subscribe(e=>this.installmentAll=e)}removeContract(e){this.dialog.open(it.$,{maxWidth:"400px",data:{title:this.deletedTitleMsg,message:this.askToDeletedMsg}}).afterClosed().subscribe(o=>{o&&this.contractService.deleteContract(e).subscribe(n=>this.getInstallments())})}onPrint(){}onRetrieve(){this.noOfDays=this.dataForm.value.noOfDays,this.getInstallments()}downloadPDF(){var e=document.getElementById("contentToPDF");be()(e).then(i=>{var l=208*i.height/i.width;const T=i.toDataURL("image/png");let U=new Ae.ZP("p","mm","a4");U.addImage(T,"PNG",0,0,208,l),U.save("CustomerDebt_Pdf.pdf")})}contractInstallments(e){}onPageChanged(e){this.page=e,this.getInstallments(),window.scrollTo(0,0)}gotoNewContract(){this.router.navigate(["/contracts/contract-add/"])}prepareMsgLanguage(){this.translateService.get("MESSAGE.RETRIEVE_ERROR").subscribe(e=>{this.errorRetrieveMsg=e}),this.translateService.get("MESSAGE.SURE_DELETE").subscribe(e=>{this.askToDeletedMsg=e}),this.translateService.get("MESSAGE.DELETED").subscribe(e=>{this.deletedMsg=e}),this.translateService.get("MESSAGE.ConfirmAction").subscribe(e=>{this.deletedTitleMsg=e})}}Q.\u0275fac=function(e){return new(e||Q)(t.Y36(Y.d),t.Y36(f.gz),t.Y36(p.uw),t.Y36($.W),t.Y36(f.F0),t.Y36(q.U),t.Y36(L.C),t.Y36(h.sK),t.Y36(x.ux),t.Y36(s.QS))},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["app-customerdebt-list"]],decls:70,vars:52,consts:[["fxLayout","row","fxLayoutAlign","space-between center",1,"p-2"],["fxLayout","row","fxLayoutAlign","space-between center"],["autocomplete","off",3,"formGroup"],["matInput","","formControlName","noOfDays"],["mat-dialog-actions",""],["fxLayout","row","fxLayoutAlign","space-between center",1,"w-100"],["mat-raised-button","","color","primary",3,"click"],["id","contentToPDF"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"w-100","p-3"],[1,"text-center"],["alt","",1,"logotipo",3,"src"],[1,"mat-mdc-table","admin-table"],[1,"mat-mdc-header-row"],[1,"mat-mdc-header-cell"],["class","mat-mdc-row",4,"ngFor","ngForOf"],["fxLayout","row wrap",4,"ngIf"],["fxLayout","column","fxLayoutAlign","center center","class","user-spinner",4,"ngIf"],[1,"mat-mdc-row"],[1,"mat-mdc-cell"],["fxLayout","row wrap"],["fxFlex","100",1,"p-2"],["autoHide","true","maxSize","5",1,"product-pagination",3,"pageChange"],["fxLayout","column","fxLayoutAlign","center center",1,"user-spinner"],["color","primary"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"form",2)(3,"mat-form-field")(4,"mat-label"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._UZ(7,"input",3),t.qZA()()()(),t.TgZ(8,"div",4)(9,"div",5)(10,"button",6),t.NdJ("click",function(){return i.onRetrieve()}),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"button",6),t.NdJ("click",function(){return i.downloadPDF()}),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"button",6),t.NdJ("click",function(){return i.onPrint()}),t.TgZ(17,"span"),t._uU(18),t.ALo(19,"translate"),t.qZA()()()(),t._UZ(20,"mat-divider"),t.TgZ(21,"mat-card",7)(22,"div",8)(23,"h2"),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"h4"),t._uU(27),t.qZA()(),t.TgZ(28,"div",9),t._UZ(29,"img",10),t.qZA(),t._UZ(30,"mat-divider"),t.TgZ(31,"div",11)(32,"div",12)(33,"div",13)(34,"h3"),t._uU(35),t.ALo(36,"translate"),t.qZA()(),t.TgZ(37,"div",13)(38,"h3"),t._uU(39),t.ALo(40,"translate"),t.qZA()(),t.TgZ(41,"div",13)(42,"h3"),t._uU(43),t.ALo(44,"translate"),t.qZA()(),t.TgZ(45,"div",13)(46,"h3"),t._uU(47),t.ALo(48,"translate"),t.qZA()(),t.TgZ(49,"div",13)(50,"h3"),t._uU(51),t.ALo(52,"translate"),t.qZA()(),t.TgZ(53,"div",13)(54,"h3"),t._uU(55),t.ALo(56,"translate"),t.qZA()(),t.TgZ(57,"div",13)(58,"h3"),t._uU(59),t.ALo(60,"translate"),t.qZA()(),t.TgZ(61,"div",13)(62,"h3"),t._uU(63),t.ALo(64,"translate"),t.qZA()(),t._UZ(65,"div",13),t.qZA(),t.YNc(66,xe,19,11,"div",14),t.ALo(67,"paginate"),t.qZA()(),t.YNc(68,Ce,4,0,"div",15),t.YNc(69,Le,2,0,"div",16)),2&e&&(t.xp6(2),t.Q6J("formGroup",i.dataForm),t.xp6(3),t.Oqu(t.lcZ(6,20,"HTML.CustomerDebt_NoOfDays")),t.xp6(6),t.Oqu(t.lcZ(12,22,"BTN.Retrieve")),t.xp6(3),t.Oqu(t.lcZ(15,24,"BTN.DownloadPDF")),t.xp6(4),t.Oqu(t.lcZ(19,26,"BTN.Print")),t.xp6(6),t.Oqu(t.lcZ(25,28,"HTML.CUSTOMERDEBT")),t.xp6(3),t.AsE(" \u0644\u0645\u062f\u0629 ",i.noOfDays," \u064a\u0648\u0645 \u0645\u0646 \u062a\u0627\u0631\u064a\u062e ",i.todayDate," "),t.xp6(2),t.Q6J("src","assets/images/logo/logo.png",t.LSH),t.xp6(6),t.hij(" ",t.lcZ(36,30,"HTML.BRANCH")," "),t.xp6(4),t.hij(" ",t.lcZ(40,32,"HTML.BUILDING")," "),t.xp6(4),t.hij(" ",t.lcZ(44,34,"HTML.UnitNumber")," "),t.xp6(4),t.hij(" ",t.lcZ(48,36,"HTML.TENANT")," "),t.xp6(4),t.hij(" ",t.lcZ(52,38,"HTML.DueDate")," "),t.xp6(4),t.hij(" ",t.lcZ(56,40,"HTML.Value")," "),t.xp6(4),t.hij(" ",t.lcZ(60,42,"HTML.ValuePayed")," "),t.xp6(4),t.hij(" ",t.lcZ(64,44,"HTML.Remainder")," "),t.xp6(3),t.Q6J("ngForOf",t.xi3(67,46,i.installmentAll,t.WLB(49,ye,i.count,i.page))),t.xp6(2),t.Q6J("ngIf",i.installmentAll),t.xp6(1),t.Q6J("ngIf",!i.installmentAll))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,_.LS,c.sg,c.O5,s.sg,s.u,u.xw,u.Wh,u.yH,Z.lW,D.a8,p.H8,y.Nt,g.KE,g.hX,E.d,G.Ou,_._s,c.uU,h.X$],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], p[_ngcontent-%COMP%], img[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%]{font-size:18pt;font-weight:500;margin-bottom:.5cm}h2[_ngcontent-%COMP%]{font-size:16pt;font-weight:500}p[_ngcontent-%COMP%]{font-size:12pt}.items-group[_ngcontent-%COMP%]{border-style:solid;border-color:#000;border-width:1pt 1pt 1pt 1pt;border-radius:5pt;padding:3pt;margin:9pt 0}.logotipo[_ngcontent-%COMP%]{width:5cm;height:3cm}.label[_ngcontent-%COMP%]{font-weight:500}.disclaimer[_ngcontent-%COMP%], .address[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:10pt}.signature-field[_ngcontent-%COMP%]{padding-bottom:24pt;border-bottom:solid black 1pt}"]});const lt=[{path:"",redirectTo:"building",pathMatch:"full"},{path:"building",component:w,pathMatch:"full",data:{breadcrumb:"Building"}},{path:"building-add/:id",component:I,data:{breadcrumb:"EditBuilding"}},{path:"building-add",component:I,data:{breadcrumb:"AddBuilding"}},{path:"unit",component:R,pathMatch:"full",data:{breadcrumb:"Units"}},{path:"unit-add/:id",component:S,data:{breadcrumb:"EditUnit"}},{path:"unit-add",component:S,data:{breadcrumb:"AddUnit"}},{path:"notifications",component:J,pathMatch:"full",data:{breadcrumb:"Notification"}},{path:"customerdebt-rpt/:id",component:Q,data:{breadcrumb:"CustomerDebtRPT"}}];class F{}F.\u0275fac=function(e){return new(e||F)},F.\u0275mod=t.oAB({type:F}),F.\u0275inj=t.cJS({imports:[ee.JF,s.u5,_.JX,ae.D,c.ez,f.Bz.forChild(lt),s.UX,ie.m,_.JX,oe.kz,ne.Y$]})}}]);