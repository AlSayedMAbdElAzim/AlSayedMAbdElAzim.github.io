"use strict";(self.webpackChunkemporium=self.webpackChunkemporium||[]).push([[334],{7334:(k,A,s)=>{s.r(A),s.d(A,{EmployeesModule:()=>Z,routes:()=>H});var u=s(6895),l=s(3071),c=s(5412),r=s(4006);class U{}var g=s(2340),x=s(5521),e=s(4650),d=s(6002),y=s(7009),_=s(1576),q=s(3238),C=s(4859),R=s(6709),L=s(9602),E=s(7392),N=s(4144),f=s(9549),w=s(1948),F=s(4385),I=s(3848),b=s(3081);function Y(o,i){1&o&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"BTN.ADD")))}function Q(o,i){1&o&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"BTN.EDIT")))}function K(o,i){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"Username is required"),e.qZA())}function j(o,i){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"Username isn't long enough, minimum of 3 characters"),e.qZA())}function G(o,i){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"Password is required"),e.qZA())}function $(o,i){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"Password isn't long enough, minimum of 6 characters"),e.qZA())}function W(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"mat-form-field",12)(1,"mat-label")(2,"mat-icon"),e._uU(3,"vpn_key"),e.qZA(),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"input",47),e.TgZ(7,"mat-icon",48),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.passwordHide=!a.passwordHide)}),e._uU(8),e.qZA(),e.YNc(9,G,2,0,"mat-error",1),e.YNc(10,$,2,0,"mat-error",1),e.qZA()}if(2&o){const t=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,5,"HTML.PASSWORD"),""),e.xp6(2),e.Q6J("type",t.passwordHide?"password":"text"),e.xp6(2),e.Oqu(t.passwordHide?"visibility":"visibility_off"),e.xp6(1),e.Q6J("ngIf",null==t.form.controls.password.errors?null:t.form.controls.password.errors.required),e.xp6(1),e.Q6J("ngIf",t.form.controls.password.hasError("minlength"))}}function X(o,i){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"First name is required"),e.qZA())}function z(o,i){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"Last name is required"),e.qZA())}function V(o,i){if(1&o&&(e.TgZ(0,"mat-option",27),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.BRAArbName," ")}}function ee(o,i){if(1&o&&(e.TgZ(0,"p")(1,"span"),e._uU(2,"Registration date:"),e.qZA(),e.TgZ(3,"i"),e._uU(4),e.ALo(5,"date"),e.qZA()()),2&o){const t=e.oxw();e.xp6(4),e.Oqu(e.xi3(5,1,t.user.EntryDate,"dd MMMM, yyyy 'at' HH:mm"))}}function te(o,i){if(1&o&&(e.TgZ(0,"p")(1,"span"),e._uU(2,"Last joined date:"),e.qZA(),e.TgZ(3,"i"),e._uU(4),e.ALo(5,"date"),e.ALo(6,"date"),e.qZA()()),2&o){const t=e.oxw();e.xp6(4),e.AsE("",e.xi3(5,2,t.user.joinedDate,"dd-MM-yyyy")," at ",e.xi3(6,5,t.user.joinedDate,"hh:MM"),"")}}function ie(o,i){1&o&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"BTN.SAVE")))}function oe(o,i){1&o&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"BTN.EDIT")))}class h{constructor(i,t,n,a,m){this.dialogRef=i,this.user=t,this.atlasService=n,this.snackBar=a,this.fb=m,this.passwordHide=!0,this.defaultCusImage=(new x.P).noImage,this.CusImageToUpload=null,this.curCOMId=g.N.comid,this.AllBranches=[]}handelEmpImgInput(i){this.CusImageToUpload=i.item(0);var t=new FileReader;t.onload=n=>{this.defaultCusImage=n.target.result},t.readAsDataURL(this.CusImageToUpload)}ngOnInit(){this.form=this.fb.group({id:null,username:[null,r.kI.compose([r.kI.required,r.kI.minLength(3)])],password:null,UserCode:null,first_name:null,last_name:null,UserBirthDate:null,gender:null,userPicture:null,work:this.fb.group({userJobName:null,branch_KeyField:null,is_superuser:!1,is_staff:!1,is_active:!0,is_employee:!0}),contacts:this.fb.group({email:[null,r.kI.required],UserMobile:[null,r.kI.required],userAddress:null}),social:this.fb.group({userFacebook:null,userTwitter:null,userGoogle:null}),settings:this.fb.group({isActive:!1,isDeleted:!1,EntryDate:null,joinedDate:null})}),this.user?(this.curPeriority=this.user.periorty,this.action="Patch",this.fillForm(this.user)):(this.curPeriority=0,this.action="Post",this.user=new U),this.getAllBranches(this.curCOMId,this.curPeriority)}fillForm(i){this.defaultCusImage=null!=i.userPicture?i.userPicture:(new x.P).noImage,this.is_delete=1==i.RowDelete,this.is_Employee="T"==i.is_employee,this.form.patchValue({id:i.id,username:i.username,password:i.password,UserCode:i.UserCode,first_name:i.first_name,last_name:i.last_name,UserBirthDate:i.UserBirthDate,gender:i.gender,userPicture:i.userPicture,work:{userJobName:i.userJobName,branch_KeyField:i.branch_KeyField,is_superuser:i.is_superuser,is_staff:i.is_staff,is_active:i.is_active,is_employee:this.is_Employee},contacts:{email:i.email,UserMobile:i.UserMobile,userAddress:i.userAddress},settings:{isDeleted:this.is_delete,EntryDate:i.EntryDate,joinedDate:i.joinedDate}})}getAllBranches(i,t){this.atlasService.getAllBranch(i,t).subscribe(n=>{this.AllBranches=n},n=>{this.snackBar.open("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0627\u0644\u0641\u0631\u0648\u0639","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})}onSave(){console.log("===***Press Save button***==="),this.form.valid&&this.dialogRef.close({event:this.action,data:this.form.value,empPic:this.CusImageToUpload})}close(){this.action="Cancel",console.log("===***Press Close button***==="),this.dialogRef.close({event:this.action})}}h.\u0275fac=function(i){return new(i||h)(e.Y36(c.so),e.Y36(c.WI),e.Y36(d.Z),e.Y36(y.ux),e.Y36(r.QS))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-employee-dialog"]],decls:135,vars:72,consts:[["mat-dialog-title",""],[4,"ngIf"],["mat-dialog-content",""],[1,"user-form",3,"formGroup"],[1,"vertical-tabs","tab-content-wrapped"],[3,"label"],["fxLayout","column",1,"form-field-outer"],["fxLayout","row","fxLayoutAlign","space-between center",1,"w-100"],[1,"w-50"],["matInput","","formControlName","username","required",""],["class","w-45",4,"ngIf"],["matInput","","formControlName","first_name","required",""],[1,"w-45"],["matInput","","formControlName","last_name","required",""],["formControlName","gender"],["value","M","labelPosition","after"],["value","F","labelPosition","after"],["matInput","","formControlName","UserBirthDate",3,"matDatepicker"],["matSuffix","",3,"for"],["birthday",""],[1,"p-2"],[2,"width","150px","height","200px",3,"src"],["formControlName","userPicture","name","userPicture","id","EmpPicupload","type","file","accept","image/*",1,"user-img",3,"change"],["formGroupName","work",3,"label"],["fxFlex","100","fxFlex.gt-sm","49.8",1,"px-1"],[1,"w-100"],["formControlName","branch_KeyField","id","emp_branchContOpSel","required","",3,"placeholder"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","userJobName"],["formControlName","is_superuser"],["formControlName","is_staff"],["formControlName","is_active"],["formControlName","is_employee"],["formGroupName","contacts",3,"label"],["matInput","","formControlName","email"],["matInput","","formControlName","UserMobile"],["matInput","","formControlName","userAddress"],["formGroupName","social",3,"label"],["matInput","","formControlName","userFacebook"],["matInput","","formControlName","userTwitter"],["matInput","","formControlName","userGoogle"],["formGroupName","settings",3,"label"],["formControlName","isDeleted"],["mat-dialog-actions",""],["mat-raised-button","","color","primary",3,"mat-dialog-close","disabled","click"],["mat-raised-button","","color","warn",3,"click"],["matInput","","formControlName","password","required","",3,"type"],["matSuffix","",3,"click"]],template:function(i,t){if(1&i&&(e.TgZ(0,"h1",0),e.YNc(1,Y,3,3,"span",1),e.YNc(2,Q,3,3,"span",1),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",2)(6,"form",3)(7,"mat-tab-group",4)(8,"mat-tab",5),e.ALo(9,"translate"),e.TgZ(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label")(14,"mat-icon"),e._uU(15,"person"),e.qZA(),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"input",9),e.YNc(19,K,2,0,"mat-error",1),e.YNc(20,j,2,0,"mat-error",1),e.qZA(),e.YNc(21,W,11,7,"mat-form-field",10),e.qZA(),e.TgZ(22,"div",7)(23,"mat-form-field",8)(24,"mat-label")(25,"mat-icon"),e._uU(26,"person"),e.qZA(),e._uU(27),e.ALo(28,"translate"),e.qZA(),e._UZ(29,"input",11),e.YNc(30,X,2,0,"mat-error",1),e.qZA(),e.TgZ(31,"mat-form-field",12)(32,"mat-label")(33,"mat-icon"),e._uU(34,"person"),e.qZA(),e._uU(35),e.ALo(36,"translate"),e.qZA(),e._UZ(37,"input",13),e.YNc(38,z,2,0,"mat-error",1),e.qZA()(),e.TgZ(39,"div",7)(40,"mat-radio-group",14)(41,"mat-radio-button",15),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.TgZ(44,"mat-radio-button",16),e._uU(45),e.ALo(46,"translate"),e.qZA()(),e.TgZ(47,"mat-form-field",12)(48,"mat-label"),e._uU(49),e.ALo(50,"translate"),e.qZA(),e._UZ(51,"input",17)(52,"mat-datepicker-toggle",18)(53,"mat-datepicker",null,19),e.qZA()(),e.TgZ(55,"div",20),e._UZ(56,"img",21),e.TgZ(57,"input",22),e.NdJ("change",function(a){return t.handelEmpImgInput(a.target.files)}),e.qZA()()()(),e.TgZ(58,"mat-tab",23),e.ALo(59,"translate"),e.TgZ(60,"div",6)(61,"div",7)(62,"div",24)(63,"mat-form-field",25)(64,"mat-label"),e._uU(65),e.ALo(66,"translate"),e.qZA(),e.TgZ(67,"mat-select",26),e.ALo(68,"translate"),e.TgZ(69,"mat-option",27),e._uU(70,"-"),e.qZA(),e.YNc(71,V,2,2,"mat-option",28),e.qZA()()(),e.TgZ(72,"div",24)(73,"mat-form-field",25)(74,"mat-label"),e._uU(75,"Job"),e.qZA(),e._UZ(76,"input",29),e.qZA()()(),e.TgZ(77,"div",7)(78,"mat-checkbox",30),e._uU(79,"is superuser"),e.qZA(),e.TgZ(80,"mat-checkbox",31),e._uU(81,"is staff"),e.qZA()(),e.TgZ(82,"div",7)(83,"mat-checkbox",32),e._uU(84,"is active"),e.qZA(),e.TgZ(85,"mat-checkbox",33),e._uU(86,"is employee"),e.qZA()()()(),e.TgZ(87,"mat-tab",34),e.ALo(88,"translate"),e.TgZ(89,"div",6)(90,"mat-form-field",25)(91,"mat-label"),e._uU(92),e.ALo(93,"translate"),e.qZA(),e._UZ(94,"input",35),e.qZA(),e.TgZ(95,"mat-form-field",25)(96,"mat-label"),e._uU(97),e.ALo(98,"translate"),e.qZA(),e._UZ(99,"input",36),e.qZA(),e.TgZ(100,"mat-form-field",25)(101,"mat-label"),e._uU(102),e.ALo(103,"translate"),e.qZA(),e._UZ(104,"input",37),e.qZA()()(),e.TgZ(105,"mat-tab",38),e.ALo(106,"translate"),e.TgZ(107,"div",6)(108,"mat-form-field",25)(109,"mat-label"),e._uU(110,"Facebook"),e.qZA(),e._UZ(111,"input",39),e.qZA(),e.TgZ(112,"mat-form-field",25)(113,"mat-label"),e._uU(114,"Twitter"),e.qZA(),e._UZ(115,"input",40),e.qZA(),e.TgZ(116,"mat-form-field",25)(117,"mat-label"),e._uU(118,"Google"),e.qZA(),e._UZ(119,"input",41),e.qZA()()(),e.TgZ(120,"mat-tab",42),e.ALo(121,"translate"),e.TgZ(122,"div",6)(123,"mat-checkbox",43),e._uU(124,"Blocked"),e.qZA(),e.YNc(125,ee,6,4,"p",1),e.YNc(126,te,7,8,"p",1),e.qZA()()()()(),e.TgZ(127,"div",44)(128,"div",7)(129,"button",45),e.NdJ("click",function(){return t.onSave()}),e.YNc(130,ie,3,3,"span",1),e.YNc(131,oe,3,3,"span",1),e.qZA(),e.TgZ(132,"button",46),e.NdJ("click",function(){return t.close()}),e._uU(133),e.ALo(134,"translate"),e.qZA()()()),2&i){const n=e.MAs(54);e.xp6(1),e.Q6J("ngIf",!t.user.id),e.xp6(1),e.Q6J("ngIf",t.user.id),e.xp6(1),e.hij(" ",e.lcZ(4,36,"HTML.EMPLOYEE"),""),e.xp6(3),e.Q6J("formGroup",t.form),e.xp6(2),e.s9C("label",e.lcZ(9,38,"HTML.TAB_BASIC")),e.xp6(8),e.hij(" ",e.lcZ(17,40,"HTML.USERNAME"),""),e.xp6(3),e.Q6J("ngIf",null==t.form.controls.username.errors?null:t.form.controls.username.errors.required),e.xp6(1),e.Q6J("ngIf",t.form.controls.username.hasError("minlength")),e.xp6(1),e.Q6J("ngIf",!t.user.id),e.xp6(6),e.hij(" ",e.lcZ(28,42,"HTML.FIRST_NAME"),""),e.xp6(3),e.Q6J("ngIf",null==t.form.controls.first_name.errors?null:t.form.controls.first_name.errors.required),e.xp6(5),e.hij(" ",e.lcZ(36,44,"HTML.LAST_NAME"),""),e.xp6(3),e.Q6J("ngIf",null==t.form.controls.last_name.errors?null:t.form.controls.last_name.errors.required),e.xp6(4),e.Oqu(e.lcZ(43,46,"HTML.MALE")),e.xp6(3),e.Oqu(e.lcZ(46,48,"HTML.FEMALE")),e.xp6(4),e.Oqu(e.lcZ(50,50,"HTML.BIRTH_DATE")),e.xp6(2),e.Q6J("matDatepicker",n),e.xp6(1),e.Q6J("for",n),e.xp6(4),e.Q6J("src",t.defaultCusImage,e.LSH),e.xp6(2),e.s9C("label",e.lcZ(59,52,"HTML.TAB_WORK")),e.xp6(7),e.hij(" ",e.lcZ(66,54,"HTML.BRANCH"),""),e.xp6(2),e.s9C("placeholder",e.lcZ(68,56,"HTML.BRANCH")),e.xp6(4),e.Q6J("ngForOf",t.AllBranches),e.xp6(16),e.s9C("label",e.lcZ(88,58,"HTML.TAB_CONTACTS")),e.xp6(5),e.Oqu(e.lcZ(93,60,"HTML.EMAIL")),e.xp6(5),e.Oqu(e.lcZ(98,62,"HTML.MOBILE")),e.xp6(5),e.Oqu(e.lcZ(103,64,"HTML.ADDRESS")),e.xp6(3),e.s9C("label",e.lcZ(106,66,"HTML.TAB_SOCIAL_LIFE")),e.xp6(15),e.s9C("label",e.lcZ(121,68,"HTML.TAB_SETTINGS")),e.xp6(5),e.Q6J("ngIf",t.user.id),e.xp6(1),e.Q6J("ngIf",t.user.id),e.xp6(3),e.Q6J("mat-dialog-close",t.form.value)("disabled",!t.form.valid),e.xp6(1),e.Q6J("ngIf",!t.user.id),e.xp6(1),e.Q6J("ngIf",t.user.id),e.xp6(2),e.Oqu(e.lcZ(134,70,"BTN.CANCEL"))}},dependencies:[u.sg,u.O5,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.sg,r.u,r.x0,_.xw,_.Wh,_.yH,q.ey,C.lW,R.oG,L.Mq,L.hl,L.nW,c.ZT,c.uh,c.xY,c.H8,E.Hw,N.Nt,f.KE,f.hX,f.TO,f.R9,w.VQ,w.U0,F.gD,I.uX,I.SP,u.uU,b.X$],styles:[".user-form[_ngcontent-%COMP%]   .form-field-outer[_ngcontent-%COMP%]{width:480px}.user-form[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]{margin-right:12px}"]});var ne=s(2887);class se{}var ae=s(3705),B=s(3546),J=s(4850),le=s(266);function re(o,i){if(1&o&&(e.TgZ(0,"mat-option",7),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.BRAArbName," ")}}function me(o,i){if(1&o&&(e.TgZ(0,"mat-option",7),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.BUIName," ")}}function ue(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",19)(1,"div",20),e._uU(2),e.qZA(),e.TgZ(3,"div",20),e._uU(4),e.qZA(),e.TgZ(5,"div",20)(6,"div",21)(7,"button",22),e.NdJ("click",function(){const m=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.remove(m.id))}),e.ALo(8,"translate"),e.TgZ(9,"mat-icon"),e._uU(10,"delete"),e.qZA()()()()()}if(2&o){const t=i.$implicit;e.xp6(2),e.Oqu(t.branch_Name),e.xp6(2),e.hij("",t.build_Name," "),e.xp6(3),e.s9C("matTooltip",e.lcZ(8,3,"BTN.REMOVE"))}}class T{constructor(i,t,n,a,m,p,He,ke){this.dialogRef=i,this.user=t,this.atlasService=n,this.unitsService=a,this.translateService=m,this.dialog=p,this.snackBar=He,this.fb=ke,this.passwordHide=!0,this.curCOMId=g.N.comid,this.AllBranches=[],this.AllBuilding=[]}ngOnInit(){this.dataForm=this.fb.group({branch_KeyField:[null,r.kI.required],build_KeyField:[null,r.kI.required]}),this.Builds=new se,this.curPeriority=this.user.periorty,this.action="Patch",this.getAllBranches(this.curCOMId,this.curPeriority),this.getEmpBuilds(),this.prepareMsgLanguage()}getEmpBuilds(){this.empBuildings=null,this.unitsService.getAllBuildingForUser(this.curCOMId,this.curPeriority,this.user.id).subscribe(i=>this.empBuildings=i)}getAllBranches(i,t){this.atlasService.getAllBranch(i,t).subscribe(n=>{this.AllBranches=n},n=>{this.snackBar.open("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0627\u0644\u0641\u0631\u0648\u0639","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})}getBuildings(i){this.getBuildingPerBranch(this.curCOMId,this.curPeriority,i.value)}getBuildingPerBranch(i,t,n){this.unitsService.getBuildingsPerBranch(i,t,n).subscribe(a=>{this.AllBuilding=a},a=>{this.snackBar.open("\u062e\u0637\u0623 \u0641\u064a \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0627\u0644\u0639\u0642\u0627\u0631\u0627\u062a \u0644\u0644\u0641\u0631\u0639","\xd7",{panelClass:"error",verticalPosition:"top",duration:3e3})})}mapFormValue_toTable(){this.Builds.user_KeyField=this.user.id,this.Builds.build_KeyField=this.dataForm.value.build_KeyField}onSave(){this.mapFormValue_toTable(),this.unitsService.addBuildForEmployee(this.Builds).subscribe(()=>{this.snackBar.open(this.dataSavedMsg,"\xd7",{panelClass:"success",verticalPosition:"top",duration:3e3}),this.getEmpBuilds()})}close(){this.action="Cancel",console.log("===***Press Close button***==="),this.dialogRef.close({event:this.action})}remove(i){this.dialog.open(ne.$,{maxWidth:"400px",data:{title:this.deletedTitleMsg,message:this.askToDeletedMsg}}).afterClosed().subscribe(n=>{n&&this.unitsService.deleteBuildingForUser(i).subscribe(()=>{this.snackBar.open(this.deletedMsg,"\xd7",{panelClass:"success",verticalPosition:"top",duration:3e3}),this.getEmpBuilds()})})}prepareMsgLanguage(){this.translateService.get("MESSAGE.DataSaved").subscribe(i=>{this.dataSavedMsg=i}),this.translateService.get("MESSAGE.SURE_DELETE").subscribe(i=>{this.askToDeletedMsg=i}),this.translateService.get("MESSAGE.DELETED").subscribe(i=>{this.deletedMsg=i}),this.translateService.get("MESSAGE.ConfirmAction").subscribe(i=>{this.deletedTitleMsg=i})}}T.\u0275fac=function(i){return new(i||T)(e.Y36(c.so),e.Y36(c.WI),e.Y36(d.Z),e.Y36(ae.X),e.Y36(b.sK),e.Y36(c.uw),e.Y36(y.ux),e.Y36(r.QS))},T.\u0275cmp=e.Xpm({type:T,selectors:[["app-emp-builds-dialog"]],decls:53,vars:32,consts:[["autocomplete","off",3,"formGroup"],["mat-dialog-content",""],["fxLayout","row wrap"],["fxLayout","row","fxLayoutAlign","space-between center",1,"w-100"],["fxFlex","100","fxFlex.gt-sm","49.8",1,"px-1"],["appearance","outline",1,"w-100"],["formControlName","branch_KeyField","id","branchContOpSel",3,"placeholder","selectionChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["formControlName","build_KeyField","id","build_OneOpSel",3,"placeholder"],["mat-dialog-actions",""],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","","color","warn",3,"click"],[1,"p-2"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"w-100","p-3"],[1,"mat-mdc-table","admin-table"],[1,"mat-mdc-header-row"],[1,"mat-mdc-header-cell"],["class","mat-mdc-row",4,"ngFor","ngForOf"],[1,"mat-mdc-row"],[1,"mat-mdc-cell"],[1,"p-2","actions"],["mat-mini-fab","","color","warn",1,"mx-1",3,"matTooltip","click"]],template:function(i,t){1&i&&(e.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"mat-form-field",5)(6,"mat-label"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"mat-select",6),e.NdJ("selectionChange",function(a){return t.getBuildings(a)}),e.ALo(10,"translate"),e.TgZ(11,"mat-option",7),e._uU(12,"-"),e.qZA(),e.YNc(13,re,2,2,"mat-option",8),e.qZA()()(),e.TgZ(14,"div",4)(15,"mat-form-field",5)(16,"mat-label"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"mat-select",9),e.ALo(20,"translate"),e.TgZ(21,"mat-option",7),e._uU(22,"-"),e.qZA(),e.YNc(23,me,2,2,"mat-option",8),e.qZA()()()()()(),e.TgZ(24,"div",10)(25,"div",3)(26,"button",11),e.NdJ("click",function(){return t.onSave()}),e.TgZ(27,"span"),e._uU(28),e.ALo(29,"translate"),e.qZA()(),e.TgZ(30,"button",12),e.NdJ("click",function(){return t.close()}),e._uU(31),e.ALo(32,"translate"),e.qZA()()(),e._UZ(33,"mat-divider"),e.TgZ(34,"div",13)(35,"mat-card")(36,"div",14)(37,"h2"),e._uU(38),e.ALo(39,"translate"),e.qZA()(),e._UZ(40,"mat-divider"),e.TgZ(41,"div",15)(42,"div",16)(43,"div",17)(44,"h2"),e._uU(45),e.ALo(46,"translate"),e.qZA()(),e.TgZ(47,"div",17)(48,"h2"),e._uU(49),e.ALo(50,"translate"),e.qZA()(),e._UZ(51,"div",17),e.qZA(),e.YNc(52,ue,11,5,"div",18),e.qZA()()()()),2&i&&(e.Q6J("formGroup",t.dataForm),e.xp6(7),e.hij(" ",e.lcZ(8,14,"HTML.BRANCH"),""),e.xp6(2),e.s9C("placeholder",e.lcZ(10,16,"HTML.BRANCH")),e.xp6(4),e.Q6J("ngForOf",t.AllBranches),e.xp6(4),e.hij(" ",e.lcZ(18,18,"HTML.BUILDING"),""),e.xp6(2),e.s9C("placeholder",e.lcZ(20,20,"HTML.BUILDING")),e.xp6(4),e.Q6J("ngForOf",t.AllBuilding),e.xp6(3),e.Q6J("disabled",!t.dataForm.valid),e.xp6(2),e.Oqu(e.lcZ(29,22,"BTN.SAVE")),e.xp6(3),e.Oqu(e.lcZ(32,24,"BTN.CANCEL")),e.xp6(7),e.Oqu(e.lcZ(39,26,"HTML.EmpBuildings")),e.xp6(7),e.hij(" ",e.lcZ(46,28,"HTML.BRANCH")," "),e.xp6(4),e.hij(" ",e.lcZ(50,30,"HTML.BUILDING")," "),e.xp6(3),e.Q6J("ngForOf",t.empBuildings))},dependencies:[u.sg,r._Y,r.JJ,r.JL,r.sg,r.u,_.xw,_.Wh,_.yH,q.ey,C.lW,C.nh,B.a8,c.xY,c.H8,E.Hw,f.KE,f.hX,J.d,F.gD,le.gM,b.X$],styles:[".user-form[_ngcontent-%COMP%]   .form-field-outer[_ngcontent-%COMP%]{width:680px}.user-form[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]{margin-right:12px}.auth[_ngcontent-%COMP%]{white-space:nowrap;padding:7px 14px;font-weight:500}"]});var ce=s(5783),pe=s(1182),O=s(9132),de=s(7465),ge=s(5298),D=s(4333),P=s(811),M=s(8255),_e=s(1572),fe=s(455),he=s(1419);function Ze(o,i){if(1&o&&(e.TgZ(0,"h3",39),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.AsE("",t.first_name," ",t.last_name,"")}}function xe(o,i){1&o&&(e.TgZ(0,"h3",39),e._uU(1,"User blocked"),e.qZA())}function Te(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,m=e.oxw(2);return e.KtG(m.openBuildingDialog(a))}),e.TgZ(1,"mat-icon"),e._uU(2,"business"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&o&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"BTN.Building")))}function ve(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,m=e.oxw(2);return e.KtG(m.openSecurityDialog(a))}),e.TgZ(1,"mat-icon"),e._uU(2,"security"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&o&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"BTN.Security")))}function Ae(o,i){if(1&o&&e._UZ(0,"img",40),2&o){const t=e.oxw().$implicit;e.ekj("blocked",1==t.RowDelete),e.Q6J("src",t.userPicture,e.LSH)}}function ye(o,i){if(1&o&&e._UZ(0,"img",41),2&o){const t=e.oxw().$implicit;e.ekj("blocked",1==t.RowDelete)}}function Ce(o,i){1&o&&(e.TgZ(0,"mat-icon",42),e._uU(1,"block"),e.qZA())}function be(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",18)(1,"mat-card")(2,"div",19),e.YNc(3,Ze,2,2,"h3",20),e.YNc(4,xe,2,0,"h3",20),e.TgZ(5,"button",21,22)(7,"mat-icon"),e._uU(8,"more_vert"),e.qZA()()(),e.TgZ(9,"mat-menu",23,24)(11,"span",25),e.NdJ("mouseleave",function(){e.CHM(t);const a=e.MAs(6);return e.KtG(a.closeMenu())}),e.TgZ(12,"button",26),e.NdJ("click",function(){const m=e.CHM(t).$implicit,p=e.oxw(2);return e.KtG(p.openUserDialog(m))}),e.TgZ(13,"mat-icon"),e._uU(14,"mode_edit"),e.qZA(),e.TgZ(15,"span"),e._uU(16),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"button",26),e.NdJ("click",function(){const m=e.CHM(t).$implicit,p=e.oxw(2);return e.KtG(p.deleteUser(m))}),e.TgZ(19,"mat-icon"),e._uU(20,"delete"),e.qZA(),e.TgZ(21,"span"),e._uU(22),e.ALo(23,"translate"),e.qZA()(),e._UZ(24,"mat-divider"),e.YNc(25,Te,6,3,"button",27),e.YNc(26,ve,6,3,"button",27),e.qZA()(),e.TgZ(27,"div",28)(28,"div",29)(29,"div",30),e.YNc(30,Ae,1,3,"img",31),e.YNc(31,ye,1,2,"img",32),e.YNc(32,Ce,2,0,"mat-icon",33),e.qZA(),e.TgZ(33,"div",34)(34,"mat-slide-toggle",35),e.NdJ("change",function(){const m=e.CHM(t).$implicit;return e.KtG(m.RowDelete=!m.RowDelete)}),e.qZA()()(),e.TgZ(35,"div",36)(36,"p",37)(37,"mat-icon",38),e._uU(38,"card_membership"),e.qZA(),e.TgZ(39,"span"),e._uU(40),e.qZA()(),e.TgZ(41,"p",37)(42,"mat-icon",38),e._uU(43,"mail_outline"),e.qZA(),e.TgZ(44,"span"),e._uU(45),e.qZA()(),e.TgZ(46,"p",37)(47,"mat-icon",38),e._uU(48,"call"),e.qZA(),e.TgZ(49,"span"),e._uU(50),e.qZA()(),e.TgZ(51,"p",37)(52,"mat-icon",38),e._uU(53,"location_on"),e.qZA(),e.TgZ(54,"span"),e._uU(55),e.qZA()(),e.TgZ(56,"p",37)(57,"mat-icon",38),e._uU(58,"date_range"),e.qZA(),e.TgZ(59,"span"),e._uU(60),e.ALo(61,"date"),e.qZA()()()()()()}if(2&o){const t=i.$implicit,n=e.MAs(10),a=e.oxw(2);e.xp6(3),e.Q6J("ngIf",0==t.RowDelete),e.xp6(1),e.Q6J("ngIf",1==t.RowDelete),e.xp6(1),e.Q6J("matMenuTriggerFor",n),e.xp6(11),e.Oqu(e.lcZ(17,18,"BTN.EDIT")),e.xp6(6),e.Oqu(e.lcZ(23,20,"BTN.REMOVE")),e.xp6(3),e.Q6J("ngIf",a.account.is_superuser),e.xp6(1),e.Q6J("ngIf",a.account.is_superuser),e.xp6(4),e.Q6J("ngIf",t.userPicture),e.xp6(1),e.Q6J("ngIf",!t.userPicture),e.xp6(1),e.Q6J("ngIf",1==t.RowDelete),e.xp6(2),e.Q6J("checked",1==t.RowDelete),e.xp6(1),e.ekj("blocked",1==t.RowDelete),e.xp6(5),e.Oqu(t.userJobName),e.xp6(5),e.Oqu(t.email),e.xp6(5),e.Oqu(t.UserMobile),e.xp6(5),e.Oqu(t.userAddress),e.xp6(5),e.hij("Joined ",e.xi3(61,22,t.joinedDate,"yyyy-MM-dd hh:MM"),"")}}const S=function(o,i){return{itemsPerPage:o,currentPage:i}};function Ue(o,i){if(1&o&&(e.TgZ(0,"div",16),e.YNc(1,be,62,25,"div",17),e.ALo(2,"paginate"),e.ALo(3,"EmpSearchPipe"),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,e.xi3(3,4,t.users,t.searchText),e.WLB(7,S,t.count,t.page)))}}function Le(o,i){if(1&o&&(e.TgZ(0,"h3",39),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.AsE("",t.first_name," ",t.last_name,"")}}function Ee(o,i){1&o&&(e.TgZ(0,"h3",39),e._uU(1,"User blocked"),e.qZA())}function De(o,i){if(1&o&&e._UZ(0,"img",40),2&o){const t=e.oxw().$implicit;e.ekj("blocked",1==t.RowDelete),e.Q6J("src",t.userPicture,e.LSH)}}function Me(o,i){if(1&o&&e._UZ(0,"img",51),2&o){const t=e.oxw().$implicit;e.ekj("blocked",1==t.RowDelete)}}function qe(o,i){1&o&&(e.TgZ(0,"mat-icon",42),e._uU(1,"block"),e.qZA())}function Ne(o,i){1&o&&(e.TgZ(0,"mat-icon",38),e._uU(1,"person_outline"),e.qZA())}function we(o,i){1&o&&(e.TgZ(0,"mat-icon",38),e._uU(1,"person"),e.qZA())}function Fe(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",44)(1,"mat-card")(2,"div",19),e.YNc(3,Le,2,2,"h3",20),e.YNc(4,Ee,2,0,"h3",20),e.TgZ(5,"button",21,22)(7,"mat-icon"),e._uU(8,"more_vert"),e.qZA()()(),e.TgZ(9,"mat-menu",23,24)(11,"span",25),e.NdJ("mouseleave",function(){e.CHM(t);const a=e.MAs(6);return e.KtG(a.closeMenu())}),e.TgZ(12,"button",26),e.NdJ("click",function(){const m=e.CHM(t).$implicit,p=e.oxw(2);return e.KtG(p.openUserDialog(m))}),e.TgZ(13,"mat-icon"),e._uU(14,"mode_edit"),e.qZA(),e.TgZ(15,"span"),e._uU(16,"Edit"),e.qZA()(),e.TgZ(17,"button",26),e.NdJ("click",function(){const m=e.CHM(t).$implicit,p=e.oxw(2);return e.KtG(p.deleteUser(m))}),e.TgZ(18,"mat-icon"),e._uU(19,"delete"),e.qZA(),e.TgZ(20,"span"),e._uU(21,"Delete"),e.qZA()()()(),e.TgZ(22,"div",28)(23,"div",45)(24,"div",30),e.YNc(25,De,1,3,"img",31),e.YNc(26,Me,1,2,"img",46),e.YNc(27,qe,2,0,"mat-icon",33),e.qZA(),e.TgZ(28,"div",34)(29,"mat-slide-toggle",35),e.NdJ("change",function(){const m=e.CHM(t).$implicit;return e.KtG(m.RowDelete=!m.RowDelete)}),e.qZA()()(),e.TgZ(30,"div",47)(31,"div",48)(32,"p",37)(33,"mat-icon",38),e._uU(34,"card_membership"),e.qZA(),e.TgZ(35,"span"),e._uU(36),e.qZA()()(),e.TgZ(37,"div",48)(38,"p",37)(39,"mat-icon",38),e._uU(40,"mail_outline"),e.qZA(),e.TgZ(41,"span"),e._uU(42),e.qZA()(),e.TgZ(43,"p",37)(44,"mat-icon",38),e._uU(45,"call"),e.qZA(),e.TgZ(46,"span"),e._uU(47),e.qZA()(),e.TgZ(48,"p",37)(49,"mat-icon",38),e._uU(50,"location_on"),e.qZA(),e.TgZ(51,"span"),e._uU(52),e.qZA()()(),e.TgZ(53,"div",49)(54,"p",37)(55,"mat-icon",38),e._uU(56,"event_available"),e.qZA(),e.TgZ(57,"span"),e._uU(58),e.ALo(59,"date"),e.qZA()(),e.TgZ(60,"p",37)(61,"mat-icon",38),e._uU(62,"date_range"),e.qZA(),e.TgZ(63,"span"),e._uU(64),e.ALo(65,"date"),e.qZA()(),e.TgZ(66,"p",37),e.YNc(67,Ne,2,0,"mat-icon",50),e.YNc(68,we,2,0,"mat-icon",50),e.TgZ(69,"span"),e._uU(70),e.qZA()()()()()()()}if(2&o){const t=i.$implicit,n=e.MAs(10);e.xp6(3),e.Q6J("ngIf",0==t.RowDelete),e.xp6(1),e.Q6J("ngIf",1==t.RowDelete),e.xp6(1),e.Q6J("matMenuTriggerFor",n),e.xp6(20),e.Q6J("ngIf",t.userPicture),e.xp6(1),e.Q6J("ngIf",!t.userPicture),e.xp6(1),e.Q6J("ngIf",1==t.RowDelete),e.xp6(2),e.Q6J("checked",1==t.RowDelete),e.xp6(1),e.ekj("blocked",1==t.RowDelete),e.xp6(6),e.Oqu(t.userJobName),e.xp6(6),e.Oqu(t.email),e.xp6(5),e.Oqu(t.UserMobile),e.xp6(5),e.Oqu(t.userAddress),e.xp6(6),e.hij("Registration ",e.xi3(59,18,t.EntryDate,"dd MMMM, yyyy 'at' HH:mm"),""),e.xp6(6),e.hij("Joined ",e.xi3(65,21,t.joinedDate,"dd MMMM, yyyy 'at' HH:mm"),""),e.xp6(3),e.Q6J("ngIf",1==t.RowDelete),e.xp6(1),e.Q6J("ngIf",0==t.RowDelete),e.xp6(2),e.Oqu(1==t.RowDelete?"Blocked":"Active")}}function Ie(o,i){if(1&o&&(e.TgZ(0,"div",16),e.YNc(1,Fe,71,24,"div",43),e.ALo(2,"paginate"),e.ALo(3,"EmpSearchPipe"),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,e.xi3(3,4,t.users,t.searchText),e.WLB(7,S,t.count,t.page)))}}function Be(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",16)(1,"div",44)(2,"mat-card",52)(3,"pagination-controls",53),e.NdJ("pageChange",function(a){e.CHM(t);const m=e.oxw();return e.KtG(m.onPageChanged(a))}),e.qZA()()()()}}function Je(o,i){1&o&&(e.TgZ(0,"div",54),e._UZ(1,"mat-spinner",55),e.qZA())}class v{constructor(i,t,n,a,m,p){this.appSettings=i,this.dialog=t,this.router=n,this.global=a,this.localStore=m,this.usersService=p,this.count=9,this.curCOMId=g.N.comid,this.account=new ce.n,this.employeesForDisplay={id:void 0,username:void 0,password:void 0,UserCode:void 0,first_name:void 0,last_name:void 0,UserBirthDate:void 0,EntryDate:void 0,joinedDate:void 0,UserMobile:void 0,email:void 0,is_superuser:void 0,is_staff:void 0,is_active:void 0,is_employee:void 0,is_teacher:void 0,periorty:void 0,COMId:void 0,branch_KeyField:void 0,userPicture:void 0,gender:void 0,RowDelete:void 0,LoginFrom:void 0,userJobName:void 0,userFacebook:void 0,userTwitter:void 0,userGoogle:void 0,userAddress:void 0,is_from_customer_table:void 0,customer_KeyField:void 0},this.settings=this.appSettings.settings}ngOnInit(){this.userSUb=this.global.user.subscribe(i=>{this.account=i}),this.localStore.getItem("token")&&this.localStore.getItem("account")?(this.global.me=JSON.parse(this.localStore.getItem("account")),this.curUserData=JSON.parse(this.localStore.getItem("account")),this.getUsers()):this.router.navigate(["/sign-in"])}getUsers(){this.users=null,this.curUserData.is_superuser?this.usersService.getAllStaff().subscribe(i=>this.users=i):this.usersService.getStaffPerBranch(this.curCOMId,this.account.periorty,this.curUserData.branch_KeyField).subscribe(i=>this.users=i)}addUser(i,t){console.log("====inside addUser== ==="),this.usersService.addEmployee(i,t).subscribe(n=>this.getUsers())}updateUser(i,t){console.log("====inside updateTenant====="),this.usersService.editEmployee(i,t).subscribe(n=>this.getUsers())}deleteUser(i){this.usersService.deleteOneUser(i.id).subscribe(t=>this.getUsers())}onPageChanged(i){this.page=i,this.getUsers(),window.scrollTo(0,0)}openUserDialog(i){this.dialog.open(h,{data:i}).afterClosed().subscribe(n=>{"Cancel"==n.event||("Patch"==n.event?(this.mapFormvalue_to_EmpClass(n.data,"Patch"),this.updateUser(this.employeesForDisplay,n.empPic)):"Post"==n.event&&(this.mapFormvalue_to_EmpClass(n.data,"Post"),this.addUser(this.employeesForDisplay,n.empPic)))})}openBuildingDialog(i){this.dialog.open(T,{data:i,panelClass:["theme-dialog"],autoFocus:!1,direction:this.settings.rtl?"rtl":"ltr"}).afterClosed().subscribe(n=>{})}openSecurityDialog(i){this.dialog.open(h,{data:i}).afterClosed().subscribe(n=>{"Cancel"==n.event||("Patch"==n.event?(this.mapFormvalue_to_EmpClass(n.data,"Patch"),this.updateUser(this.employeesForDisplay,n.empPic)):"Post"==n.event&&(this.mapFormvalue_to_EmpClass(n.data,"Post"),this.addUser(this.employeesForDisplay,n.empPic)))})}mapFormvalue_to_EmpClass(i,t){console.log(i),console.log("=================formValue==========================");const n=new u.uU("en-GB").transform(i.UserBirthDate,"dd/MM/yyyy");this.is_Employee=i.work.is_employee?"T":"F",this.empDeleted=i.settings.isDeleted?1:0,this.employeesForDisplay.id=i.id,this.employeesForDisplay.username=i.username,this.employeesForDisplay.password=i.password,this.employeesForDisplay.UserCode=i.UserCode,this.employeesForDisplay.first_name=i.first_name,this.employeesForDisplay.last_name=i.last_name,this.employeesForDisplay.userPicture=i.userPicture,this.employeesForDisplay.gender=i.gender,null!=i.UserBirthDate&&(this.employeesForDisplay.UserBirthDate=n),this.employeesForDisplay.userJobName=i.work.userJobName,this.employeesForDisplay.branch_KeyField=i.work.branch_KeyField,this.employeesForDisplay.is_superuser=i.work.is_superuser,this.employeesForDisplay.is_staff=i.work.is_staff,this.employeesForDisplay.is_active=i.work.is_active,this.employeesForDisplay.is_employee=this.is_Employee,this.employeesForDisplay.email=i.contacts.email,this.employeesForDisplay.UserMobile=i.contacts.UserMobile,this.employeesForDisplay.userAddress=i.contacts.userAddress,this.employeesForDisplay.RowDelete=this.empDeleted}}v.\u0275fac=function(i){return new(i||v)(e.Y36(pe.d),e.Y36(c.uw),e.Y36(O.F0),e.Y36(de.U),e.Y36(ge.C),e.Y36(l.K))},v.\u0275cmp=e.Xpm({type:v,selectors:[["app-employee-list"]],features:[e._Bn([l.K])],decls:27,vars:10,consts:[["fxLayout","row","fxLayoutAlign","space-between center",1,"p-2"],["fxLayout","row"],["appearance","legacy"],["controls","matButtonToggleGroup"],["value","add",3,"click"],["value","search"],[1,"user-search"],[1,"user-search-input"],["matInput","","name","search","autocomplete","off",3,"placeholder","ngModel","ngModelChange"],["fxLayout","row","fxLayoutAlign","space-between center"],["appearance","legacy","value","grid"],["viewType","matButtonToggleGroup"],["value","grid"],["value","list"],["fxLayout","row wrap",4,"ngIf"],["fxLayout","column","fxLayoutAlign","center center","class","user-spinner",4,"ngIf"],["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-md","33.3","fxFlex.md","50","class","p-2",4,"ngFor","ngForOf"],["fxFlex","100","fxFlex.gt-md","33.3","fxFlex.md","50",1,"p-2"],["fxLayout","row","fxLayoutAlign","space-between center",1,"bg-primary"],["class","user-name",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor"],["menuTrigger","matMenuTrigger"],["xPosition","before","overlapTrigger","true"],["menu","matMenu"],[3,"mouseleave"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"click",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-around center",1,"user-content"],["fxFlex","30","fxLayout","column","fxLayoutAlign","center center"],[1,"user-img"],["class","transition-2",3,"src","blocked",4,"ngIf"],["src","assets/images/others/user.jpg","class","transition-2",3,"blocked",4,"ngIf"],["color","warn",4,"ngIf"],[1,"user-social"],["color","primary",3,"checked","change"],["fxFlex","70","fxLayout","column",1,"user-details","transition-2"],["fxLayout","row","fxLayoutAlign","start center"],[1,"text-muted"],[1,"user-name"],[1,"transition-2",3,"src"],["src","assets/images/others/user.jpg",1,"transition-2"],["color","warn"],["fxFlex","100","class","p-2",4,"ngFor","ngForOf"],["fxFlex","100",1,"p-2"],["fxFlex","20","fxFlex.xs","30","fxLayout","column","fxLayoutAlign","center center"],["src","assets/img/users/default-user.jpg","class","transition-2",3,"blocked",4,"ngIf"],["fxFlex","80","fxFlex.xs","70","fxLayout","row","fxLayout.xs","column",1,"user-details","transition-2"],["fxFlex","30","fxFlex.xs","100","fxLayout","column"],["fxFlex","40","fxFlex.xs","100","fxLayout","column"],["class","text-muted",4,"ngIf"],["src","assets/img/users/default-user.jpg",1,"transition-2"],[1,"text-center"],["autoHide","true","maxSize","5",1,"product-pagination",3,"pageChange"],["fxLayout","column","fxLayoutAlign","center center",1,"user-spinner"],["color","primary"]],template:function(i,t){if(1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-button-toggle-group",2,3)(4,"mat-button-toggle",4),e.NdJ("click",function(){return t.openUserDialog(null)}),e.TgZ(5,"mat-icon"),e._uU(6,"person_add"),e.qZA()(),e.TgZ(7,"mat-button-toggle",5)(8,"mat-icon"),e._uU(9,"search"),e.qZA()()()(),e.TgZ(10,"form",6)(11,"mat-form-field",7)(12,"input",8),e.NdJ("ngModelChange",function(a){return t.searchText=a}),e.ALo(13,"translate"),e.qZA()()(),e.TgZ(14,"div",9)(15,"mat-button-toggle-group",10,11)(17,"mat-button-toggle",12)(18,"mat-icon"),e._uU(19,"view_module"),e.qZA()(),e.TgZ(20,"mat-button-toggle",13)(21,"mat-icon"),e._uU(22,"view_list"),e.qZA()()()()(),e.YNc(23,Ue,4,10,"div",14),e.YNc(24,Ie,4,10,"div",14),e.YNc(25,Be,4,0,"div",14),e.YNc(26,Je,2,0,"div",15)),2&i){const n=e.MAs(3),a=e.MAs(16);e.xp6(10),e.ekj("show","search"==n.value),e.xp6(2),e.s9C("placeholder",e.lcZ(13,8,"HTML.SEARCH_Employee")),e.Q6J("ngModel",t.searchText),e.xp6(11),e.Q6J("ngIf","grid"==a.value),e.xp6(1),e.Q6J("ngIf","list"==a.value),e.xp6(1),e.Q6J("ngIf",t.users),e.xp6(1),e.Q6J("ngIf",!t.users)}},dependencies:[u.sg,u.O5,r._Y,r.Fj,r.JJ,r.JL,r.On,r.F,D.LS,_.xw,_.Wh,_.yH,C.RK,P.A9,P.Yi,B.a8,E.Hw,N.Nt,f.KE,J.d,M.VK,M.OP,M.p6,_e.Ou,fe.Rr,u.uU,D._s,b.X$,he.mo],styles:[".user-name{padding:0 12px;font-weight:400}.user-content{padding:10px}.user-content .user-img{position:relative}.user-content .user-img img{border-radius:50%;width:80px;height:80px}.user-content .user-img img.blocked{opacity:.5}.user-content .user-img .mat-icon{position:absolute;top:-8px;left:-8px;font-size:96px;height:96px;width:96px}.user-content .mat-mdc-slide-toggle{margin-top:15px}.user-content .user-details span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.user-content .user-details .mat-icon{padding:2px 10px}.user-content .user-details.blocked{opacity:.5}.user-search{width:0;overflow:hidden;transition:.3s}.user-search .mat-mdc-form-field{width:100%!important;text-align:center!important}.user-search .mat-mdc-form-field .mat-mdc-form-field-infix{min-height:36px;padding:8px 0!important}.user-search .mat-mdc-form-field .mat-mdc-form-field-subscript-wrapper{display:none}.user-search .mat-mdc-input-element{text-align:center}.user-search.show{width:100%;overflow:visible}.user-spinner{position:absolute;inset:0}.mat-mdc-card{overflow:hidden}\n"],encapsulation:2});var Oe=s(529),Pe=s(589),Se=s(9045);const H=[{path:"",redirectTo:"employee",pathMatch:"full"},{path:"employee",component:v,pathMatch:"full",data:{breadcrumb:"Employees"}}];class Z{}Z.\u0275fac=function(i){return new(i||Z)},Z.\u0275mod=e.oAB({type:Z}),Z.\u0275inj=e.cJS({imports:[u.ez,Oe.JF,O.Bz.forChild(H),r.u5,r.UX,D.JX,Pe.m,Se.D]})},2887:(k,A,s)=>{s.d(A,{$:()=>g});var u=s(5412),l=s(4650),c=s(1576),r=s(4859),U=s(3081);class g{constructor(e,d){this.dialogRef=e,this.data=d}ngOnInit(){}onConfirm(){this.dialogRef.close(!0)}onDismiss(){this.dialogRef.close(!1)}}g.\u0275fac=function(e){return new(e||g)(l.Y36(u.so),l.Y36(u.WI))},g.\u0275cmp=l.Xpm({type:g,selectors:[["app-confirm-dialog"]],decls:13,vars:8,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["fxLayout","row","fxLayoutAlign","space-between center",1,"w-100"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,d){1&e&&(l.TgZ(0,"h1",0),l._uU(1),l.qZA(),l.TgZ(2,"div",1)(3,"p"),l._uU(4),l.qZA()(),l.TgZ(5,"div",2)(6,"div",3)(7,"button",4),l.NdJ("click",function(){return d.onDismiss()}),l._uU(8),l.ALo(9,"translate"),l.qZA(),l.TgZ(10,"button",5),l.NdJ("click",function(){return d.onConfirm()}),l._uU(11),l.ALo(12,"translate"),l.qZA()()()),2&e&&(l.xp6(1),l.Oqu(null==d.data?null:d.data.title),l.xp6(3),l.Oqu(null==d.data?null:d.data.message),l.xp6(4),l.Oqu(l.lcZ(9,4,"BTN.NO")),l.xp6(3),l.Oqu(l.lcZ(12,6,"BTN.YES")))},dependencies:[c.xw,c.Wh,r.lW,u.uh,u.xY,u.H8,U.X$]})}}]);